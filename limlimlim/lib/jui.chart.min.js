!function(a,b,c){var d={jquery:a},e={},f={},g=b.navigator,h={template:{evaluate:/<\!([\s\S]+?)\!>/g,interpolate:/<\!=([\s\S]+?)\!>/g,escape:/<\!-([\s\S]+?)\!>/g},logUrl:"tool/debug.html"},i=function(a,b){function c(b,c){var d=a[b];a[b]=a[c],a[c]=d}function d(b,d,f){var g=d,h=a[b];c(b,f);for(var i=d;f>i;i++)(e(a[i],h)||!e(h,a[i])&&i%2==1)&&(c(i,g),g++);return c(f,g),g}var e=null,a=b?a.slice(0):a;this.setCompare=function(a){e=a},this.run=function(b,c){var e=null;return"number"!=typeof b&&(b=0),"number"!=typeof c&&(c=a.length-1),c>b&&(e=b+Math.ceil(.5*(c-b)),newPivot=d(e,b,c),this.run(b,newPivot-1),this.run(newPivot+1,c)),a}},j=function(){this.isIndexDepth=function(a){return"string"==typeof a&&-1!=a.indexOf(".")?!0:!1},this.getIndexList=function(a){var b=[],c=""+a;if(1==c.length)b[0]=parseInt(a);else for(var d=c.split("."),e=0;e<d.length;e++)b[e]=parseInt(d[e]);return b},this.changeIndex=function(a,b,c){for(var d=this.getIndexList(c).length,e=this.getIndexList(a),f=this.getIndexList(b),g=0;d>g;g++)e.shift();return f.concat(e).join(".")},this.getNextIndex=function(a){var b=this.getIndexList(a),c=b.pop()+1;return b.push(c),b.join(".")},this.getParentIndex=function(a){if(!this.isIndexDepth(a))return null;var b=this.getIndexList(a);return 2==b.length?""+b[0]:b.length>2?(b.pop(),b.join(".")):void 0}},k={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=k._utf8_encode(a);j<a.length;)b=a.charCodeAt(j++),c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),i=i+k._keyStr.charAt(e)+k._keyStr.charAt(f)+k._keyStr.charAt(g)+k._keyStr.charAt(h);return i},decode:function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");j<a.length;)e=k._keyStr.indexOf(a.charAt(j++)),f=k._keyStr.indexOf(a.charAt(j++)),g=k._keyStr.indexOf(a.charAt(j++)),h=k._keyStr.indexOf(a.charAt(j++)),b=e<<2|f>>4,c=(15&f)<<4|g>>2,d=(3&g)<<6|h,i+=String.fromCharCode(b),64!=g&&(i+=String.fromCharCode(c)),64!=h&&(i+=String.fromCharCode(d));return i=k._utf8_decode(i)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b=String.fromCharCode(239)+String.fromCharCode(187)+String.fromCharCode(191),c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d=c1=c2=0;c<a.length;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c++):d>191&&224>d?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&c2),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&c2)<<6|63&c3),c+=3);return b}},l=function(a,b,c){var d={},e={},f=Array.prototype,g=f.slice,i=f.forEach,j={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var k in j)j[j[k]]=k;var l=/\\|'|\r|\n|\t|\u2028|\u2029/g,m=/\\(\\|'|r|n|t|u2028|u2029)/g,n=/.^/,o=function(a){return a.replace(m,function(a,b){return j[b]})},p=d.each=d.forEach=function(a,b,c){if(null!=a)if(i&&a.forEach===i)a.forEach(b,c);else if(a.length===+a.length){for(var f=0,g=a.length;g>f;f++)if(f in a&&b.call(c,a[f],f,a)===e)return}else for(var h in a)if(d.has(a,h)&&b.call(c,a[h],h,a)===e)return};return d.has=function(a,b){return hasOwnProperty.call(a,b)},d.defaults=function(a){return p(g.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])}),a},d.template=function(a,b,c){c=d.defaults(c||{},h.template);var e="__p+='"+a.replace(l,function(a){return"\\"+j[a]}).replace(c.escape||n,function(a,b){return"'+\n_.escape("+o(b)+")+\n'"}).replace(c.interpolate||n,function(a,b){return"'+\n("+o(b)+")+\n'"}).replace(c.evaluate||n,function(a,b){return"';\n"+o(b)+"\n;__p+='"})+"';\n";c.variable||(e="with(obj||{}){\n"+e+"}\n"),e="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+e+"return __p;\n";var f=new Function(c.variable||"obj","_",e);if(b)return f(b,d);var g=function(a){return f.call(this,a,d)};return g.source="function("+(c.variable||"obj")+"){\n"+e+"}",g},d.template(a,b,c)},m=d["util.base"]={browser:{webkit:"undefined"!=typeof b.webkitURL?!0:!1,mozilla:"undefined"!=typeof b.mozInnerScreenX?!0:!1,msie:-1!=g.userAgent.indexOf("Trident")?!0:!1},isTouch:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(g.userAgent),scrollWidth:function(){var b=a(".jui").size()>0&&this.browser.webkit?!0:!1,c=a('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div></div>');a("body").append(c);var d=a("div",c).innerWidth();c.css("overflow-y","auto");var e=a("div",c).innerWidth();return a(c).remove(),b?10:d-e},inherit:function(a,b){this.typeCheck("function",a)&&this.typeCheck("function",b)&&(a.parent=b,a.prototype=new b,a.prototype.constructor=a,a.prototype.parent=a.prototype,a.prototype["super"]=function(a,b){return this.constructor.prototype[a].apply(this,b)})},extend:function(a,b,c){function d(a){return m.typeCheck("object",a)}if(this.typeCheck("object",a)||(a={}),!this.typeCheck("object",b))return a;for(var e in b)c===!0?d(a[e])?this.extend(a[e],b[e],c):this.typeCheck("undefined",a[e])&&(a[e]=b[e]):d(a[e])?this.extend(a[e],b[e],c):a[e]=b[e];return a},pxToInt:function(a){return"string"==typeof a&&-1!=a.indexOf("px")?parseInt(a.split("px").join("")):a},clone:function(b){var c=a.isArray(b)?[]:{};for(var d in b)this.typeCheck("object",b[d])?c[d]=this.clone(b[d]):c[d]=b[d];return c},deepClone:function(a,b){var c=null;if(b=b||{},this.typeCheck("array",a)){c=new Array(a.length);for(var d=0,e=a.length;e>d;d++)c[d]=this.deepClone(a[d],b)}else if(this.typeCheck("date",a))c=a;else if(this.typeCheck("object",a)){c={};for(var f in a)b[f]?c[f]=a[f]:c[f]=this.deepClone(a[f],b)}else c=a;return c},sort:function(a){return new i(a)},runtime:function(a,b){var c=(new Date).getTime();b();var d=(new Date).getTime();console.log(a+" : "+(d-c)+"ms")},template:function(a,b){return b?l(a,b):l(a)},resize:function(c,d){var e=function(){var a=0;return function(){clearTimeout(a),a=setTimeout(c,d)}}();a(b).resize(function(){e()})},index:function(){return new j},chunk:function(a,b){for(var c=[],d=0,e=a.length;e>d;)c.push(a.slice(d,d+=b));return c},typeCheck:function(a,b){function c(a,b){return"string"!=typeof a?!1:"string"==a?"string"==typeof b:"integer"==a?"number"==typeof b&&b%1==0:"float"==a?"number"==typeof b&&b%1!=0:"number"==a?"number"==typeof b:"boolean"==a?"boolean"==typeof b:"undefined"==a?"undefined"==typeof b:"null"==a?null===b:"array"==a?b instanceof Array:"date"==a?b instanceof Date:"function"==a?"function"==typeof b:"object"==a?!("object"!=typeof b||null===b||b instanceof Array||b instanceof Date||b instanceof RegExp):!1}if("object"==typeof a&&a.length){for(var d=a,e=0;e<d.length;e++)if(c(d[e],b))return!0;return!1}return c(a,b)},typeCheckObj:function(a,b){if("object"==typeof a){var c=this;for(var d in a){var e=a[d];"function"==typeof e&&!function(d,e){a[d]=function(){for(var a=arguments,f=b[d],g=0;g<a.length;g++)if(!c.typeCheck(f[g],a[g]))throw new Error("JUI_CRITICAL_ERR: the "+g+"th parameter is not a "+f[g]+" ("+name+")");return e.apply(this,a)}}(d,e)}}},dataToCsv:function(a,b,c){for(var d="",e=c?c:b.length,f=-1;e>f;f++){for(var g=[],h=0;h<a.length;h++)if(a[h])if(-1==f)g.push('"'+a[h]+'"');else{var i=b[f][a[h]];g.push(isNaN(i)?'"'+i+'"':i)}d+=g.join(",")+"\n"}return d},dataToCsv2:function(b){for(var c="",d=a.extend({fields:null,rows:null,names:null,count:this.typeCheck("integer",b.count)?b.count:b.rows.length},b),e=-1;e<d.count;e++){for(var f=[],g=0;g<d.fields.length;g++)if(d.fields[g])if(-1==e)f.push(d.names&&d.names[g]?'"'+d.names[g]+'"':'"'+d.fields[g]+'"');else{var h=d.rows[e][d.fields[g]];f.push(isNaN(h)?'"'+h+'"':h)}c+=f.join(",")+"\n"}return c},fileToCsv:function(a,b){var c=new FileReader;c.onload=function(a){"function"==typeof b&&b(a.target.result)},c.readAsText(a)},csvToBase64:function(a){return"data:application/octet-stream;base64,"+k.encode(a)},csvToData:function(b,c,d){for(var e=[],f=c.split("\n"),g=1;g<f.length;g++)if(""!=f[g]){for(var h=f[g].split(","),i={},j=0;j<b.length;j++)i[b[j]]=h[j],this.startsWith(h[j],'"')&&this.endsWith(h[j],'"')?i[b[j]]=h[j].split('"').join(""):i[b[j]]=h[j],-1!=a.inArray(b[j],d)&&(i[b[j]]=parseFloat(h[j]));e.push(i)}return e},getCsvFields:function(a,b){for(var c=this.typeCheck("array",b)?b:a,d=0;d<c.length;d++)isNaN(c[d])||(c[d]=a[c[d]]);return c},svgToBase64:function(a){return"data:image/svg+xml;base64,"+k.encode(a)},dateFormat:function(a,b,c){function d(a,b){var c=a+"";for(b=b||2;c.length<b;)c="0"+c;return c}var e=["\x00","January","February","March","April","May","June","July","August","September","October","November","December"],f=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g=["","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["","Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=c?a.getUTCFullYear():a.getFullYear();b=b.replace(/(^|[^\\])yyyy+/g,"$1"+i),b=b.replace(/(^|[^\\])yy/g,"$1"+i.toString().substr(2,2)),b=b.replace(/(^|[^\\])y/g,"$1"+i);var j=(c?a.getUTCMonth():a.getMonth())+1;b=b.replace(/(^|[^\\])MMMM+/g,"$1"+e[0]),b=b.replace(/(^|[^\\])MMM/g,"$1"+f[0]),b=b.replace(/(^|[^\\])MM/g,"$1"+d(j)),b=b.replace(/(^|[^\\])M/g,"$1"+j);var k=c?a.getUTCDate():a.getDate();b=b.replace(/(^|[^\\])dddd+/g,"$1"+g[0]),b=b.replace(/(^|[^\\])ddd/g,"$1"+h[0]),b=b.replace(/(^|[^\\])dd/g,"$1"+d(k)),b=b.replace(/(^|[^\\])d/g,"$1"+k);var l=c?a.getUTCHours():a.getHours();b=b.replace(/(^|[^\\])HH+/g,"$1"+d(l)),b=b.replace(/(^|[^\\])H/g,"$1"+l);var m=l>12?l-12:0==l?12:l;b=b.replace(/(^|[^\\])hh+/g,"$1"+d(m)),b=b.replace(/(^|[^\\])h/g,"$1"+m);var n=c?a.getUTCMinutes():a.getMinutes();b=b.replace(/(^|[^\\])mm+/g,"$1"+d(n)),b=b.replace(/(^|[^\\])m/g,"$1"+n);var o=c?a.getUTCSeconds():a.getSeconds();b=b.replace(/(^|[^\\])ss+/g,"$1"+d(o)),b=b.replace(/(^|[^\\])s/g,"$1"+o);var p=c?a.getUTCMilliseconds():a.getMilliseconds();b=b.replace(/(^|[^\\])fff+/g,"$1"+d(p,3)),p=Math.round(p/10),b=b.replace(/(^|[^\\])ff/g,"$1"+d(p)),p=Math.round(p/10),b=b.replace(/(^|[^\\])f/g,"$1"+p);var q=12>l?"AM":"PM";b=b.replace(/(^|[^\\])TT+/g,"$1"+q),b=b.replace(/(^|[^\\])T/g,"$1"+q.charAt(0));var r=q.toLowerCase();b=b.replace(/(^|[^\\])tt+/g,"$1"+r),b=b.replace(/(^|[^\\])t/g,"$1"+r.charAt(0));var s=-a.getTimezoneOffset(),t=c||!s?"Z":s>0?"+":"-";if(!c){s=Math.abs(s);var u=Math.floor(s/60),v=s%60;t+=d(u)+":"+d(v)}b=b.replace(/(^|[^\\])K/g,"$1"+t);var w=(c?a.getUTCDay():a.getDay())+1;return b=b.replace(new RegExp(g[0],"g"),g[w]),b=b.replace(new RegExp(h[0],"g"),h[w]),b=b.replace(new RegExp(e[0],"g"),e[j]),b=b.replace(new RegExp(f[0],"g"),f[j]),b=b.replace(/\\(.)/g,"$1")},createId:function(a){return[a||"id",+new Date,Math.round(100*Math.random())%100].join("-")},btoa:k.encode,atob:k.decode,loop:function(a,b){var c=0,d=a,e=Math.ceil(a/5);return function(a){for(var f=c,g=1*e,h=2*e,i=3*e,j=4*e,k=g,l=h,m=i,n=j,o=d;k>f&&d>f;)a.call(b,f,1),f++,l>g&&d>g&&(a.call(b,g,2),g++),m>h&&d>h&&(a.call(b,h,3),h++),n>i&&d>i&&(a.call(b,i,4),i++),o>j&&d>j&&(a.call(b,j,5),j++)}},loopArray:function(a,b){var c=a.length,d=0,e=c,f=Math.ceil(c/5);return function(c){for(var g=d,h=1*f,i=2*f,j=3*f,k=4*f,l=h,m=i,n=j,o=k,p=e;l>g&&e>g;)c.call(b,a[g],g,1),g++,m>h&&e>h&&(c.call(b,a[h],h,2),h++),n>i&&e>i&&(c.call(b,a[i],i,3),i++),o>j&&e>j&&(c.call(b,a[j],j,4),j++),p>k&&e>k&&(c.call(b,a[k],k,5),k++)}},makeIndex:function(a,b){var c={},d=this.loopArray(a);return d(function(a,d){var e=a[b];"undefined"==typeof c[e]&&(c[e]=[]),c[e].push(d)}),c},startsWith:function(a,b,c){return c=c||0,a.lastIndexOf(b,c)===c},endsWith:function(a,b,c){var d=a;(void 0===c||c>d.length)&&(c=d.length),c-=b.length;var e=d.indexOf(b,c);return-1!==e&&e===c}},n=function(a){for(var b=[],c=0;c<a.length;c++){var e=d[a[c]];if(m.typeCheck(["function","object"],e))b.push(e);else{var f=o(a[c]);if(null==f)throw new Error("JUI_CRITICAL_ERR: '"+a[c]+"' is not loaded");b.push(f)}}return b},o=function(a){var b=null,a=a+".";for(var c in d)if(-1!=c.indexOf(a)&&m.typeCheck(["function","object"],d[c])){var e=c.split(a).join("");-1==e.indexOf(".")&&(null==b&&(b={}),b[e]=d[c])}return b};b.jui=c.jui={ready:function(){var b=[],c=2==arguments.length?arguments[1]:arguments[0],d=2==arguments.length?arguments[0]:null;if(!m.typeCheck(["array","null"],d)||!m.typeCheck("function",c))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");a(function(){b=d?n(d):[o("ui"),o("uix"),m],c.apply(null,b)})},defineUI:function(a,b,c,g){if(!(m.typeCheck("string",a)&&m.typeCheck("array",b)&&m.typeCheck("function",c)&&m.typeCheck(["string","undefined"],g)))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");if(m.typeCheck("function",f[a]))throw new Error("JUI_CRITICAL_ERR: '"+a+"' is already exist");if(m.typeCheck("undefined",g)&&(g="core"),!m.typeCheck("function",f[g]))throw new Error("JUI_CRITICAL_ERR: Parents are the only function");if(e[g]!==!0)throw new Error("JUI_CRITICAL_ERR: UI function can not be inherited");var h=n(b),i=c.apply(null,h);m.inherit(i,f[g]),d[a]=f.core.init({type:a,"class":i}),f[a]=i,e[a]=!0,"function"==typeof define&&define.amd&&define(a,function(){return d[a]})},define:function(a,b,c,g){if(!(m.typeCheck("string",a)&&m.typeCheck("array",b)&&m.typeCheck("function",c)&&m.typeCheck(["string","undefined"],g)))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");if(m.typeCheck("function",f[a]))throw new Error("JUI_CRITICAL_ERR: '"+a+"' is already exist");var h=n(b),i=c.apply(null,h);if(m.typeCheck("function",f[g])){if(e[g]!==!0)throw new Error("JUI_CRITICAL_ERR: UI function can not be inherited");m.inherit(i,f[g])}d[a]=i,f[a]=i,e[a]=!0,"function"==typeof define&&define.amd&&define(a,function(){return d[a]})},defineOptions:function(b,c,d){function e(a,b){if(m.typeCheck("function",a)){if(m.typeCheck("function",a.setup)){var c=a.setup();for(var d in c)m.typeCheck("undefined",b[d])&&(b[d]=c[d])}e(a.parent,b)}return b}for(var f=e(b,{}),g=Object.keys(f),h=Object.keys(c),i=0;i<h.length;i++){var j=h[i];if(-1==a.inArray(j,g)&&-1==a.inArray(j,d))throw new Error("JUI_CRITICAL_ERR: '"+j+"' is not an option")}return m.extend(c,f,!0),c},include:function(a){if(!m.typeCheck("string",a))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");var b=d[a];if(m.typeCheck(["function","object"],b))return b;var c=o(a);if(null==c)throw new Error("JUI_CRITICAL_ERR: '"+a+"' is not loaded");return c},includeAll:function(){var a=[];for(var b in d)a.push(d[b]);return a},log:function(a){var c=b.open(a||h.logUrl,"JUIM","width=1024, height=768, toolbar=no, menubar=no, resizable=yes");return jui.debugAll(function(a,b){c.log(a,b)}),c},setup:function(a){return m.typeCheck("object",a)&&(h=m.extend(h,a)),h}}}(jQuery||$,window,"undefined"!=typeof global?global:window),jui.define("core",["jquery","util.base"],function(a,b){var c=new function(){var d=[],e=[];this.add=function(a){d.push(a)},this.emit=function(a,b,c){for(var e=[],f=0;f<d.length;f++){var g=d[f];(a==g.selector||a==g.type)&&e.push(g)}for(var f=0;f<e.length;f++)for(var g=e[f],h=0;h<g.length;h++)g[h].emit(b,c)},this.get=function(a){if(b.typeCheck("integer",a))return d[a];if(b.typeCheck("string",a)){for(var c=0;c<d.length;c++){var e=d[c];if(a==e.selector)return 1==e.length?e[0]:e}for(var f=[],c=0;c<d.length;c++){var e=d[c];a==e.type&&f.push(e)}return f}},this.getAll=function(){return d},this.remove=function(a){return b.typeCheck("integer",a)?d.splice(a,1)[0]:void 0},this.shift=function(){return d.shift()},this.pop=function(){return d.pop()},this.size=function(){return d.length},this.debug=function(b,c,d,e){if(b.__proto__){var f=["emit","on","addEvent","addValid","callBefore","callAfter","callDelay","setTpl","setVo","setOption"];for(var g in b){var h=b[g];"function"==typeof h&&-1==a.inArray(g,f)&&!function(a,d,f,g){b.__proto__[a]=function(){var b=Date.now(),h=d.apply(this,arguments),i=Date.now();return"function"==typeof e?e({type:jui.get(c).type,name:a,c_index:f,u_index:g,time:i-b},arguments):(console.log(isNaN(f)||isNaN(g)?"NAME("+a+"), TIME("+(i-b)+"ms), ARGUMENTS...":"TYPE("+jui.get(c).type+"), NAME("+a+"), INDEX("+f+":"+g+"), TIME("+(i-b)+"ms), ARGUMENTS..."),console.log(arguments),console.log("")),h}}(g,h,c,d)}}},this.debugAll=function(a){for(var b=0;b<d.length;b++)for(var c=d[b],e=0;e<c.length;e++)this.debug(c[e],b,e,a)},this.addClass=function(a){e.push(a)},this.getClass=function(a){if(b.typeCheck("integer",a))return e[a];if(b.typeCheck("string",a))for(var c=0;c<e.length;c++)if(a==e[c].type)return e[c];return null},this.getClassAll=function(){return e},this.create=function(a,d,e){var f=c.getClass(a);if(b.typeCheck("null",f))throw new Error("JUI_CRITICAL_ERR: '"+a+"' does not exist");return f["class"](d,e)}},d=function(){function c(b){for(var c=["webkit","moz","MS","o",""],d=0;d<c.length;d++){var e=b.type;c[d]||(e=e.toLowerCase()),a(b.target).on(c[d]+e,b.callback)}g.push(b)}function d(b){b.callback&&!b.children?a(b.target).on(b.type,b.callback):a(b.target).on(b.type,b.children,b.callback),g.push(b)}function e(b){b.callback&&!b.children?a(b.target).on(f(b.type),b.callback):a(b.target).on(f(b.type),b.children,b.callback),g.push(b)}function f(a){return{click:"touchstart",dblclick:"touchend",mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"}[a]}var g=[];this.add=function(f){var g={target:f[0],type:f[1]};b.typeCheck("function",f[2])?g=a.extend(g,{callback:f[2]}):b.typeCheck("string",f[2])&&(g=a.extend(g,{children:f[2],callback:f[3]}));for(var h=b.typeCheck("array",g.type)?g.type:[g.type],i=0;i<h.length;i++)g.type=h[i],-1!=g.type.toLowerCase().indexOf("animation")?c(g):("body"!=g.target&&g.target!=window&&a(g.target).off(g.type),b.isTouch?e(g):d(g))},this.trigger=function(c,d){a(c).trigger(b.isTouch?f(d):d)},this.get=function(a){return g[a]},this.getAll=function(){return g},this.size=function(){return g.length}},e=function(a,b,c,d){this.type=a,this.selector=b,this.options=c,this.destroy=function(){for(var a=0;a<d.length;a++)d[a].destroy()};for(var e=0;e<d.length;e++)this.push(d[e])};e.prototype=Object.create(Array.prototype);var f=function(){var c=null;this.find=function(b){return a(this.root).find(b)},this.emit=function(a,b){if("string"==typeof a){for(var c,d=0;d<this.event.length;d++){var e=this.event[d];if(e.type==a.toLowerCase()){var f="object"==typeof b&&b.length?b:[b];c=e.callback.apply(this,f)}}return c}},this.on=function(a,b){"string"==typeof a&&"function"==typeof b&&this.event.push({type:a.toLowerCase(),callback:b,unique:!1})},this.off=function(a){for(var b=[],c=0;c<this.event.length;c++){var d=this.event[c];("function"==typeof a&&d.callback!=a||"string"==typeof a&&d.type!=a.toLowerCase())&&b.push(d)}this.event=b},this.addEvent=function(){this.listen.add(arguments)},this.addTrigger=function(a,b){this.listen.trigger(a,b)},this.addValid=function(a,c){if(this.__proto__){var d=this.__proto__[a];this.__proto__[a]=function(){for(var e=arguments,f=0;f<e.length;f++)if(!b.typeCheck(c[f],e[f]))throw new Error("JUI_CRITICAL_ERR: the "+f+"th parameter is not a "+c[f]+" ("+a+")");return d.apply(this,e)}}},this.callBefore=function(a,b){if(this.__proto__){var c=this.__proto__[a];this.__proto__[a]=function(){var a=arguments;return"function"!=typeof b?c.apply(this,a):b.apply(this,a)!==!1?c.apply(this,a):void 0}}},this.callAfter=function(a,b){if(this.__proto__){var c=this.__proto__[a];this.__proto__[a]=function(){var a=arguments,d=c.apply(this,a);return"function"==typeof b&&d!==!1&&b.apply(this,a),d}}},this.callDelay=function(a,b){function c(a,c){var e=d.apply(a,c);"function"==typeof b.after&&e!==!1&&b.after.apply(a,c)}if(this.__proto__){var d=this.__proto__[a],e=isNaN(b.delay)?0:b.delay;this.__proto__[a]=function(){var a=this,d=arguments;"function"==typeof b.before&&b.before.apply(a,d),e>0?setTimeout(function(){c(a,d)},e):c(a,d)}}},this.setTpl=function(a,c){this.tpl[a]=b.template(c)},this.setVo=function(){this.options.vo&&(null!=c&&c.reload(),c=a(this.selector).jbinder(),this.bind=c)},this.setOption=function(a,b){if("object"==typeof a)for(var c in a)this.options[c]=a[c];else this.options[a]=b},this.destroy=function(){if(this.__proto__){for(var b=0;b<this.listen.size();b++){var c=this.listen.get(b);a(c.target).off(c.type)}for(var d in this.__proto__)delete this.__proto__[d]}}};return f.build=function(f){return function(g,h){var i=a(g||"<div />"),j=[];return i.each(function(c){var e=new f["class"],k=jui.defineOptions(f["class"],h||{});e.init.prototype=e,e.init.prototype.selector=i.selector,e.init.prototype.root=this,e.init.prototype.options=k,e.init.prototype.tpl={},e.init.prototype.event=new Array,e.init.prototype.listen=new d,e.init.prototype.timestamp=(new Date).getTime(),e.init.prototype.index=c,e.init.prototype.module=f,a("script").each(function(b){if(g==a(this).data("jui")||g==a(this).data("vo")||g instanceof HTMLElement){var c=a(this).data("tpl");if(""==c)throw new Error("JUI_CRITICAL_ERR: 'data-tpl' property is required");k.tpl[c]=a(this).html()}});for(var l in k.tpl){var m=k.tpl[l];b.typeCheck("string",m)&&""!=m&&(e.init.prototype.tpl[l]=b.template(m))}var n=new e.init;for(var o in k.event)n.on(o,k.event[o]);j[c]=n,this.jui=n}),c.add(new e(f.type,g,h,j)),0==j.length?null:1==j.length?j[0]:j}},f.init=function(a){var b=null;return"object"==typeof a&&(b=f.build(a),c.addClass({type:a.type,"class":b})),b},f.setup=function(){return{tpl:{},event:{},vo:null}},window.jui="object"==typeof jui?a.extend(jui,c):c,f}),jui.define("util.math",[],function(){var a={rotate:function(a,b,c){return{x:a*Math.cos(c)-b*Math.sin(c),y:a*Math.sin(c)+b*Math.cos(c)}},resize:function(a,b,c,d){var e=d/c;return c>=a&&1>=e?(c=a,d=b*e):d>=b&&(d=b,c=a/e),{width:c,height:d}},radian:function(a){return a*Math.PI/180},degree:function(a){return 180*a/Math.PI},angle:function(a,b,c,d){var e=c-a,f=d-b;return Math.atan2(f,e)},interpolateNumber:function(a,b){var c=b-a;return function(b){return a+c*b}},interpolateRound:function(a,b){var c=b-a;return function(b){return Math.round(a+c*b)}},nice:function(a,b,c,d){function e(a,b){var c=Math.floor(Math.log(a)/Math.LN10),d=a/Math.pow(10,c);return b?1.5>d?niceFraction=1:3>d?niceFraction=2:7>d?niceFraction=5:niceFraction=10:1>=d?niceFraction=1:2>=d?niceFraction=2:5>=d?niceFraction=5:niceFraction=10,niceFraction*Math.pow(10,c)}function f(){m=d?e(g-h,!1):g-h,l=d?e(m/k,!0):m/k,i=d?Math.floor(h/l)*l:h,j=d?Math.floor(g/l)*l:g}if(d=d||!1,a>b)var g=a,h=b;else var h=a,g=b;var i,j,k=c,l=0,m=[];return f(),{min:i,max:j,range:m,spacing:l}}};return a}),jui.define("util.time",["util.base"],function(a){var b={years:1,months:2,days:3,hours:4,minutes:5,seconds:6,milliseconds:7,weeks:8,add:function(a){if(arguments.length<=2)return a;if(arguments.length>2){for(var b=new Date(+a),c=1;c<arguments.length;c+=2){var d="string"==typeof arguments[c]?this[arguments[c]]:arguments[c],e=arguments[c+1];this.years==d?b.setFullYear(b.getFullYear()+e):this.months==d?b.setMonth(b.getMonth()+e):this.days==d?b.setDate(b.getDate()+e):this.hours==d?b.setHours(b.getHours()+e):this.minutes==d?b.setMinutes(b.getMinutes()+e):this.seconds==d?b.setSeconds(b.getSeconds()+e):this.milliseconds==d?b.setMilliseconds(b.getMilliseconds()+e):this.weeks==d&&b.setDate(b.getDate()+7*e)}return b}},format:function(b,c,d){return a.dateFormat(b,c,d)}};return b}),jui.define("util.scale",["util.math","util.time"],function(a,b){var c={circle:function(){function a(a){}var b=[],c=[],d=0;return a.domain=function(a){if("undefined"==typeof a)return b;for(var c=0;c<a.length;c++)b[c]=a[c];return this},a.range=function(a){if("undefined"==typeof a)return c;for(var b=0;b<a.length;b++)c[b]=a[b];return this},a.rangePoints=function(e,f){f=f||0;for(var g=b.length,h=(e[1]-e[0]-f)/g,i=[],j=0;j<b.length;j++)0==j?i[j]=e[0]+f/2+h/2:i[j]=i[j-1]+h;return c=i,d=h,a},a.rangeBands=function(e,f,g){f=f||0,g=g||0;for(var h=b.length,i=h-1,j=(e[1]-e[0])/i,k=[],l=0;l<b.length;l++)0==l?k[l]=e[0]:k[l]=j+k[l-1];return d=j,c=k,a},a.rangeBand=function(){return d},a},ordinal:function(){function a(a){var d=""+a;if("undefined"!=typeof e[d])return e[d];for(var f=-1,g=0;g<b.length;g++)if("string"==typeof a&&b[g]===a){f=g;break}return f>-1?(e[d]=c[f],c[f]):"undefined"!=typeof c[a]?(b[a]=a,e[d]=c[a],c[a]):null}var b=[],c=[],d=0,e={};return a.domain=function(a){if("undefined"==typeof a)return b;for(var c=0;c<a.length;c++)b[c]=a[c];return this},a.range=function(a){if("undefined"==typeof a)return c;for(var b=0;b<a.length;b++)c[b]=a[b];return this},a.rangePoints=function(e,f){f=f||0;for(var g=b.length,h=(e[1]-e[0]-f)/g,i=[],j=0;j<b.length;j++)0==j?i[j]=e[0]+f/2+h/2:i[j]=i[j-1]+h;return c=i,d=h,a},a.rangeBands=function(e,f,g){f=f||0,g=g||0;for(var h=b.length,i=h-1,j=(e[1]-e[0])/i,k=[],l=0;l<b.length;l++)0==l?k[l]=e[0]:k[l]=j+k[l-1];return d=j,c=k,a},a.rangeBand=function(){return d},a.invert=function(a){return Math.ceil(a/d)},a},time:function(){var a,d=[],e=c.linear(),f=e.domain;return e.domain=function(a){if(!arguments.length)return f.call(e);for(var b=0;b<a.length;b++)d[b]=+a[b];return f.call(e,d)},e.min=function(){return Math.min(d[0],d[d.length-1])},e.max=function(){return Math.max(d[0],d[d.length-1])},e.rate=function(a,b){return e(e.max()*(a/b))},e.ticks=function(c,f){for(var g=d[0],h=d[1],i=[];h>g;)i.push(new Date(+g)),g=b.add(g,c,f);i.push(new Date(+g));var j=e(i[0]),k=e(i[1]);return a=k-j,i},e.realTicks=function(c,f){var g=d[0],h=d[1],i=[],j=new Date(+g),k=null;for(c==b.years?k=new Date(j.getFullYear(),0,1):c==b.months?k=new Date(j.getFullYear(),j.getMonth(),1):c==b.days||c==b.weeks?k=new Date(j.getFullYear(),j.getMonth(),j.getDate()):c==b.hours?k=new Date(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),0,0,0):c==b.minutes?k=new Date(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes(),0,0):c==b.seconds?k=new Date(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes(),j.getSeconds(),0):c==b.milliseconds&&(k=new Date(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes(),j.getSeconds(),j.getMilliseconds())),k=b.add(k,c,f);+h>+k;)i.push(new Date(+k)),k=b.add(k,c,f);var l=e(i[1]),m=e(i[2]);return a=m-l,i},e.rangeBand=function(){return a},e.invert=function(a){var b=c.linear().domain(e.range()).range(e.domain());return new Date(b(a))},e},log:function(a){function b(a){return 0>a?-(Math.log(Math.abs(a))/Math.log(g)):a>0?Math.log(a)/Math.log(g):0}function d(a){return 0>a?-Math.pow(g,Math.abs(a)):a>0?Math.pow(g,a):0}function e(a){return Math.pow(g,(a+"").length-1)<a}function f(a){return Math.pow(g,(a+"").length)}var g=a||10,h=c.linear(),i=[],j=null,k=null,l=function(a){var c=a;return a>j?c=j:k>a&&(c=k),h(b(c))};return $.extend(l,h),l.log=function(){for(var a=[],c=0;c<i.length;c++)a[c]=b(i[c]);return a},l.domain=function(a){if(!arguments.length)return i;for(var b=0;b<a.length;b++)i[b]=a[b];if(j=Math.max.apply(Math,i),k=Math.min.apply(Math,i),e(j)&&(i[1]=j=f(j)),e(Math.abs(k))){var c=f(Math.abs(k));i[0]=k=0>k?-c:c}return h.domain(l.log()),l},l.base=function(a){return h.domain(l.log()),l},l.invert=function(a){return d(h.invert(a))},l.ticks=function(a,b,c){var e=h.ticks(a,b,c||1e20,!0);e[e.length-1]<h.max()&&e.push(h.max());for(var f=[],g=0,i=e.length;i>g;g++)f[g]=d(e[g]);return f},l},linear:function(){function b(a){if(a>l)return g?b(l):e[0]+Math.abs(a-d[1])*o/p;if(k>a)return g?b(k):e[0]-Math.abs(a-d[0])*o/p;var c=(a-d[0])/o;return q(c)}var d=[0,1],e=[0,1],f=!1,g=!1,h={},i=null,j=null,k=null,l=null,m=null,n=null,o=null,p=null,q=null,r=null;return b.cache=function(){return h},b.min=function(){return Math.min.apply(Math,d)},b.max=function(){return Math.max.apply(Math,d)},b.rangeMin=function(){return Math.min.apply(Math,e)},b.rangeMax=function(){return Math.max.apply(Math,e)},b.rate=function(a,c){return b(b.max()*(a/c))},b.clamp=function(a){g=a||!1},b.domain=function(a){if(!arguments.length)return d;for(var c=0;c<a.length;c++)d[c]=a[c];return k=b.min(),l=b.max(),o=d[1]-d[0],this},b.range=function(c){if(!arguments.length)return e;for(var d=0;d<c.length;d++)e[d]=c[d];return i=a.interpolateRound(e[0],e[1]),j=a.interpolateNumber(e[0],e[1]),m=b.rangeMin(),n=b.rangeMax(),p=Math.abs(n-m),q=f?i:j,this},b.rangeRound=function(a){return f=!0,b.range(a)},b.rangeBand=function(){return r},b.invert=function(a){var b=c.linear().domain(e).range(d);return b(a)},b.ticks=function(c,e,f,g){f=f||1e4,g=g||!1;var h=b.max();if(0==d[0]&&0==d[1])return[];for(var i=a.nice(d[0],d[1],c||10,e||!1),j=[],k=(g?i.max:i.min)*f,l=(g?i.min:i.max)*f;g?k>=l:l>=k;){j.push(k/f);var m=i.spacing*f;g?k-=m:k+=m}if(g){j[0]!=h&&j.unshift(h);for(var n=0,o=j.length;o>n;n++)j[n]=Math.abs(j[n]-h)}else j[j.length-1]*f!=l&&k>l&&j.push(l/f),d[0]>d[1]&&j.reverse();var p=b(j[0]),q=b(j[1]);return r=Math.abs(q-p),j},b}};return c}),jui.define("util.color",[],function(){var a={regex:/(linear|radial)\((.*)\)(.*)/i,trim:function(a){return(a||"").replace(/^\s+|\s+$/g,"")},lighten:function(a,b){a=a.replace(/[^0-9a-f]/gi,""),b=b||0;var c,d,e=[];for(d=0;6>d;d+=2)c=parseInt(a.substr(d,2),16),c=Math.round(Math.min(Math.max(0,c+c*b),255)).toString(16),e.push(("00"+c).substr(c.length));return"#"+e.join("")},darken:function(a,b){return this.lighten(a,-b)},parse:function(a){return this.parseGradient(a)},parseGradient:function(a){var b=a.match(this.regex);if(!b)return a;var c=this.trim(b[1]),d=this.parseAttr(c,this.trim(b[2])),e=this.parseStop(this.trim(b[3])),f={type:c+"Gradient",attr:d,children:e};return f},parseStop:function(a){for(var b=a.split(","),c=[],d=0,e=b.length;e>d;d++){var a=b[d],f=a.split(" ");0!=f.length&&(1==f.length?c.push({type:"stop",attr:{"stop-color":f[0]}}):2==f.length?c.push({type:"stop",attr:{offset:f[0],"stop-color":f[1]}}):3==f.length&&c.push({type:"stop",attr:{offset:f[0],"stop-color":f[1],"stop-opacity":f[2]}}))}for(var g=-1,h=-1,d=0,e=c.length;e>d;d++){var a=c[d];if(0==d?a.offset||(a.offset=0):d==e-1&&(a.offset||(a.offset=1)),-1==g&&"undefined"==typeof a.offset)g=d;else if(-1==h&&"undefined"==typeof a.offset){h=d;for(var i=h-g,j=c[h].offset.indexOf("%")>-1?parseFloat(c[h].offset)/100:c[h].offset,k=c[g].offset.indexOf("%")>-1?parseFloat(c[g].offset)/100:c[g].offset,l=j-k,m=l/i,n=k+m,o=g+1;h>o;o++)c[o].offset=n,n+=m;g=h,h=-1}}return c},parseAttr:function(a,b){if("linear"!=a){for(var c=b.split(","),d=0,e=c.length;e>d;d++)-1==c[d].indexOf("%")&&(c[d]=parseFloat(c[d]));return{cx:c[0],cy:c[1],r:c[2],fx:c[3],fy:c[4]}}switch(b){case"":case"left":return{x1:0,y1:0,x2:1,y2:0,direction:b||"left"};case"right":return{x1:1,y1:0,x2:0,y2:0,direction:b};case"top":return{x1:0,y1:0,x2:0,y2:1,direction:b};case"bottom":return{x1:0,y1:1,x2:0,y2:0,direction:b};case"top left":return{x1:0,y1:0,x2:1,y2:1,direction:b};case"top right":return{x1:1,y1:0,x2:0,y2:1,direction:b};case"bottom left":return{x1:0,y1:1,x2:1,y2:0,direction:b};case"bottom right":return{x1:1,y1:1,x2:0,y2:0,direction:b};default:for(var c=b.split(","),d=0,e=c.length;e>d;d++)-1==c[d].indexOf("%")&&(c[d]=parseFloat(c[d]));return{x1:c[0],y1:c[1],x2:c[2],y2:c[3]}}}};return a}),jui.define("util.svg.element",[],function(){var a=function(){var b=[];this.create=function(a,b){this.element=document.createElementNS("http://www.w3.org/2000/svg",a),this.children=[],this.parent=null,this.styles={},this.attributes={},this.attr(b)},this.each=function(a){if("function"==typeof a){for(var b=0,c=this.children.length;c>b;b++){var d=this.children[b];a.apply(d,[b,d])}return this.children}},this.get=function(a){return this.children[a]?this.children[a]:null},this.index=function(a){for(var b=0;b<this.children.length;b++)if(a==this.children[b])return b;return-1},this.append=function(b){return b instanceof a&&(b.parent&&b.remove(),this.children.push(b),b.parent=this),this},this.prepend=function(a){return this.insert(0,a)},this.insert=function(a,b){return b.parent&&b.remove(),this.children.splice(a,0,b),b.parent=this,this},this.remove=function(){for(var a=0,b=[],c=this.parent.children,d=0;d<c.length;d++){
if(c[d]==this){a=d;break}b.push(c[d])}return this.parent.children=b,this},this.attr=function(a){if("undefined"!=typeof a&&a){if("string"==typeof a)return this.attributes[a]||this.element.getAttribute(a);for(var b in a)this.attributes[b]=a[b],-1!=b.indexOf("xlink:")?this.element.setAttributeNS("http://www.w3.org/1999/xlink",b,a[b]):this.element.setAttribute(b,a[b]);return this}},this.css=function(a){var b=[];for(var c in a)this.styles[c]=a[c];for(var c in a)b.push(c+":"+a[c]);return this.attr({style:b.join(";")}),this},this.html=function(a){return this.element.innerHTML=a,this},this.text=function(a){return this.element.innerHTML="",this.element.appendChild(document.createTextNode(a)),this},this.on=function(a,c){var d=function(a){"function"==typeof c&&c.call(this,a)};return this.element.addEventListener(a,d,!1),b.push({type:a,callback:d}),this},this.off=function(a){for(var c=[],d=0,e=b.length;e>d;d++){var f=b[d];f.type!=a?c.push(f):this.element.removeEventListener(a,f.callback,!1)}return b=c,this},this.hover=function(a,c){var d=function(b){"function"==typeof a&&a.call(this,b)},e=function(a){"function"==typeof c&&c.call(this,a)};return this.element.addEventListener("mouseover",d,!1),this.element.addEventListener("mouseout",e,!1),b.push({type:"mouseover",callback:d}),b.push({type:"mouseout",callback:e}),this},this.size=function(){var a={width:0,height:0},b=this.element.getBoundingClientRect();if(!b||0==b.width&&0==b.height){for(var c=["height","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],d=["width","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],e=window.getComputedStyle(this.element),f=0;f<c.length;f++)a.height+=parseFloat(e[c[f]]);for(var f=0;f<d.length;f++)a.width+=parseFloat(e[d[f]]);a.width=a.width||this.element.getAttribute("width"),a.height=a.height||this.element.getAttribute("height")}else a.width=b.width,a.height=b.height;return isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),a},this.is=function(a){return this instanceof jui.include(a)}};return a}),jui.define("util.svg.element.transform",["util.base"],function(a){var b=function(){function b(a){var b=[];for(var c in d)d[c]&&b.push(d[c]);a.attr({transform:b.join(" ")})}function c(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b.join(",")}var d={translate:null,scale:null,rotate:null,skew:null,matrix:null};this.translate=function(){return d.translate="translate("+c(arguments)+")",b(this),this},this.rotate=function(a,c,e){if(1==arguments.length)var f=a;else if(3==arguments.length)var f=a+" "+c+","+e;return d.rotate="rotate("+f+")",b(this),this},this.scale=function(){return d.scale="scale("+c(arguments)+")",b(this),this},this.skew=function(){return d.skew="skew("+c(arguments)+")",b(this),this},this.matrix=function(){return d.matrix="matrix("+c(arguments)+")",b(this),this},this.data=function(b){var c=this.attr("transform"),d={translate:/[^translate()]+/g,rotate:/[^rotate()]+/g,scale:/[^scale()]+/g,skew:/[^skew()]+/g,matrix:/[^matrix()]+/g};return a.typeCheck("string",c)?c.match(d[b])[0]:null}};return b},"util.svg.element"),jui.define("util.svg.element.path",["util.base"],function(a){var b=function(){var b=[];this.moveTo=function(a,c,d){return b.push((d||"m")+a+","+c),this},this.MoveTo=function(a,b){return this.moveTo(a,b,"M")},this.lineTo=function(a,c,d){return b.push((d||"l")+a+","+c),this},this.LineTo=function(a,b){return this.lineTo(a,b,"L")},this.hLineTo=function(a,c){return b.push((c||"h")+a),this},this.HLineTo=function(a){return this.hLineTo(a,"H")},this.vLineTo=function(a,c){return b.push((c||"v")+a),this},this.VLineTo=function(a){return this.vLineTo(a,"V")},this.curveTo=function(a,c,d,e,f,g,h){return b.push((h||"c")+a+","+c+" "+d+","+e+" "+f+","+g),this},this.CurveTo=function(a,b,c,d,e,f){return this.curveTo(a,b,c,d,e,f,"C")},this.sCurveTo=function(a,c,d,e,f){return b.push((f||"s")+a+","+c+" "+d+","+e),this},this.SCurveTo=function(a,b,c,d){return this.sCurveTo(a,b,c,d,"S")},this.qCurveTo=function(a,c,d,e,f){return b.push((f||"q")+a+","+c+" "+d+","+e),this},this.QCurveTo=function(a,b,c,d){return this.qCurveTo(a,b,c,d,"Q")},this.tCurveTo=function(a,c,d,e,f){return b.push((f||"t")+a+","+c+" "+d+","+e),this},this.TCurveTo=function(a,b,c,d){return this.tCurveTo(a,b,c,d,"T")},this.arc=function(a,c,d,e,f,g,h,i){return e=e?1:0,f=f?1:0,b.push((i||"a")+a+","+c+" "+d+" "+e+","+f+" "+g+","+h),this},this.Arc=function(a,b,c,d,e,f,g){return this.arc(a,b,c,d,e,f,g,"A")},this.closePath=function(a){return b.push(a||"z"),this},this.ClosePath=function(){return this.closePath("Z")},this.join=function(){b.length>0&&(this.attr({d:b.join(" ")}),b=[])},this.length=function(){var c=a.createId(),d=b.join(" "),e=document.createElement("svg"),f=document.createElementNS("http://www.w3.org/2000/svg","path");f.setAttributeNS(null,"id",c),f.setAttributeNS(null,"d",d),e.appendChild(f),document.body.appendChild(e);var g=document.getElementById(c).getTotalLength();return document.body.removeChild(e),g}};return b},"util.svg.element.transform"),jui.define("util.svg.element.path.symbol",["util.base"],function(a){var b=function(){var a="";this.template=function(a,b){var c=a,d=half_r=a/2,e=b/2,f="a"+half_r+","+half_r+" 0 1,1 "+c+",0",g="a"+half_r+","+half_r+" 0 1,1 "+-c+",0",h={triangle:["m0,"+-e,"l"+d+","+b,"l"+-a+",0","l"+d+","+-b].join(" "),rect:["m"+-d+","+-e,"l"+a+",0","l0,"+b,"l"+-a+",0","l0,"+-b].join(" "),cross:["m"+-d+","+-e,"l"+a+","+b,"m0,"+-b,"l"+-a+","+b].join(" "),circle:["m"+-c+",0",f,g].join(" ")};return h.rectangle=h.rect,h},this.join=function(){a.length>0&&(this.attr({d:a}),a="")},this.add=function(b,c,d){a+=" M"+b+","+c+d},this.triangle=function(a,b,c,d){return this.MoveTo(a,b).moveTo(0,-d/2).lineTo(c/2,d).lineTo(-c,0).lineTo(c/2,-d)},this.rect=this.rectangle=function(a,b,c,d){return this.MoveTo(a,b).moveTo(-c/2,-d/2).lineTo(c,0).lineTo(0,d).lineTo(-c,0).lineTo(0,-d)},this.cross=function(a,b,c,d){return this.MoveTo(a,b).moveTo(-c/2,-d/2).lineTo(c,d).moveTo(0,-d).lineTo(-c,d)},this.circle=function(a,b,c){return this.MoveTo(a,b).moveTo(-c,0).arc(c/2,c/2,0,1,1,c,0).arc(c/2,c/2,0,1,1,-c,0)}};return b},"util.svg.element.path"),jui.define("util.svg.element.path.rect",["util.math"],function(a){var b=function(){this.round=function(a,b,c,d,e,f){c=c?c:0,d=d?d:0,e=e?e:0,f=f?f:0,this.MoveTo(0,c).Arc(c,c,0,0,1,c,0).HLineTo(a-d).Arc(d,d,0,0,1,a,d).VLineTo(b-e).Arc(e,e,0,0,1,a-e,b).HLineTo(f).Arc(f,f,0,0,1,0,b-f).ClosePath().join()}};return b},"util.svg.element.path"),jui.define("util.svg.element.poly",[],function(){var a=function(){var a=[];this.point=function(b,c){return a.push(b+","+c),this},this.join=function(){if(a.length>0){var b=a[0];a.push(b),this.attr({points:a.join(" ")}),a=[]}}};return a},"util.svg.element.transform"),jui.define("util.svg.base",["util.base","util.math","util.color","util.svg.element","util.svg.element.transform","util.svg.element.path","util.svg.element.path.symbol","util.svg.element.path.rect","util.svg.element.poly"],function(a,b,c,d,e,f,g,h,i){var j=null,k=function(){this.create=function(a,b,c,d){return a.create(b,c),a},this.createChild=function(a,b,c,d){return this.create(a,b,c,d)},this.custom=function(a,b,c){return this.create(new d,a,b,c)},this.defs=function(a){return this.create(new d,"defs",null,a)},this.symbol=function(a,b){return this.create(new d,"symbol",a,b)},this.g=this.group=function(a,b){return this.create(new e,"g",a,b)},this.marker=function(a,b){return this.create(new d,"marker",a,b)},this.a=function(a,b){return this.create(new e,"a",a,b)},this["switch"]=function(a,b){return this.create(new d,"switch",a,b)},this.use=function(a){return this.create(new d,"use",a)},this.rect=function(a,b){return this.create(new e,"rect",a,b)},this.line=function(a,b){return this.create(new e,"line",a,b)},this.circle=function(a,b){return this.create(new e,"circle",a,b)},this.text=function(b,c){return 2==arguments.length?a.typeCheck("function",c)?this.create(new e,"text",b,c):this.create(new e,"text",b).text(c):this.create(new e,"text",b)},this.textPath=function(b,c){return a.typeCheck("string",c)?this.create(new d,"textPath",b).text(c):this.create(new d,"textPath",b)},this.tref=function(b,c){return a.typeCheck("string",c)?this.create(new d,"tref",b).text(c):this.create(new d,"tref",b)},this.tspan=function(b,c){return a.typeCheck("string",c)?this.create(new d,"tspan",b).text(c):this.create(new d,"tspan",b)},this.ellipse=function(a,b){return this.create(new e,"ellipse",a,b)},this.image=function(a,b){return this.create(new e,"image",a,b)},this.path=function(a,b){return this.create(new f,"path",a,b)},this.pathSymbol=function(a,b){return this.create(new g,"path",a,b)},this.pathRect=function(a,b){return this.create(new h,"path",a,b)},this.polyline=function(a,b){return this.create(new i,"polyline",a,b)},this.polygon=function(a,b){return this.create(new i,"polygon",a,b)},this.pattern=function(a,b){return this.create(new d,"pattern",a,b)},this.mask=function(a,b){return this.create(new d,"mask",a,b)},this.clipPath=function(a,b){return this.create(new d,"clipPath",a,b)},this.linearGradient=function(a,b){return this.create(new d,"linearGradient",a,b)},this.radialGradient=function(a,b){return this.create(new d,"radialGradient",a,b)},this.filter=function(a,b){return this.create(new d,"filter",a,b)},this.stop=function(a){return this.createChild(new d,"stop",a)},this.animate=function(a){return this.createChild(new d,"animate",a)},this.animateColor=function(a){return this.createChild(new d,"animateColor",a)},this.animateMotion=function(a){return this.createChild(new d,"animateMotion",a)},this.animateTransform=function(a){return this.createChild(new d,"animateTransform",a)},this.mpath=function(a){return this.createChild(new d,"mpath",a)},this.set=function(a){return this.createChild(new d,"set",a)},this.feBlend=function(a){return this.createChild(new d,"feBlend",a)},this.feColorMatrix=function(a){return this.createChild(new d,"feColorMatrix",a)},this.feComponentTransfer=function(a){return this.createChild(new d,"feComponentTransfer",a)},this.feComposite=function(a){return this.createChild(new d,"feComposite",a)},this.feConvolveMatrix=function(a){return this.createChild(new d,"feConvolveMatrix",a)},this.feDiffuseLighting=function(a){return this.createChild(new d,"feDiffuseLighting",a)},this.feDisplacementMap=function(a){return this.createChild(new d,"feDisplacementMap",a)},this.feFlood=function(a){return this.createChild(new d,"feFlood",a)},this.feGaussianBlur=function(a){return this.createChild(new d,"feGaussianBlur",a)},this.feImage=function(a){return this.createChild(new d,"feImage",a)},this.feMerge=function(a,b){return this.createChild(new d,"feMerge",a,b)},this.feMergeNode=function(a){return this.createChild(new d,"feMergeNode",a)},this.feMorphology=function(a){return this.createChild(new d,"feMorphology",a)},this.feOffset=function(a){return this.createChild(new d,"feOffset",a)},this.feSpecularLighting=function(a){return this.createChild(new d,"feSpecularLighting",a)},this.feTile=function(a){return this.createChild(new d,"feTile",a)},this.feTurbulence=function(a){return this.createChild(new d,"feTurbulence",a)}};return k.create=function(a,b,c){return null==j&&(j=new k),j.custom(a,b,c)},k}),jui.define("util.svg.3d",["util.base","util.math","util.color"],function(a,b,c){var d=function(){this.rect3d=function(a,d,e,f,g){var h=this,i=b.radian(f),j=0,k=0,l=d,m=e,n=Math.cos(i)*g,o=Math.sin(i)*g,p=d+n,q=e+o,r=h.group({},function(){h.path({fill:c.lighten(a,.15),stroke:c.lighten(a,.15)}).MoveTo(n,j).LineTo(p,k).LineTo(l,o).LineTo(j,o),h.path({fill:a,stroke:a}).MoveTo(j,o).LineTo(j,q).LineTo(l,q).LineTo(l,o),h.path({fill:c.darken(a,.2),stroke:c.darken(a,.2)}).MoveTo(l,q).LineTo(p,m).LineTo(p,k).LineTo(l,o)});return r},this.cylinder3d=function(d,e,f,g,h,i){var j=this,k=b.radian(g),i=void 0==i?1:0==i?.01:i,l=e/2,m=l*i,n=Math.cos(k)*h/2,o=Math.sin(k)*h/2,p=a.createId("cylinder3d"),q=j.group({},function(){j.ellipse({fill:c.darken(d,.05),"fill-opacity":.85,stroke:c.darken(d,.05),rx:l,ry:o,cx:l,cy:f}).translate(n,o),j.path({fill:"url(#"+p+")","fill-opacity":.85,stroke:d}).MoveTo(l-m,o).LineTo(0,f).Arc(l,o,0,0,0,e,f).LineTo(l+m,o).Arc(l+m,o,0,0,1,l-m,o).translate(n,o),j.ellipse({fill:c.lighten(d,.2),"fill-opacity":.95,stroke:c.lighten(d,.2),rx:l*i,ry:o*i,cx:l,cy:o}).translate(n,o),j.linearGradient({id:p,x1:"100%",x2:"0%",y1:"0%",y2:"0%"},function(){j.stop({offset:"0%","stop-color":c.lighten(d,.15)}),j.stop({offset:"33.333333333333336%","stop-color":c.darken(d,.2)}),j.stop({offset:"66.66666666666667%","stop-color":c.darken(d,.2)}),j.stop({offset:"100%","stop-color":c.lighten(d,.15)})})});return q}};return d},"util.svg.base"),jui.define("util.svg",["util.base","util.math","util.color","util.svg.element","util.svg.element.transform","util.svg.element.path","util.svg.element.path.symbol","util.svg.element.path.rect","util.svg.element.poly"],function(a,b,c,d,e,f,g,h,i){var j=function(b,c){function g(){j.root=k=new d,l=new e,m=new e,k.create("svg",c),l.create("g"),m.create("g"),l.translate(.5,.5),m.translate(.5,.5),b.appendChild(k.element),k.append(l),k.append(m)}function h(a){for(var b=a.children.length,c=0;b>c;c++){var d=a.children[c];d&&(d.children.length>0&&h(d),(d instanceof f||d instanceof i)&&d.join(),d.parent==a&&a.element.appendChild(d.element))}}var j=this,k=null,l=null,m=null,n={},o=0,p=!1;this.create=function(b,c,d,e){return b.create(c,d),0==o?l.append(b):n[o].append(b),a.typeCheck("function",e)&&(o++,n[o]=b,e.call(b),o--),b},this.createChild=function(a,b,c,d){if(a.parent==l)throw new Error("JUI_CRITICAL_ERR: Parents are required elements of the '"+b+"'");return this.create(a,b,c,d)},this.size=function(){if(2!=arguments.length)return k.size();var a=arguments[0],b=arguments[1];k.attr({width:a,height:b})},this.clear=function(a){l.each(function(){this.element.parentNode&&l.element.removeChild(this.element)}),a===!0&&m.each(function(){this.element.parentNode&&m.element.removeChild(this.element)})},this.reset=function(a){this.clear(a),l.children=[],a===!0&&(m.children=[])},this.render=function(a){this.clear(),h(p===!1||a===!0?k:l),p=!0},this.download=function(b){a.typeCheck("string",b)&&(b=b.split(".")[0]);var c=document.createElement("a");c.download=b?b+".svg":"svg.svg",c.href=this.toDataURI(),document.body.appendChild(c),c.click(),c.parentNode.removeChild(c)},this.downloadImage=function(b,c){c=c||"image/png";var d=new Image,e=this.size(),f=this.toDataURI().replace('width="100%"','width="'+e.width+'"').replace('height="100%"','height="'+e.height+'"');d.onload=function(){var e=document.createElement("canvas");e.width=d.width,e.height=d.height;var f=e.getContext("2d");f.drawImage(d,0,0);var g=e.toDataURI(c);a.typeCheck("string",b)&&(b=b.split(".")[0]);var h=document.createElement("a");h.download=b?b+".png":"svg.png",h.href=g,document.body.appendChild(h),h.click(),h.parentNode.removeChild(h)},d.src=f},this.exportCanvas=function(a){var b=new Image,c=this.size(),d=this.toDataURI().replace('width="100%"','width="'+c.width+'"').replace('height="100%"','height="'+c.height+'"');b.onload=function(){a.width=b.width,a.height=b.height;var c=a.getContext("2d");c.drawImage(b,0,0)},b.src=d},this.toXML=function(){var a=b.innerHTML;return a=a.replace('xmlns="http://www.w3.org/2000/svg"',""),['<?xml version="1.0" encoding="utf-8"?>',a.replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" ')].join("\n")},this.toDataURI=function(){var b=this.toXML();return(a.browser.mozilla||a.browser.msie)&&(b=encodeURIComponent(b)),a.browser.msie?"data:image/svg+xml,"+b:"data:image/svg+xml;utf8,"+b},this.autoRender=function(a,b){o>0||(b?l.append(a):m.append(a))},this.getTextRect=function(a){if(""==a)return{width:0,height:0};var b=document.createElementNS("http://www.w3.org/2000/svg","text");b.setAttributeNS(null,"x",-200),b.setAttributeNS(null,"y",-200),b.appendChild(document.createTextNode(a)),k.element.appendChild(b);var c=b.getBoundingClientRect();return k.element.removeChild(b),{width:c.width,height:c.height}},g()};return j.createObject=function(a){var b=new d;if(b.create(a.type,a.attr),a.children instanceof Array)for(var c=0,e=a.children.length;e>c;c++)b.append(j.createObject(a.children[c]));return b},j},"util.svg.3d"),jui.define("chart.draw",["jquery","util.base"],function(a,b){var c=function(){this.render=function(){if(!b.typeCheck("function",this.draw)||!b.typeCheck("function",this.drawAfter))throw new Error("JUI_CRITICAL_ERR: 'draw & drawAfter' method must be implemented");b.typeCheck("function",this.drawBefore)&&this.drawBefore();var a=this.draw();if(b.typeCheck("function",this.drawAnimate)){var c=this.grid||this.brush||this.widget||this.map;c.animate!==!1&&this.drawAnimate(a)}if(!b.typeCheck("object",a))throw new Error("JUI_CRITICAL_ERR: 'draw' method should return the object");return this.drawAfter(a),a},this.format=function(){var a=this.grid||this.brush||this.widget,b=a.format||this.chart.format;return b.apply(this.chart,arguments)},this.balloonPoints=function(a,b,c,d){var e=[];return"top"==a?(e.push([0,0].join(",")),e.push([b,0].join(",")),e.push([b,c].join(",")),e.push([b/2+d/2,c].join(",")),e.push([b/2,c+d].join(",")),e.push([b/2-d/2,c].join(",")),e.push([0,c].join(",")),e.push([0,0].join(","))):"bottom"==a?(e.push([0,d].join(",")),e.push([b/2-d/2,d].join(",")),e.push([b/2,0].join(",")),e.push([b/2+d/2,d].join(",")),e.push([b,d].join(",")),e.push([b,d+c].join(",")),e.push([0,d+c].join(",")),e.push([0,d].join(","))):"left"==a?(e.push([0,0].join(",")),e.push([b,0].join(",")),e.push([b,c/2-d/2].join(",")),e.push([b+d,c/2].join(",")),e.push([b,c/2+d/2].join(",")),e.push([b,c].join(",")),e.push([0,c].join(",")),e.push([0,0].join(","))):"right"==a&&(e.push([0,0].join(",")),e.push([b,0].join(",")),e.push([b,c].join(",")),e.push([0,c].join(",")),e.push([0,c/2+d/2].join(",")),e.push([0-d,c/2].join(",")),e.push([0,c/2-d/2].join(",")),e.push([0,0].join(","))),e.join(" ")},this.on=function(a,c){var d=this;return this.chart.on(a,function(){if(b.startsWith(a,"axis.")&&b.typeCheck("integer",d.axis.index)){var e=d.chart.axis(d.axis.index),f=arguments[0];b.typeCheck("object",e)&&arguments[1]==d.axis.index&&c.apply(d,[f])}else c.apply(d,arguments)},"render")}};return c.setup=function(){return{type:null,animate:!1}},c}),jui.define("chart.axis",["jquery","util.base"],function(a,b){var c=function(a,c,d){function e(b,c){return b.x=f(b.x,a.area("width")),b.y=f(b.y,a.area("height")),b.width=f(b.width,a.area("width")),b.height=f(b.height,a.area("height")),b.x2=b.x+b.width,b.y2=b.y+b.height,b.x+=c.left||0,b.y+=c.top||0,b.x2-=c.right||0,b.y2-=c.bottom||0,b.width=b.x2-b.x,b.height=b.y2-b.y,b}function f(a,c){return b.typeCheck("string",a)&&a.indexOf("%")>-1?c*(parseFloat(a.replace("%",""))/100):a}function g(c,d){if(("x"==d||"y"==d)&&!b.typeCheck("object",c[d]))return null;c[d]=c[d]||{},"x"==d?c[d].orient="top"==c[d].orient?"top":"bottom":"y"==d?c[d].orient="right"==c[d].orient?"right":"left":"c"==d&&(c[d].type=c[d].type||"panel",c[d].orient="custom"),c[d].type=c[d].type||"block";var e=jui.include("chart.grid."+c[d].type);jui.defineOptions(e,c[d]);var f=new e(a,c,c[d]);f.chart=a,f.axis=c,f.grid=c[d];var g=f.render();return"left"==c[d].orient?g.root.translate(a.area("x")+o.area("x")-c[d].dist,a.area("y")):"right"==c[d].orient?g.root.translate(a.area("x")+o.area("x2")+c[d].dist,a.area("y")):"bottom"==c[d].orient?g.root.translate(a.area("x"),a.area("y")+o.area("y2")+c[d].dist):"top"==c[d].orient?g.root.translate(a.area("x"),a.area("y")+o.area("y")-c[d].dist):g.root&&g.root.translate(a.area("x")+o.area("x"),a.area("y")+o.area("y")),g.scale.type=c[d].type,g.scale.root=g.root,g.scale}function h(c,d){if("map"==d&&!b.typeCheck("object",c[d]))return null;c[d]=c[d]||{};var e=jui.include("chart.map");jui.defineOptions(e,c[d]),null==p&&(p=new e(a,c,c[d])),p.chart=a,p.axis=c,p.map=c[d];var f=p.render();return f.root.translate(a.area("x")+o.area("x"),a.area("y")+o.area("y")),f.scale.type=c[d].type,f.scale.root=f.root,f.scale}function i(a){var b=o.origin,c=o.buffer,d=Math.ceil(b.length/c);1>a?o.page=1:o.page=a>d?d:a,o.start=(o.page-1)*c,o.end=o.start+c,o.end>b.length&&(o.start=b.length-c,o.end=b.length),o.end<=b.length&&(o.start=o.start<0?0:o.start,o.data=b.slice(o.start,o.end),b.length>0&&o.page++)}function j(a,b){var c=o.origin;o.end=b>c.length?c.length:b,o.start=0>a?0:a,o.data=c.slice(o.start,o.end)}function k(){t&&(t.remove(),t=null),s=b.createId("clip-id-"),t=a.svg.clipPath({id:s},function(){a.svg.rect({x:q.x,y:q.y,width:q.width,height:q.height})}),a.appendDefs(t),v&&(v.remove(),v=null),u=b.createId("clip-rect-id-"),v=a.svg.clipPath({id:u},function(){a.svg.rect({x:0,y:0,width:q.width,height:q.height})}),a.appendDefs(v)}function l(a){var b=o.area("y"),c=o.area("x");return a.chartY>b&&a.chartY<b+o.area("height")&&a.chartX>c&&a.chartX<c+o.area("width")?(a.axisX=a.chartX-c,a.axisY=a.chartY-b,!0):!1}function m(){var b=!1,c=d.index;a.on("chart.mousemove",function(d){l(d)?b||(a.emit("axis.mouseover",[d,c]),b=!0):b&&(a.emit("axis.mouseout",[d,c]),b=!1),a.emit("axis.mousemove",[d,c])}),a.on("bg.mousemove",function(d){!l(d)&&b&&(a.emit("axis.mouseout",[d,c]),b=!1)}),a.on("chart.mousedown",function(b){l(b)&&a.emit("axis.mousedown",[b,c])}),a.on("chart.mouseup",function(b){l(b)&&a.emit("axis.mouseup",[b,c])}),a.on("chart.click",function(b){l(b)&&a.emit("axis.click",[b,c])}),a.on("chart.dbclick",function(b){l(b)&&a.emit("axis.dbclick",[b,c])}),a.on("chart.rclick",function(b){l(b)&&a.emit("axis.rclick",[b,c])})}function n(){b.extend(o,{data:d.data,origin:d.origin,buffer:d.buffer,shift:d.shift,index:d.index,page:d.page,start:d.start,end:d.end}),o.origin=o.data,o.start>0||o.end>0?j(o.start,o.end):i(o.page),m(),o.reload(d)}var o=this,p=null,q={},r={},s="",t=null,u="",v=null;this.getValue=function(a,c,e){var f=a[d.keymap[c]];return b.typeCheck("undefined",f)?(f=a[c],b.typeCheck("undefined",f)?e:f):f},this.reload=function(c){var d=a.area();b.extend(this,{x:c.x,y:c.y,c:c.c,map:c.map}),r=b.typeCheck("integer",c.padding)?{left:c.padding,right:c.padding,bottom:c.padding,top:c.padding}:c.padding,q=e(b.extend(c.area,{x:0,y:0,width:d.width,height:d.height},!0),r),k(),this.x=g(this,"x"),this.y=g(this,"y"),this.c=g(this,"c"),this.map=h(this,"map")},this.area=function(a){return b.typeCheck("undefined",q[a])?q:q[a]},this.padding=function(a){return b.typeCheck("undefined",r[a])?r:r[a]},this.get=function(a){var b={area:q,padding:r,clipId:s,clipRectId:u};return b[a]||d[a]},this.updateGrid=function(d,e){b.extend(c[d],e),a.isRender()&&a.render()},this.updateMap=function(d,e){b.extend(c.map,d),b.typeCheck("array",e)?this.update(e):a.isRender()&&a.render()},this.update=function(a){this.origin=a,this.page=1,this.start=0,this.end=0,this.screen(1)},this.screen=function(b){i(b),this.end<=this.origin.length&&a.isRender()&&a.render()},this.next=function(){var b=this.origin,c=this.buffer,d=this.shift;this.start+=d;var e=this.start+c>b.length;this.end=e?b.length:this.start+c,this.start=e?b.length-c:this.start,this.start=this.start<0?0:this.start,this.data=b.slice(this.start,this.end),a.isRender()&&a.render()},this.prev=function(){var b=this.origin,c=this.buffer,d=this.shift;this.start-=d;var e=this.start<0;this.end=e?c:this.start+c,this.start=e?0:this.start,this.data=b.slice(this.start,this.end),a.isRender()&&a.render()},this.zoom=function(b,c){b!=c&&(j(b,c),a.isRender()&&a.render())},n()};return c.setup=function(){return{extend:null,x:null,y:null,c:null,map:null,data:[],origin:[],keymap:{},area:{},padding:{top:0,bottom:0,left:0,right:0},buffer:1e4,shift:1,page:1,start:0,end:0,degree:0,depth:0}},c}),jui.define("chart.map",["jquery","util.base","util.math","util.svg"],function(a,b,c,d){var e=function(){function c(c){function e(b){for(var c={},d=b.split(";"),e=0;e<d.length;e++)if(-1!=d[e].indexOf(":")){var f=d[e].split(":");c[a.trim(f[0])]=a.trim(f[1])}return c}for(var f=[],g=0,h=c.length;h>g;g++)if(b.typeCheck("object",c[g])){var i={};b.typeCheck("string",c[g].style)&&(i=e(c[g].style),delete c[g].style);var k=d.createObject({type:"path",attr:c[g]});k.attr({fill:j.chart.theme("mapPathBackgroundColor"),"fill-opacity":j.chart.theme("mapPathBackgroundOpacity"),stroke:j.chart.theme("mapPathBorderColor"),"stroke-width":j.chart.theme("mapPathBorderWidth"),"stroke-opacity":j.chart.theme("mapPathBorderOpacity")}),k.css(i),f.push({path:k,data:c[g]})}return f}function e(d){function e(a){return"id"==a||"title"==a||"x"==a||"y"==a||"d"==a||"class"==a||"style"==a}var g=[];return a.ajax({url:d,async:!1,success:function(c){var d=a(c).find("path"),h=a(c).find("style");d.each(function(){var c={};a.each(this.attributes,function(){this.specified&&e(this.name)&&(c[this.name]=this.value)}),b.typeCheck("string",c.id)&&(b.extend(c,f(c.id)),g.push(c))}),h.each(function(){j.chart.svg.root.element.appendChild(this)})}}),c(g)}function f(a){for(var b=j.axis.data,c=0;c<b.length;c++){var d=j.axis.getValue(b[c],"id",null);if(d==a)return b[c]}return null}function g(){for(var a=j.chart.svg.group(),c=e(j.map.path),d=0,f=c.length;f>d;d++){var g=c[d].path,h=c[d].data;i(g,c[d]),a.append(g),b.typeCheck("string",h.id)&&(m[h.id]=c[d])}return a}function h(){var a=j.map.width,b=j.map.height,c=(a*n-a)/2,d=(b*n-b)/2;return{x:c+o,y:d+p}}function i(b,c){function d(b){var c=a(e.root).offset(),d=b.pageX-c.left,f=b.pageY-c.top;b.bgX=d,b.bgY=f,b.chartX=d-e.padding("left"),b.chartY=f-e.padding("top")}var e=j.chart;b.on("click",function(a){d(a),e.emit("map.click",[c,a])}),b.on("dblclick",function(a){d(a),e.emit("map.dblclick",[c,a])}),b.on("contextmenu",function(a){d(a),e.emit("map.rclick",[c,a]),a.preventDefault()}),b.on("mouseover",function(a){d(a),e.emit("map.mouseover",[c,a])}),b.on("mouseout",function(a){d(a),e.emit("map.mouseout",[c,a])}),b.on("mousemove",function(a){d(a),e.emit("map.mousemove",[c,a])}),b.on("mousedown",function(a){d(a),e.emit("map.mousedown",[c,a])}),b.on("mouseup",function(a){d(a),e.emit("map.mouseup",[c,a])})}var j=this,k=null,l=null,m={},n=1,o=0,p=0;this.scale=function(a){if(b.typeCheck("string",a)){var c=null,d=null,e=null,f=null,g=h();if(b.typeCheck("object",m[a])){if(e=m[a].path,f=m[a].data,null!=f.x){var i=parseFloat(f.x);c=i*n-g.x}if(null!=f.y){var j=parseFloat(f.y);d=j*n-g.y}}return{x:c,y:d,path:e,data:f}}},this.scale.each=function(a){var b=this;for(var c in m)a.apply(b,[c,m[c]])},this.scale.size=function(){return{width:j.map.width,height:j.map.height}},this.scale.scale=function(a){return!a||0>a?n:(n=a,l.scale(n),this.view(o,p),n)},this.scale.view=function(a,c){var d={x:o,y:p};if(!b.typeCheck("number",a)||!b.typeCheck("number",c))return d;o=a,p=c;var e=h();return l.translate(-e.x,-e.y),{x:o,y:p}},this.draw=function(){var a=this.chart.svg.group();return n=this.map.scale,o=this.map.viewX,p=this.map.viewY,k!=this.map.path&&(l=g(),k=this.map.path),a.append(l),1!=this.map.scale&&this.scale.scale(n),(0!=this.map.viewX||0!=this.map.viewY)&&this.scale.view(o,p),this.map.hide&&a.attr({visibility:"hidden"}),{root:a,scale:this.scale}},this.drawAfter=function(a){a.root.attr({"clip-path":"url(#"+this.axis.get("clipRectId")+")"})}};return e.setup=function(){return{scale:1,viewX:0,viewY:0,hide:!1,path:"",width:-1,height:-1}},e},"chart.draw"),jui.defineUI("chart.builder",["jquery","util.base","util.svg","util.color","chart.axis"],function(a,b,c,d,e){var f=0;b.resize(function(){if(f!=a(window).width()){for(var b=jui.get("chart.builder"),c=0;c<b.length;c++)for(var d=b[c],e=0;e<d.length;e++)d[e].isFullSize()&&d[e].setSize(),d[e].isRender()||d[e].render(!0);f=a(window).width()}},300);var g=function(){function f(a){var b=a.svg.size(),c={width:b.width-(s.left+s.right),height:b.height-(s.top+s.bottom),x:s.left,y:s.top};c.width<0&&(c.width=0),c.height<0&&(c.height=0),c.x2=c.x+c.width,c.y2=c.y+c.height,u=c}function g(a){t=b.deepClone(C.series),x=b.deepClone(C.brush),y=b.deepClone(C.widget),z=a.svg.defs(),A={}}function h(a){for(var c=b.deepClone(C.axis,{data:!0,origin:!0}),d=0;d<c.length;d++)jui.defineOptions(e,c[d]),c[d].index=d,w[d]?w[d].reload(c[d]):w[d]=new e(a,C.axis[d],c[d])}function i(a){var c=x;if(null!=c)for(var d=0;d<c.length;d++){var e=jui.include("chart.brush."+c[d].type);jui.defineOptions(e,c[d]);var f=w[c[d].axis];if(c[d].target)b.typeCheck("string",c[d].target)&&(c[d].target=[c[d].target]);else{var g=[];if(f)for(var h in f.data[0])g.push(h);c[d].target=g}c[d].index=d;var i=new e(a,f,c[d]);i.chart=a,i.axis=f,i.brush=c[d],i.render()}}function j(a,b){var c=y;if(null!=c)for(var d=0;d<c.length;d++){var e=jui.include("chart.widget."+c[d].type);jui.defineOptions(e,c[d]),c[d].index=d;var f=new e(a,w[0],c[d]);if(f.chart=a,f.axis=w[0],f.widget=c[d],B&&!f.isRender()&&b!==!0)return;var g=f.render();f.isRender()||a.svg.autoRender(g,!1)}}function k(b){function c(c){var d=a(b.root).offset(),e=c.pageX-d.left,f=c.pageY-d.top;return c.bgX=(e+F)/E,c.bgY=(f+G)/E,c.chartX=(e-b.padding("left")+F)/E,c.chartY=(f-b.padding("top")+G)/E,c.chartX<0||c.chartX>b.area("width")||c.chartY<0||c.chartY>b.area("height")?void 0:!0}var d=b.svg.root,e=!1;d.on("click",function(a){c(a)?b.emit("chart.click",[a]):b.emit("bg.click",[a])}),d.on("dblclick",function(a){c(a)?b.emit("chart.dblclick",[a]):b.emit("bg.dblclick",[a])}),d.on("contextmenu",function(a){c(a)?b.emit("chart.rclick",[a]):b.emit("bg.rclick",[a]),a.preventDefault()}),d.on("mousemove",function(a){c(a)?e?b.emit("chart.mousemove",[a]):(b.emit("chart.mouseover",[a]),e=!0):(e&&(b.emit("chart.mouseout",[a]),e=!1),b.emit("bg.mousemove",[a]))}),d.on("mousedown",function(a){c(a)?b.emit("chart.mousedown",[a]):b.emit("bg.mousedown",[a])}),d.on("mouseup",function(a){c(a)?b.emit("chart.mouseup",[a]):b.emit("bg.mouseup",[a])}),d.on("mouseover",function(a){c(a)||b.emit("bg.mouseover",[a])}),d.on("mouseout",function(a){c(a)||b.emit("bg.mouseout",[a])}),b.addEvent(b.root,"selectstart",function(a){return a.preventDefault(),!1})}function l(a,b){for(var c=0;c<D.render.length;c++)a.off(D.render[c]);if(D.render=[],b===!0){for(var c=0;c<D.renderAll.length;c++)a.off(D.renderAll[c]);D.renderAll=[]}}function m(a,d){if(!b.typeCheck("undefined",d)&&A[d])return"url(#"+A[d]+")";var e=null,f=b.createId("gradient");return a.attr.id=f,e=c.createObject(a),z.append(e),b.typeCheck("undefined",d)||(A[d]=f),"url(#"+f+")"}function n(a){if(b.typeCheck("string",a)){if(a=a.replace("url(#","").replace(")",""),A[a])return"url(#"+a+")";if(-1==a.indexOf("pattern-"))return!1;var d=a.split("-"),e=d.pop(),f=jui.include("chart."+d.join("."));if(!f)return!1;var g=f[e];return"function"==typeof g&&(g=g.call(g)),g.attr&&!g.attr.id&&(g.attr.id=a),g=c.createObject(g),z.append(g),A[a]=a,"url(#"+a+")"}if(a.attr.id=a.attr.id||b.createId("pattern-"),A[a.attr.id])return"url(#"+a.attr.id+")";var g=c.createObject(a);return z.append(g),A[a.attr.id]=a.attr.id,"url(#"+a.attr.id+")"}function o(a){if(b.typeCheck("undefined",a))return"none";if(b.typeCheck("object",a))return"pattern"==a.type?n(a):m(a);if("string"==typeof a){var c=n(a);if(c)return c}var e=d.parse(a);return e==a?a:m(e,a)}function p(a){var c={};b.typeCheck("string",a)?(b.extend(c,jui.include("chart.theme."+a)),b.extend(c,C.style)):b.typeCheck("object",a)&&(b.extend(v,C.style),b.extend(v,a),b.extend(c,v)),v=c}function q(a){C=b.deepClone(a.options,{data:!0,bind:!0});var c=C.padding;s=b.typeCheck("integer",c)?{left:c,right:c,bottom:c,top:c}:c,b.typeCheck("object",C.bind)&&a.bindUI(0,C.bind),b.typeCheck("array",C.axis)||(C.axis=[C.axis]),b.typeCheck("array",C.brush)||(C.brush=[C.brush]),b.typeCheck("array",C.widget)||(C.widget=[C.widget]);for(var d=0;d<C.axis.length;d++){var e=C.axis[d];b.extend(e,C.axis[e.extend],!0)}}function r(){var a=C.icon;if(b.typeCheck(["string","array"],a.path)){for(var c=b.typeCheck("string",a.path)?[a.path]:a.path,d=[],e=0;e<c.length;e++){var f=c[e],g="url("+f+") ";-1!=f.indexOf(".eot")?g+="format('embedded-opentype')":-1!=f.indexOf(".woff")?g+="format('woff')":-1!=f.indexOf(".ttf")?g+="format('truetype')":-1!=f.indexOf(".svg")&&(g+="format('svg')"),d.push(g)}var h="font-family: "+a.type+"; font-weight: normal; font-style: normal; src: "+d.join(",");!function(a){var b=function(){var a=document.createElement("style");
return a.appendChild(document.createTextNode("")),document.head.appendChild(a),a.sheet}();b.insertRule(a,0)}("@font-face {"+h+"}")}}var s,t,u,v,w=[],x=[],y=[],z=null,A={},B=!1,C=null,D={render:[],renderAll:[]},E=1,F=0,G=0;this.init=function(){q(this),p(C.theme),this.svg=new c(this.root,{width:C.width,height:C.height,"buffered-rendering":"dynamic"}),this.render(),k(this),r()},this.get=function(a,b){var c={axis:w,brush:x,widget:y,series:t,padding:s,area:u};return c[a][b]?c[a][b]:c[a]||c},this.axis=function(a){return b.typeCheck("undefined",w[a])?w:w[a]},this.area=function(a){return b.typeCheck("undefined",u[a])?u:u[a]},this.padding=function(a){return b.typeCheck("undefined",s[a])?s:s[a]},this.color=function(a,c){function d(b){var c=v.colors,d=b||a;return d>c.length-1?c[c.length-1]:c[d]}var e=null;if(b.typeCheck("string",a))e=a;else if(b.typeCheck("array",c.colors)?(e=c.colors[a],b.typeCheck("integer",e)&&(e=d(e))):e=d(),b.typeCheck("array",c.target)){var f=t[c.target[a]];f&&f.color&&(e=f.color,b.typeCheck("integer",e)&&(e=d(e)))}return A[e]?"url(#"+A[e]+")":o(e)},this.icon=function(a){return jui.include("chart.icon."+C.icon.type)[a]},this.text=function(a,c){if(b.typeCheck("string",c)){var d=/{([^{}]+)}/g,e=c.match(d);if(null!=e)for(var f=0;f<e.length;f++){var g=e[f].substring(1,e[f].length-1);c=c.replace(e[f],this.icon(g))}}else b.typeCheck("undefined",c)&&(c="");return this.svg.text(a,c)},this.theme=function(a,b,c){if(0==arguments.length)return v;if(1==arguments.length)return a.indexOf("Color")>-1&&null!=v[a]?o(v[a]):v[a];if(3==arguments.length){var d=a?b:c;return d.indexOf("Color")>-1&&null!=v[d]?o(v[d]):v[d]}},this.format=function(){if(0!=arguments.length){var a=C.format;return b.typeCheck("function",a)?a.apply(this,arguments):arguments[0]}},this.bindUI=function(a,b){function c(){d.axis(a).update(b.listData())}var d=this;"uix.table"==b.module.type?(b.callAfter("update",c),b.callAfter("sort",c),b.callAfter("append",c),b.callAfter("insert",c),b.callAfter("remove",c)):"uix.xtable"==b.module.type&&(b.callAfter("update",c),b.callAfter("sort",c))},this.on=function(a,c,d){b.typeCheck("string",a)&&b.typeCheck("function",c)&&(this.event.push({type:a.toLowerCase(),callback:c}),("render"==d||"renderAll"==d)&&D[d].push(c))},this.scale=function(a){return!a||0>a?E:(E=a,this.svg.root.each(function(a,b){b.scale(E)}),E)},this.view=function(a,c){var d=this.area(),e={x:F,y:G};return Math.abs(a)>d.width||!b.typeCheck("number",a)?e:Math.abs(c)>d.height||!b.typeCheck("number",c)?e:(F=a,G=c,this.svg.root.attr({viewBox:F+" "+G+" "+d.width+" "+d.height}),{x:F,y:G})},this.render=function(a){this.svg.reset(a),l(this,a),f(this),g(this),h(this),i(this),j(this,a),this.svg.root.css({"font-family":this.theme("fontFamily")+","+C.icon.type,"font-size":this.theme("fontSize"),fill:this.theme("fontColor"),background:this.theme("backgroundColor")}),this.svg.render(a),this.emit("render",[B]),B=!0},this.appendDefs=function(a){z.append(a)},this.addBrush=function(a){C.brush.push(a),this.isRender()&&this.render()},this.removeBrush=function(a){C.brush.splice(a,1),this.isRender()&&this.render()},this.updateBrush=function(a,c){b.extend(C.brush[a],c),this.isRender()&&this.render()},this.addWidget=function(a){C.widget.push(a),this.isRender()&&this.render()},this.removeWidget=function(a){C.widget.splice(a,1),this.isRender()&&this.render()},this.updateWidget=function(a,c){b.extend(C.widget[a],c),this.isRender()&&this.render()},this.setTheme=function(a){p(a),this.isRender()&&this.render(!0)},this.setSize=function(a,b){2==arguments.length&&(C.width=a,C.height=b),this.svg.size(C.width,C.height),this.isRender()&&this.render(!0)},this.isFullSize=function(){return"100%"==C.width||"100%"==C.height?!0:!0},this.isRender=function(){return B?C.render:!0}};return g.setup=function(){return{width:"100%",height:"100%",padding:{top:50,bottom:50,left:50,right:50},theme:"jennifer",style:{},series:{},brush:[],widget:[],axis:[],bind:null,format:null,render:!0,icon:{type:"jennifer",path:null}}},g}),jui.define("chart.theme.jennifer",[],function(){var a=["#7977C2","#7BBAE7","#FFC000","#FF7800","#87BB66","#1DA8A0","#929292","#555D69","#0298D5","#FA5559","#F5A397","#06D9B6","#C6A9D9","#6E6AFC","#E3E766","#C57BC3","#DF328B","#96D7EB","#839CB5","#9228E4"];return{backgroundColor:"white",fontSize:"11px",fontColor:"#333333",fontFamily:"arial,Tahoma,verdana",colors:a,gridFontColor:"#333333",gridActiveFontColor:"#ff7800",gridRectColor:"#ababab",gridBorderColor:"#ebebeb",gridBorderWidth:1,gridActiveBorderColor:"#ff7800",gridAxisBorderColor:"#bfbfbf",gridAxisBorderWidth:2,gridTickSize:3,gridTickBorderWidth:1.5,gridTickPadding:5,gridBorderDashArray:"none",tooltipPointRadius:5,tooltipPointBorderWidth:1,tooltipPointFontWeight:"bold",barBorderColor:"none",barBorderWidth:0,barBorderOpacity:0,barBorderRadius:3,barPointBorderColor:"white",barDisableBackgroundOpacity:.4,gaugeBackgroundColor:"#ececec",gaugeArrowColor:"#666666",gaugeFontColor:"#666666",gaugeFontSize:"20px",gaugeFontWeight:"bold",gaugeTitleFontSize:"12px",gaugeTitleFontWeight:"normal",gaugeTitleFontColor:"#333",bargaugeBackgroundColor:"#ececec",bargaugeFontSize:"11px",bargaugeFontColor:"#333333",pieBorderColor:"#ececec",pieBorderWidth:1,pieOuterFontSize:"11px",pieOuterLineColor:"#a9a9a9",pieOuterLineSize:8,pieOuterLineRate:1.3,pieActiveDistance:5,areaBackgroundOpacity:.5,areaSplitBackgroundColor:"#929292",bubbleBackgroundOpacity:.5,bubbleBorderWidth:1,candlestickBorderColor:"black",candlestickBackgroundColor:"white",candlestickInvertBorderColor:"red",candlestickInvertBackgroundColor:"red",ohlcBorderColor:"black",ohlcInvertBorderColor:"red",ohlcBorderRadius:5,lineBorderWidth:2,lineBorderDashArray:"none",lineDisableBorderOpacity:.3,linePointBorderColor:"white",lineSplitBorderColor:null,lineSplitBorderOpacity:.5,pathBackgroundOpacity:.5,pathBorderWidth:1,scatterBorderColor:"white",scatterBorderWidth:1,scatterHoverColor:"white",waterfallBackgroundColor:"#87BB66",waterfallInvertBackgroundColor:"#FF7800",waterfallEdgeBackgroundColor:"#7BBAE7",waterfallLineColor:"#a9a9a9",waterfallLineDashArray:"0.9",focusBorderColor:"#FF7800",focusBorderWidth:1,focusBackgroundColor:"#FF7800",focusBackgroundOpacity:.1,pinFontColor:"#FF7800",pinFontSize:"10px",pinBorderColor:"#FF7800",pinBorderWidth:.7,topologyNodeRadius:12.5,topologyNodeFontSize:"14px",topologyNodeFontColor:"white",topologyNodeTitleFontSize:"11px",topologyNodeTitleFontColor:"#333",topologyEdgeColor:"#b2b2b2",topologyActiveEdgeColor:"#905ed1",topologyEdgeFontSize:"10px",topologyEdgeFontColor:"#666",topologyEdgePointRadius:3,topologyTooltipBackgroundColor:"white",topologyTooltipBorderColor:"#ccc",topologyTooltipFontSize:"11px",topologyTooltipFontColor:"#333",titleFontColor:"#333",titleFontSize:"13px",titleFontWeight:"normal",legendFontColor:"#333",legendFontSize:"12px",legendIconRadius:6,tooltipFontColor:"#333",tooltipFontSize:"12px",tooltipBackgroundColor:"white",tooltipBorderColor:"#aaaaaa",tooltipBackgroundOpacity:.7,scrollBackgroundSize:7,scrollBackgroundColor:"#dcdcdc",scrollThumbBackgroundColor:"#b2b2b2",scrollThumbBorderColor:"#9f9fa4",zoomBackgroundColor:"red",zoomFocusColor:"gray",zoomScrollBackgroundSize:50,zoomScrollBackgroundColor:"#000",zoomScrollFocusColor:"#fff",zoomScrollBrushColor:"#000",crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBalloonFontSize:"11px",crossBalloonFontColor:"white",crossBalloonBackgroundColor:"black",crossBalloonBackgroundOpacity:.5,mapPathBackgroundColor:"#67B7DC",mapPathBackgroundOpacity:1,mapPathBorderColor:"white",mapPathBorderWidth:0,mapPathBorderOpacity:0,mapBubbleBackgroundOpacity:.5,mapBubbleBorderWidth:1,mapSelectorColor:"#5a73db",mapSelectorActiveColor:"#CC0000",mapFlightRouteAirportSmallColor:"#CC0000",mapFlightRouteAirportLargeColor:"#000",mapFlightRouteAirportBorderWidth:2,mapFlightRouteAirportRadius:8,mapFlightRouteLineBorderColor:"red",mapFlightRouteLineBorderWidth:1,mapControlButtonColor:"#3994e2",mapControlScrollColor:"#000",mapControlScrollLineColor:"#fff"}}),jui.define("chart.theme.gradient",[],function(){var a=["linear(top) #9694e0,0.9 #7977C2","linear(top) #a1d6fc,0.9 #7BBAE7","linear(top) #ffd556,0.9 #ffc000","linear(top) #ff9d46,0.9 #ff7800","linear(top) #9cd37a,0.9 #87bb66","linear(top) #3bb9b2,0.9 #1da8a0","linear(top) #b3b3b3,0.9 #929292","linear(top) #67717f,0.9 #555d69","linear(top) #16b5f6,0.9 #0298d5","linear(top) #ff686c,0.9 #fa5559","linear(top) #fbbbb1,0.9 #f5a397","linear(top) #3aedcf,0.9 #06d9b6","linear(top) #d8c2e7,0.9 #c6a9d9","linear(top) #8a87ff,0.9 #6e6afc","linear(top) #eef18c,0.9 #e3e768","linear(top) #ee52a2,0.9 #df328b","linear(top) #b6e5f4,0.9 #96d7eb","linear(top) #93aec8,0.9 #839cb5","linear(top) #b76fef,0.9 #9228e4"];return{backgroundColor:"white",fontSize:"11px",fontColor:"#666",fontFamily:"arial,Tahoma,verdana",colors:a,gridFontColor:"#666",gridActiveFontColor:"#ff7800",gridBorderColor:"#efefef",gridBorderWidth:1,gridBorderDashArray:"none",gridTickSize:3,gridRectColor:"#ababab",gridAxisBorderColor:"#efefef",gridAxisBorderWidth:2,gridActiveBorderColor:"#ff7800",gridTickBorderWidth:1.5,gridTickPadding:5,tooltipPointRadius:5,tooltipPointBorderWidth:1,tooltipPointFontWeight:"bold",barBorderColor:"none",barBorderWidth:0,barBorderOpacity:0,barBorderRadius:3,barActiveBackgroundColor:"linear(top) #3aedcf,0.9 #06d9b6",barPointBorderColor:"white",barDisableBackgroundOpacity:.4,gaugeBackgroundColor:"#ececec",gaugeArrowColor:"#666666",gaugeFontColor:"#666666",gaugeFontSize:"20px",gaugeFontWeight:"bold",gaugeTitleFontSize:"12px",gaugeTitleFontWeight:"normal",gaugeTitleFontColor:"#333",bargaugeBackgroundColor:"#ececec",bargaugeFontSize:"11px",bargaugeFontColor:"#333333",pieBorderColor:"white",pieBorderWidth:1,pieOuterFontSize:"11px",pieOuterLineColor:"#a9a9a9",pieOuterLineSize:8,pieOuterLineRate:1.3,pieActiveDistance:5,areaBackgroundOpacity:.4,areaSplitBackgroundColor:"linear(top) #b3b3b3,0.9 #929292",bubbleBackgroundOpacity:.5,bubbleBorderWidth:1,candlestickBorderColor:"black",candlestickBackgroundColor:"linear(top) white",candlestickInvertBorderColor:"red",candlestickInvertBackgroundColor:"linear(top) red",ohlcBorderColor:"#14be9d",ohlcInvertBorderColor:"#ff4848",ohlcBorderRadius:5,lineBorderWidth:2,lineBorderDashArray:"none",lineDisableBorderOpacity:.3,linePointBorderColor:"white",lineSplitBorderColor:null,lineSplitBorderOpacity:.5,pathBackgroundOpacity:.5,pathBorderWidth:1,scatterBorderColor:"white",scatterBorderWidth:2,scatterHoverColor:"white",waterfallBackgroundColor:"linear(top) #9cd37a,0.9 #87bb66",waterfallInvertBackgroundColor:"linear(top) #ff9d46,0.9 #ff7800",waterfallEdgeBackgroundColor:"linear(top) #a1d6fc,0.9 #7BBAE7",waterfallLineColor:"#a9a9a9",waterfallLineDashArray:"0.9",focusBorderColor:"#FF7800",focusBorderWidth:1,focusBackgroundColor:"#FF7800",focusBackgroundOpacity:.1,pinFontColor:"#FF7800",pinFontSize:"10px",pinBorderColor:"#FF7800",pinBorderWidth:.7,topologyNodeRadius:12.5,topologyNodeFontSize:"14px",topologyNodeFontColor:"white",topologyNodeTitleFontSize:"11px",topologyNodeTitleFontColor:"#333",topologyEdgeColor:"#b2b2b2",topologyActiveEdgeColor:"#905ed1",topologyEdgeFontSize:"10px",topologyEdgeFontColor:"#666",topologyEdgePointRadius:3,topologyTooltipBackgroundColor:"white",topologyTooltipBorderColor:"#ccc",topologyTooltipFontSize:"11px",topologyTooltipFontColor:"#333",titleFontColor:"#333",titleFontSize:"13px",titleFontWeight:"normal",legendFontColor:"#666",legendFontSize:"12px",legendIconRadius:6,tooltipFontColor:"#fff",tooltipFontSize:"12px",tooltipBackgroundColor:"black",tooltipBorderColor:"none",tooltipBackgroundOpacity:1,scrollBackgroundSize:7,scrollBackgroundColor:"#dcdcdc",scrollThumbBackgroundColor:"#b2b2b2",scrollThumbBorderColor:"#9f9fa4",zoomBackgroundColor:"red",zoomFocusColor:"gray",zoomScrollBackgroundSize:50,zoomScrollBackgroundColor:"#000",zoomScrollFocusColor:"#fff",zoomScrollBrushColor:"#000",crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBalloonFontSize:"11px",crossBalloonFontColor:"white",crossBalloonBackgroundColor:"black",crossBalloonBackgroundOpacity:.8,mapPathBackgroundColor:"#67B7DC",mapPathBackgroundOpacity:1,mapPathBorderColor:"white",mapPathBorderWidth:0,mapPathBorderOpacity:0,mapBubbleBackgroundOpacity:.5,mapBubbleBorderWidth:1,mapSelectorColor:"#5a73db",mapSelectorActiveColor:"#CC0000",mapFlightRouteAirportSmallColor:"#CC0000",mapFlightRouteAirportLargeColor:"#000",mapFlightRouteAirportBorderWidth:2,mapFlightRouteAirportRadius:8,mapFlightRouteLineBorderColor:"red",mapFlightRouteLineBorderWidth:1,mapControlButtonColor:"#3994e2",mapControlScrollColor:"#000",mapControlScrollLineColor:"#fff"}}),jui.define("chart.theme.dark",[],function(){var a=["#12f2e8","#26f67c","#e9f819","#b78bf9","#f94590","#8bccf9","#9228e4","#06d9b6","#fc6d65","#f199ff","#c8f21d","#16a6e5","#00ba60","#91f2a1","#fc9765","#f21d4f"];return{backgroundColor:"#222222",fontSize:"12px",fontColor:"#c5c5c5",fontFamily:"arial,Tahoma,verdana",colors:a,gridFontColor:"#868686",gridActiveFontColor:"#ff762d",gridBorderColor:"#464646",gridBorderWidth:1,gridBorderDashArray:"none",gridTickSize:3,gridTickPadding:5,gridRectColor:"#ababab",gridAxisBorderColor:"#464646",gridAxisBorderWidth:2,gridActiveBorderColor:"#ff7800",gridTickBorderWidth:1.5,tooltipPointRadius:5,tooltipPointBorderWidth:1,tooltipPointFontWeight:"bold",barBorderColor:"none",barBorderWidth:0,barBorderOpacity:0,barBorderRadius:3,barActiveBackgroundColor:"#fc6d65",barPointBorderColor:"white",barDisableBackgroundOpacity:.4,gaugeBackgroundColor:"#3e3e3e",gaugeArrowColor:"#a6a6a6",gaugeFontColor:"#c5c5c5",gaugeFontSize:"20px",gaugeFontWeight:"bold",gaugeTitleFontSize:"12px",gaugeTitleFontWeight:"normal",gaugeTitleFontColor:"#c5c5c5",bargaugeBackgroundColor:"#3e3e3e",bargaugeFontSize:"11px",bargaugeFontColor:"#c5c5c5",pieBorderColor:"#232323",pieBorderWidth:1,pieOuterFontSize:"11px",pieOuterLineColor:"#a9a9a9",pieOuterLineSize:8,pieOuterLineRate:1.3,pieActiveDistance:5,areaBackgroundOpacity:.5,areaSplitBackgroundColor:"#ebebeb",bubbleBackgroundOpacity:.5,bubbleBorderWidth:1,candlestickBorderColor:"#14be9d",candlestickBackgroundColor:"#14be9d",candlestickInvertBorderColor:"#ff4848",candlestickInvertBackgroundColor:"#ff4848",ohlcBorderColor:"#14be9d",ohlcInvertBorderColor:"#ff4848",ohlcBorderRadius:5,lineBorderWidth:2,lineBorderDashArray:"none",lineDisableBorderOpacity:.3,linePointBorderColor:"white",lineSplitBorderColor:null,lineSplitBorderOpacity:.5,pathBackgroundOpacity:.2,pathBorderWidth:1,scatterBorderColor:"none",scatterBorderWidth:1,scatterHoverColor:"#222222",waterfallBackgroundColor:"#26f67c",waterfallInvertBackgroundColor:"#f94590",waterfallEdgeBackgroundColor:"#8bccf9",waterfallLineColor:"#a9a9a9",waterfallLineDashArray:"0.9",focusBorderColor:"#FF7800",focusBorderWidth:1,focusBackgroundColor:"#FF7800",focusBackgroundOpacity:.1,pinFontColor:"#FF7800",pinFontSize:"10px",pinBorderColor:"#FF7800",pinBorderWidth:.7,topologyNodeRadius:12.5,topologyNodeFontSize:"14px",topologyNodeFontColor:"#c5c5c5",topologyNodeTitleFontSize:"11px",topologyNodeTitleFontColor:"#c5c5c5",topologyEdgeColor:"#b2b2b2",topologyActiveEdgeColor:"#905ed1",topologyEdgeFontSize:"10px",topologyEdgeFontColor:"#c5c5c5",topologyEdgePointRadius:3,topologyTooltipBackgroundColor:"#222222",topologyTooltipBorderColor:"#ccc",topologyTooltipFontSize:"11px",topologyTooltipFontColor:"#c5c5c5",titleFontColor:"#ffffff",titleFontSize:"14px",titleFontWeight:"normal",legendFontColor:"#ffffff",legendFontSize:"11px",legendIconRadius:5.5,tooltipFontColor:"#333333",tooltipFontSize:"12px",tooltipBackgroundColor:"white",tooltipBorderColor:"white",tooltipBackgroundOpacity:1,scrollBackgroundSize:7,scrollBackgroundColor:"#3e3e3e",scrollThumbBackgroundColor:"#666666",scrollThumbBorderColor:"#686868",zoomBackgroundColor:"red",zoomFocusColor:"gray",zoomScrollBackgroundSize:50,zoomScrollBackgroundColor:"#000",zoomScrollFocusColor:"#fff",zoomScrollBrushColor:"#000",crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBalloonFontSize:"11px",crossBalloonFontColor:"#333",crossBalloonBackgroundColor:"white",crossBalloonBackgroundOpacity:1,mapPathBackgroundColor:"#67B7DC",mapPathBackgroundOpacity:1,mapPathBorderColor:"white",mapPathBorderWidth:0,mapPathBorderOpacity:0,mapBubbleBackgroundOpacity:.5,mapBubbleBorderWidth:1,mapSelectorColor:"#5a73db",mapSelectorActiveColor:"#CC0000",mapFlightRouteAirportSmallColor:"#CC0000",mapFlightRouteAirportLargeColor:"#000",mapFlightRouteAirportBorderWidth:2,mapFlightRouteAirportRadius:8,mapFlightRouteLineBorderColor:"red",mapFlightRouteLineBorderWidth:1,mapControlButtonColor:"#3994e2",mapControlScrollColor:"#000",mapControlScrollLineColor:"#fff"}}),jui.define("chart.theme.pastel",[],function(){var a=["#73e9d2","#fef92c","#ff9248","#b7eef6","#08c4e0","#ffb9ce","#ffd4ba","#14be9d","#ebebeb","#666666","#cdbfe3","#bee982","#c22269"];return{backgroundColor:"white",fontSize:"11px",fontColor:"#333333",fontFamily:"Caslon540BT-Regular,Times,New Roman,serif",colors:a,gridFontColor:"#333333",gridActiveFontColor:"#ff7800",gridBorderColor:"#bfbfbf",gridBorderWidth:1,gridRectColor:"#ababab",gridBorderDashArray:"1, 3",gridAxisBorderColor:"#bfbfbf",gridAxisBorderWidth:2,gridActiveBorderColor:"#ff7800",gridTickSize:3,gridTickPadding:5,gridTickBorderWidth:1.5,tooltipPointRadius:5,tooltipPointBorderWidth:1,tooltipPointFontWeight:"bold",barBorderColor:"none",barBorderWidth:0,barBorderOpacity:0,barBorderRadius:3,barActiveBackgroundColor:"#ffb9ce",barPointBorderColor:"#ebebeb",barDisableBackgroundOpacity:.4,gaugeBackgroundColor:"#f5f5f5",gaugeArrowColor:"gray",gaugeFontColor:"#666666",gaugeFontSize:"20px",gaugeFontWeight:"bold",gaugeTitleFontSize:"12px",gaugeTitleFontWeight:"normal",gaugeTitleFontColor:"#333",bargaugeBackgroundColor:"#f5f5f5",bargaugeFontSize:"11px",bargaugeFontColor:"#333333",pieBorderColor:"white",pieBorderWidth:1,pieOuterFontSize:"11px",pieOuterLineColor:"#a9a9a9",pieOuterLineSize:8,pieOuterLineRate:1.3,pieActiveDistance:5,areaBackgroundOpacity:.4,areaSplitBackgroundColor:"#ebebeb",bubbleBackgroundOpacity:.5,bubbleBorderWidth:1,candlestickBorderColor:"#14be9d",candlestickBackgroundColor:"#14be9d",candlestickInvertBorderColor:"#ff4848",candlestickInvertBackgroundColor:"#ff4848",ohlcBorderColor:"#14be9d",ohlcInvertBorderColor:"#ff4848",ohlcBorderRadius:5,lineBorderWidth:2,lineBorderDashArray:"none",lineDisableBorderOpacity:.3,linePointBorderColor:"white",lineSplitBorderColor:null,lineSplitBorderOpacity:.5,pathBackgroundOpacity:.5,pathBorderWidth:1,scatterBorderColor:"white",scatterBorderWidth:1,scatterHoverColor:"white",waterfallBackgroundColor:"#73e9d2",waterfallInvertBackgroundColor:"#ffb9ce",waterfallEdgeBackgroundColor:"#08c4e0",waterfallLineColor:"#a9a9a9",waterfallLineDashArray:"0.9",focusBorderColor:"#FF7800",focusBorderWidth:1,focusBackgroundColor:"#FF7800",focusBackgroundOpacity:.1,pinFontColor:"#FF7800",pinFontSize:"10px",pinBorderColor:"#FF7800",pinBorderWidth:.7,topologyNodeRadius:12.5,topologyNodeFontSize:"14px",topologyNodeFontColor:"white",topologyNodeTitleFontSize:"11px",topologyNodeTitleFontColor:"#333",topologyEdgeColor:"#b2b2b2",topologyActiveEdgeColor:"#905ed1",topologyEdgeFontSize:"10px",topologyEdgeFontColor:"#666",topologyEdgePointRadius:3,topologyTooltipBackgroundColor:"white",topologyTooltipBorderColor:"#ccc",topologyTooltipFontSize:"11px",topologyTooltipFontColor:"#333",titleFontColor:"#333",titleFontSize:"18px",titleFontWeight:"normal",legendFontColor:"#333",legendFontSize:"11px",legendIconRadius:5.5,tooltipFontColor:"#fff",tooltipFontSize:"12px",tooltipBackgroundColor:"black",tooltipBorderColor:"black",tooltipBackgroundOpacity:.7,scrollBackgroundSize:7,scrollBackgroundColor:"#f5f5f5",scrollThumbBackgroundColor:"#b2b2b2",scrollThumbBorderColor:"#9f9fa4",zoomBackgroundColor:"red",zoomFocusColor:"gray",zoomScrollBackgroundSize:50,zoomScrollBackgroundColor:"#000",zoomScrollFocusColor:"#fff",zoomScrollBrushColor:"#000",crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBalloonFontSize:"11px",crossBalloonFontColor:"white",crossBalloonBackgroundColor:"black",crossBalloonBackgroundOpacity:.7,mapPathBackgroundColor:"#67B7DC",mapPathBackgroundOpacity:1,mapPathBorderColor:"white",mapPathBorderWidth:0,mapPathBorderOpacity:0,mapBubbleBackgroundOpacity:.5,mapBubbleBorderWidth:1,mapSelectorColor:"#5a73db",mapSelectorActiveColor:"#CC0000",mapFlightRouteAirportSmallColor:"#CC0000",mapFlightRouteAirportLargeColor:"#000",mapFlightRouteAirportBorderWidth:2,mapFlightRouteAirportRadius:8,mapFlightRouteLineBorderColor:"red",mapFlightRouteLineBorderWidth:1,mapControlButtonColor:"#3994e2",mapControlScrollColor:"#000",mapControlScrollLineColor:"#fff"}}),jui.define("chart.theme.pattern",[],function(){var a=["pattern-jennifer-01","pattern-jennifer-02","pattern-jennifer-03","pattern-jennifer-04","pattern-jennifer-05","pattern-jennifer-06","pattern-jennifer-07","pattern-jennifer-08","pattern-jennifer-09","pattern-jennifer-10","pattern-jennifer-11","pattern-jennifer-12"];return{backgroundColor:"white",fontSize:"11px",fontColor:"#333333",fontFamily:"arial,Tahoma,verdana",colors:a,gridFontColor:"#333333",gridActiveFontColor:"#ff7800",gridBorderDashArray:"none",gridRectColor:"#ababab",gridAxisBorderColor:"#ebebeb",gridAxisBorderWidth:2,gridActiveBorderColor:"#ff7800",gridBorderColor:"#ebebeb",gridBorderWidth:1,gridTickSize:3,gridTickPadding:5,gridTickBorderWidth:1.5,tooltipPointRadius:5,tooltipPointBorderWidth:1,tooltipPointFontWeight:"bold",barBorderColor:"black",barBorderWidth:1,barBorderOpacity:1,barBorderRadius:5,barActiveBackgroundColor:"#06d9b6",barPointBorderColor:"white",barDisableBackgroundOpacity:.4,gaugeBackgroundColor:"#ececec",gaugeArrowColor:"#666666",gaugeFontColor:"#666666",gaugeFontSize:"20px",gaugeFontWeight:"bold",gaugeTitleFontSize:"12px",gaugeTitleFontWeight:"normal",gaugeTitleFontColor:"#333",pieBorderColor:"white",bargaugeBackgroundColor:"#ececec",bargaugeFontSize:"11px",bargaugeFontColor:"#333333",pieBorderWidth:1,pieOuterFontSize:"11px",pieOuterLineColor:"#a9a9a9",pieOuterLineSize:8,pieOuterLineRate:1.3,pieActiveDistance:5,areaBackgroundOpacity:.5,areaSplitBackgroundColor:"#929292",bubbleBackgroundOpacity:.5,bubbleBorderWidth:1,candlestickBorderColor:"black",candlestickBackgroundColor:"white",candlestickInvertBorderColor:"red",candlestickInvertBackgroundColor:"red",ohlcBorderColor:"black",ohlcInvertBorderColor:"red",ohlcBorderRadius:5,lineBorderWidth:2,lineBorderDashArray:"none",lineDisableBorderOpacity:.3,linePointBorderColor:"white",lineSplitBorderColor:null,lineSplitBorderOpacity:.5,pathBackgroundOpacity:.5,pathBorderWidth:1,scatterBorderColor:"white",scatterBorderWidth:1,scatterHoverColor:"white",waterfallBackgroundColor:"#87BB66",waterfallInvertBackgroundColor:"#FF7800",waterfallEdgeBackgroundColor:"#7BBAE7",waterfallLineColor:"#a9a9a9",waterfallLineDashArray:"0.9",focusBorderColor:"#FF7800",focusBorderWidth:1,focusBackgroundColor:"#FF7800",focusBackgroundOpacity:.1,pinFontColor:"#FF7800",pinFontSize:"10px",pinBorderColor:"#FF7800",pinBorderWidth:.7,topologyNodeRadius:12.5,topologyNodeFontSize:"14px",topologyNodeFontColor:"white",topologyNodeTitleFontSize:"11px",topologyNodeTitleFontColor:"#333",topologyEdgeColor:"#b2b2b2",topologyActiveEdgeColor:"#905ed1",topologyEdgeFontSize:"10px",topologyEdgeFontColor:"#666",topologyEdgePointRadius:3,topologyTooltipBackgroundColor:"white",topologyTooltipBorderColor:"#ccc",topologyTooltipFontSize:"11px",topologyTooltipFontColor:"#333",titleFontColor:"#333",titleFontSize:"13px",titleFontWeight:"normal",legendFontColor:"#333",legendFontSize:"12px",legendIconRadius:6,tooltipFontColor:"#333",tooltipFontSize:"12px",tooltipBackgroundColor:"white",tooltipBorderColor:"#aaaaaa",tooltipBackgroundOpacity:.7,scrollBackgroundSize:7,scrollBackgroundColor:"#dcdcdc",scrollThumbBackgroundColor:"#b2b2b2",scrollThumbBorderColor:"#9f9fa4",zoomBackgroundColor:"red",zoomFocusColor:"gray",zoomScrollBackgroundSize:50,zoomScrollBackgroundColor:"#000",zoomScrollFocusColor:"#fff",zoomScrollBrushColor:"#000",crossBorderColor:"#a9a9a9",crossBorderWidth:1,crossBorderOpacity:.8,crossBalloonFontSize:"11px",crossBalloonFontColor:"white",crossBalloonBackgroundColor:"black",crossBalloonBackgroundOpacity:.5,mapPathBackgroundColor:"#67B7DC",mapPathBackgroundOpacity:1,mapPathBorderColor:"white",mapPathBorderWidth:0,mapPathBorderOpacity:0,mapBubbleBackgroundOpacity:.5,mapBubbleBorderWidth:1,mapSelectorColor:"#5a73db",mapSelectorActiveColor:"#CC0000",mapFlightRouteAirportSmallColor:"#CC0000",mapFlightRouteAirportLargeColor:"#000",mapFlightRouteAirportBorderWidth:2,mapFlightRouteAirportRadius:8,mapFlightRouteLineBorderColor:"red",mapFlightRouteLineBorderWidth:1,mapControlButtonColor:"#3994e2",mapControlScrollColor:"#000",mapControlScrollLineColor:"#fff"}}),jui.define("chart.pattern.jennifer",[],function(){return{10:{type:"pattern",attr:{id:"pattern-jennifer-10",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABZJREFUCNdjEBRg6GhgcHFgUFLAxQYAaTkFzlvDQuIAAAAASUVORK5CYII=",width:12,height:12}}]},11:{type:"pattern",attr:{id:"pattern-jennifer-11",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABJJREFUCNdjMDZgOHOAAQxwsQF00wXOMquS/QAAAABJRU5ErkJggg==",width:12,height:12}}]},12:{type:"pattern",attr:{id:"pattern-jennifer-12",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABBJREFUCNdj+P8BioAABxsAU88RaA20zg0AAAAASUVORK5CYII=",width:12,height:12}}]},"01":{type:"pattern",attr:{id:"pattern-jennifer-01",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABVJREFUCNdjKC9g+P+B4e4FIImLDQBPxxNXosybYgAAAABJRU5ErkJggg==",width:12,height:12}}]},"02":{type:"pattern",attr:{id:"pattern-jennifer-02",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABNJREFUCNdj6GhgAAIlBSCBiw0AUpID3xszyekAAAAASUVORK5CYII=",width:12,height:12}}]},"03":{type:"pattern",attr:{id:"pattern-jennifer-03",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAAA9JREFUCNdj+P+BAQzwMACirge9PFNsFQAAAABJRU5ErkJggg==",width:12,height:12}}]},"04":{type:"pattern",attr:{id:"pattern-jennifer-04",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAACVBMVEUAAAAaGRkWFhUIIaslAAAAAXRSTlMAQObYZgAAACFJREFUCNdj6HBpYQABjw4wDeS7QPgtENrFxQNCe3SAKAC36AapdMh8ewAAAABJRU5ErkJggg==",width:12,height:12}}]},"05":{type:"pattern",attr:{id:"pattern-jennifer-05",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAALCwvdFFZtAAAAAXRSTlMAQObYZgAAAA1JREFUCNdjWLWAIAIAFt8Ped1+QPcAAAAASUVORK5CYII=",width:12,height:12}}]},"06":{type:"pattern",attr:{id:"pattern-jennifer-06",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAALCwvdFFZtAAAAAXRSTlMAQObYZgAAAA9JREFUCNdj+P+BAQjwkgDijAubMqjSSAAAAABJRU5ErkJggg==",width:12,height:12}}]},"07":{type:"pattern",attr:{id:"pattern-jennifer-07",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAACVBMVEUAAAAAAAAMDAwvehODAAAAAXRSTlMAQObYZgAAAA5JREFUCNdjmDJlCikYAPO/FNGPw+TMAAAAAElFTkSuQmCC",width:12,height:12}}]},"08":{type:"pattern",attr:{id:"pattern-jennifer-08",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABZJREFUCNdjKC9gePeA4e4Fht0bcLEBM1MRaPwhp7AAAAAASUVORK5CYII=",width:12,height:12}}]},"09":{type:"pattern",attr:{id:"pattern-jennifer-09",width:12,height:12,patternUnits:"userSpaceOnUse"},children:[{type:"image",attr:{"xlink:href":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABZJREFUCNdjePeAobyAYfcGhrsXcLEBOSARaPIjMTsAAAAASUVORK5CYII=",width:12,height:12}}]}}}),jui.define("chart.icon.jennifer",[],function(){return{"add-dir":"","add-dir2":"","align-center":"","align-left":"","align-right":"",analysis:"",analysis2:"",arrow1:"",arrow2:"",arrow3:"",bold:"",calendar:"",caution:"",caution2:"","chart-area":"","chart-bar":"","chart-candle":"","chart-column":"","chart-gauge":"","chart-line":"","chart-radar":"","chart-scatter":"",chart:"",check:"",checkmark:"","chevron-left":"","chevron-right":"",close:"",dashboard:"",dashboardlist:"",db:"",device:"",document:"",download:"",edit:"",etc:"",exit:"",gear:"",help:"",hide:"",home:"",html:"",image:"","info-message":"",info:"",italic:"","jennifer-server":"",label:"",left:"",link:"",loading:"",menu:"",message:"",minus:"",monitoring:"",more:"","new-window":"",orderedlist:"",pause:"",play:"",plus:"",preview:"",printer:"",profile:"",realtime:"",refresh:"",refresh2:"","report-build":"","report-link":"",report:"",resize:"","return":"",right:"",rule:"",save:"",search:"",server:"",statistics:"",stop:"",stoppage:"",table:"",text:"",textcolor:"",tool:"",trashcan:"",underline:"",unorderedlist:"",upload:"",user:"",was:"",ws:""}}),jui.define("chart.grid.core",["jquery","util.base","util.math"],function(a,b,c){var d=function(){this.getLineOption=function(){var a=this.grid.line;return"string"==typeof a?a={type:a||"solid"}:"number"==typeof a?a={type:"solid","stroke-width":a}:"object"!=typeof a&&(a=!!a,a&&(a={type:"solid"})),a&&"string"==!a.type&&(a.type=a.type.split(/ /g)),a},this.drawBaseLine=function(a,b){var c=this.getGridSize(),d={};"bottom"==a||"top"==a?d={x1:c.start,x2:c.end}:("left"==a||"right"==a)&&(d={y1:c.start,y2:c.end}),b.append(this.axisLine(d))},this.makeColor=function(a){return this.chart.color(0,{colors:[a]})},this.drawValueLine=function(b,c,d,e,f,g){if(!g||"block"==this.grid.type){var h={};"top"==b?h={x1:0,x2:0,y1:0,y2:this.axis.area("height")}:"bottom"==b?h={x1:0,x2:0,y1:0,y2:-this.axis.area("height")}:"left"==b?h={x1:0,x2:this.axis.area("width"),y1:0,y2:0}:"right"==b&&(h={x1:0,x2:-this.axis.area("width"),y1:0,y2:0});var i=this.line(a.extend({stroke:this.chart.theme(d,"gridActiveBorderColor","gridBorderColor"),"stroke-width":this.chart.theme(d,"gridActiveBorderWidth","gridBorderWidth")},h));e.type.indexOf("dashed")>-1&&i.attr({"stroke-dasharray":"5,5"});var j=0,k=0,l="left"==b||"right"==b?this.axis.area("width"):this.scale.rangeBand(),m="top"==b||"bottom"==b?this.axis.area("height"):this.scale.rangeBand();"bottom"==b&&(k=-m),"right"==b&&(j=-l),f%2==0&&(e.type.indexOf("gradient")>-1?c.append(this.chart.svg.rect({x:j,y:k,height:m,width:l,fill:this.makeColor(e.fill?e.fill:"linear("+b+") "+this.chart.theme("gridRectColor")+",0.5 "+this.chart.theme("backgroundColor")),"fill-opacity":.1})):e.type.indexOf("rect")>-1&&c.append(this.chart.svg.rect({x:j,y:k,height:m,width:l,fill:this.makeColor(e.fill?e.fill:this.chart.theme("gridRectColor")),"fill-opacity":.1}))),c.append(i)}},this.drawTop=function(a,b,c,d,e){e=e||0;for(var f=this.getLineOption(),g=0,h=b.length;h>g;g++){var i=this.format(b[g],g);if(i||0===i){
var j=!1;"function"==typeof d&&(j=d(b[g],g));var k=this.chart.svg.group({transform:"translate("+(c[g]+e)+", 0)"});k.append(this.line({y2:-this.chart.theme("gridTickSize"),stroke:this.color(j,"gridActiveBorderColor","gridAxisBorderColor"),"stroke-width":this.chart.theme("gridTickBorderWidth")})),f&&this.drawValueLine("top",k,j,f,g,g==h-1),this.grid.hideText||k.append(this.getTextRotate(this.chart.text({x:"block"!=this.grid.type||this.grid.full?0:this.scale.rangeBand()/2,y:-this.chart.theme("gridTickSize")-2*this.chart.theme("gridTickPadding"),"text-anchor":"middle",fill:this.chart.theme(j,"gridActiveFontColor","gridFontColor")},i))),a.append(k)}}},this.drawBottom=function(a,b,c,d,e){e=e||0;for(var f=this.getLineOption(),g=0,h=b.length;h>g;g++){var i=this.format(b[g],g);if(i||0===i){var j=!1;"function"==typeof d&&(j=d(b[g],g));var k=this.chart.svg.group({transform:"translate("+(c[g]+e)+", 0)"});k.append(this.line({y2:this.chart.theme("gridTickSize"),stroke:this.color(j,"gridActiveBorderColor","gridAxisBorderColor"),"stroke-width":this.chart.theme("gridTickBorderWidth")})),f&&this.drawValueLine("bottom",k,j,f,g,g==h-1),this.grid.hideText||k.append(this.getTextRotate(this.chart.text({x:"block"!=this.grid.type||this.grid.full?0:this.scale.rangeBand()/2,y:this.chart.theme("gridTickSize")+2*this.chart.theme("gridTickPadding"),"text-anchor":"middle",fill:this.chart.theme(j,"gridActiveFontColor","gridFontColor")},i))),a.append(k)}}},this.drawLeft=function(a,b,c,d,e){e=e||0;for(var f=this.getLineOption(),g=0,h=b.length;h>g;g++){var i=this.format(b[g],g);if(i||0===i){var j=!1;"function"==typeof d&&(j=d(b[g],g));var k=this.chart.svg.group({transform:"translate(0, "+(c[g]+e)+")"});k.append(this.line({x2:-this.chart.theme("gridTickSize"),stroke:this.color(j,"gridActiveBorderColor","gridAxisBorderColor"),"stroke-width":this.chart.theme("gridTickBorderWidth")})),f&&this.drawValueLine("left",k,j,f,g,g==h-1),this.grid.hideText||k.append(this.getTextRotate(this.chart.text({x:-this.chart.theme("gridTickSize")-this.chart.theme("gridTickPadding"),y:"block"!=this.grid.type||this.grid.full?this.chart.theme("gridTickSize"):this.scale.rangeBand()/2,"text-anchor":"end",fill:this.chart.theme(j,"gridActiveFontColor","gridFontColor")},i))),a.append(k)}}},this.drawRight=function(a,b,c,d,e){e=e||0;for(var f=this.getLineOption(),g=0,h=b.length;h>g;g++){var i=this.format(b[g],g);if(i||0===i){var j=!1;"function"==typeof d&&(j=d(b[g],g));var k=this.chart.svg.group({transform:"translate(0, "+(c[g]+e)+")"});k.append(this.line({x2:this.chart.theme("gridTickSize"),stroke:this.color(j,"gridActiveBorderColor","gridAxisBorderColor"),"stroke-width":this.chart.theme("gridTickBorderWidth")})),f&&this.drawValueLine("right",k,j,f,g,g==h-1),this.grid.hideText||k.append(this.getTextRotate(this.chart.text({x:this.chart.theme("gridTickSize")+this.chart.theme("gridTickPadding"),y:"block"!=this.grid.type||this.grid.full?this.chart.theme("gridTickSize"):this.scale.rangeBand()/2,"text-anchor":"start",fill:this.chart.theme(j,"gridActiveFontColor","gridFontColor")},i))),a.append(k)}}},this.drawAfter=function(a){a.root.attr({"class":"grid grid-"+this.grid.type})},this.wrapper=function(a,b){return a},this.axisLine=function(b){return this.chart.svg.line(a.extend({x1:0,y1:0,x2:0,y2:0,stroke:this.color("gridAxisBorderColor"),"stroke-width":this.chart.theme("gridAxisBorderWidth"),"stroke-opacity":1},b))},this.line=function(b){return this.chart.svg.line(a.extend({x1:0,y1:0,x2:0,y2:0,stroke:this.color("gridBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth"),"stroke-dasharray":this.chart.theme("gridBorderDashArray"),"stroke-opacity":1},b))},this.color=function(a){return 3==arguments.length?this.grid.color?this.makeColor(this.grid.color):this.chart.theme.apply(this.chart,arguments):this.grid.color?this.makeColor(this.grid.color):this.chart.theme(a)},this.data=function(a,b){return this.axis.data&&this.axis.data[a]?this.axis.data[a][b]||this.axis.data[a]:this.axis.data||[]},this.drawGrid=function(){var a=this.chart.svg.group(),c=this[this.grid.orient];return this.scale=this.wrapper(this.scale,this.grid.key),b.typeCheck("function",c)&&c.call(this,a),this.grid.hide&&a.attr({display:"none"}),{root:a,scale:this.scale}},this.getTextRotate=function(a){var c=this.grid.textRotate;if(null==c)return a;b.typeCheck("function",c)&&(c=c.apply(this.chart,[a]));var d=a.attr("x"),e=a.attr("y");return a.rotate(c,d,e),a},this.getGridSize=function(){var a=this.grid.orient,b=this.axis.area(),d=b.width,e=b.height,f="left"==a||"right"==a?b.y:b.x,g="left"==a||"right"==a?e:d,h=this.axis.get("depth"),i=this.axis.get("degree"),j=f,k=g,l=j+k,m={start:j,size:k,end:l};if(h>0||i>0){var n=c.radian(360-i),o=Math.cos(n)*h,p=Math.sin(n)*h;"left"==a?(m.start=m.start-p,m.size=m.size-p):"bottom"==a&&(m.end=m.end-o,m.size=m.size-o)}return m}};return d.setup=function(){return{dist:0,orient:null,hide:!1,color:null,title:null,line:!1,baseline:!0,format:null,textRotate:null}},d},"chart.draw"),jui.define("chart.grid.block",["util.scale","util.base"],function(a,b){var c=function(){this.top=function(a){if(this.drawTop(a,this.domain,this.points,null,-this.half_band),this.drawBaseLine("top",a),!this.grid.full){var b=this.chart.svg.group({transform:"translate("+this.end+", 0)"});b.append(this.line({y2:-this.chart.theme("gridTickSize")})),a.append(b)}},this.bottom=function(a){if(this.drawBottom(a,this.domain,this.points,null,-this.half_band),this.drawBaseLine("bottom",a),!this.grid.full){var b=this.chart.svg.group({transform:"translate("+this.end+", 0)"});b.append(this.line({y2:this.chart.theme("gridTickSize")})),a.append(b)}},this.left=function(a){if(this.drawLeft(a,this.domain,this.points,null,-this.half_band),this.drawBaseLine("left",a),!this.grid.full){var b=this.chart.svg.group({transform:"translate(0, "+this.end+")"});b.append(this.line({x2:-this.chart.theme("gridTickSize")})),a.append(b)}},this.right=function(a){if(this.drawRight(a,this.domain,this.points,null,-this.half_band),this.drawBaseLine("right",a),!this.grid.full){var b=this.chart.svg.group({transform:"translate(0, "+this.end+")"});b.append(this.line({x2:this.chart.theme("gridTickSize")})),a.append(b)}},this.initDomain=function(){var a=[];if(b.typeCheck("string",this.grid.domain)){var c=this.grid.domain,d=this.data();if(this.grid.reverse)var e=d.length-1,f=0,g=-1;else var e=0,f=d.length-1,g=1;for(var h=e;this.grid.reverse?h>=f:f>=h;h+=g)a.push(d[h][c])}else a=b.typeCheck("function",this.grid.domain)?this.grid.domain.call(this.chart):this.grid.domain;return this.grid.reverse&&a.reverse(),a},this.drawBefore=function(){var b=this.initDomain(),c=this.getGridSize();this.scale=a.ordinal().domain(b);var d=[c.start,c.end];this.grid.full?this.scale.rangeBands(d):this.scale.rangePoints(d),this.start=c.start,this.size=c.size,this.end=c.end,this.points=this.scale.range(),this.domain=this.scale.domain(),this.band=this.scale.rangeBand(),this.half_band=this.grid.full?0:this.band/2,this.bar=6,this.reverse=this.grid.reverse},this.draw=function(){return this.drawGrid("block")}};return c.setup=function(){return{domain:null,reverse:!1,max:10,full:!1}},c},"chart.grid.core"),jui.define("chart.grid.date",["util.time","util.scale","util.base"],function(a,b,c){var d=function(){this.top=function(a){this.drawTop(a,this.ticks,this.values),this.drawBaseLine("top",a)},this.bottom=function(a){this.drawBottom(a,this.ticks,this.values),this.drawBaseLine("bottom",a)},this.left=function(a){this.drawLeft(a,this.ticks,this.values),this.drawBaseLine("left",a)},this.right=function(a){this.drawRight(a,this.ticks,this.values),this.drawBaseLine("right",a)},this.wrapper=function(a,b){function c(a){return d("number"==typeof a?e.axis.data[a][b]:+a)}var d=a,e=this;return b?$.extend(c,d):d},this.initDomain=function(){var a=[],b=[],d=this.grid.min||void 0,e=this.grid.max||void 0,f=this.data(),g=[];if(c.typeCheck("string",this.grid.domain)){if(f.length>0){var h=this.grid.domain;g.push(+f[0][h]),g.push(+f[f.length-1][h])}}else if(c.typeCheck("function",this.grid.domain))for(var i=f.length;i--;){var j=this.grid.domain.call(this.chart,f[i]);c.typeCheck("array",j)?(g[i]=Math.max.apply(Math,j),g.push(Math.min.apply(Math,j))):g[i]=j}else g=this.grid.domain;return c.typeCheck("undefined",d)&&g.length>0&&(d=Math.min.apply(Math,g)),c.typeCheck("undefined",e)&&g.length>0&&(e=Math.max.apply(Math,g)),this.grid.max=e,this.grid.min=d,a=[this.grid.min,this.grid.max],b=this.grid.step,this.grid.reverse&&a.reverse(),c.typeCheck("function",b)&&(this.grid.step=b.call(this.chart,a)),c.typeCheck("number",this.grid.step)&&(this.grid.step=["seconds",this.grid.step]),a},this.drawBefore=function(){var c=this.initDomain(),d=this.getGridSize(),e=[d.start,d.end];this.scale=b.time().domain(c).range(e),this.grid.realtime?this.ticks=this.scale.realTicks(this.grid.step[0],this.grid.step[1]):this.ticks=this.scale.ticks(this.grid.step[0],this.grid.step[1]),0==this.axis.data.length&&(this.ticks=[]),"string"==typeof this.grid.format&&!function(b,c){b.format=function(b){return a.format(b,c)}}(this.grid,this.grid.format),this.start=d.start,this.size=d.size,this.end=d.end,this.bar=6,this.values=[];for(var f=0,g=this.ticks.length;g>f;f++)this.values[f]=this.scale(this.ticks[f])},this.draw=function(){return this.drawGrid("date")}};return d.setup=function(){return{domain:null,step:[],min:null,max:null,reverse:!1,key:null,realtime:!1}},d},"chart.grid.core"),jui.define("chart.grid.dateblock",["util.time","util.scale","util.base"],function(a,b,c){var d=function(){this.wrapper=function(a,b){var c=a,d=this;return c.rangeBand=function(){return d.grid.unit},c},this.initDomain=function(){var a=this.grid.min||void 0,b=this.grid.max||void 0,d=this.data(),e=[];if(c.typeCheck("string",this.grid.domain)){var f=this.grid.domain;e.push(+d[0][f]),e.push(+d[d.length-1][f])}else if(c.typeCheck("function",this.grid.domain))for(var g=d.length;g--;){var h=this.grid.domain.call(this.chart,d[g]);c.typeCheck("array",h)?(e[g]=+Math.max.apply(Math,h),e.push(+Math.min.apply(Math,h))):e[g]=+h}else e=this.grid.domain;c.typeCheck("undefined",a)&&(a=Math.min.apply(Math,e)),c.typeCheck("undefined",b)&&(b=Math.max.apply(Math,e)),this.grid.max=b,this.grid.min=a;var i=[this.grid.min,this.grid.max];return c.typeCheck("function",this.grid.step)&&(this.grid.step=this.grid.call(this.chart,i)),c.typeCheck("number",this.grid.step)&&(this.grid.step=["seconds",this.grid.step]),this.grid.reverse&&i.reverse(),i},this.drawBefore=function(){var c=this,d=this.initDomain(),e=this.getGridSize(),f=[e.start,e.end],g=b.time().domain(d).rangeRound(f),h=this.axis.data.length,i=this.grid.unit=Math.abs(f[0]-f[1])/(this.grid.full?h-1:h),j=i/2;this.grid.realtime?this.ticks=g.realTicks(this.grid.step[0],this.grid.step[1]):this.ticks=g.ticks(this.grid.step[0],this.grid.step[1]),"string"==typeof this.grid.format&&!function(b,c){b.format=function(b){return a.format(b,c)}}(this.grid,this.grid.format),this.start=e.start,this.size=e.size,this.end=e.end,this.bar=6,this.values=[];for(var k=0,h=this.ticks.length;h>k;k++)this.values[k]=g(this.ticks[k]);this.scale=$.extend(function(a){return a*i+(c.grid.full?0:j)},g)},this.draw=function(){return this.drawGrid("dateblock")}};return d.setup=function(){return{full:!0}},d},"chart.grid.date"),jui.define("chart.grid.radar",["util.math","util.base"],function(a,b){var c=function(){function c(a,b,c,d,e,g){var h=Math.abs(e),i=b,j=c;a.append(f.chart.svg.circle({cx:i,cy:j,r:h,"fill-opacity":0,stroke:f.color("gridAxisBorderColor"),"stroke-width":f.chart.theme("gridBorderWidth")}))}function d(b,c,d,e,g,h,i){var j=f.chart.svg.group(),k=[];k.push([c+e,d+g]);for(var l=e,m=g,n=0;h>n;n++){var o=a.rotate(l,m,i);l=o.x,m=o.y,k.push([c+o.x,d+o.y])}for(var p=f.chart.svg.path({fill:"none",stroke:f.color("gridAxisBorderColor"),"stroke-width":f.chart.theme("gridBorderWidth")}),n=0;n<k.length;n++){var q=k[n];0==n?p.MoveTo(q[0],q[1]):p.LineTo(q[0],q[1])}p.LineTo(k[0][0],k[0][1]),j.append(p),b.append(j)}function e(b){var c=f.grid.max,d=f.chart.padding("left"),e=f.chart.padding("top");return function(g,h){var i=h/c,j=Math.abs(b.y1)-Math.abs(b.y2),k=j*i,l=2*Math.PI/f.domain.length,m=b.x1,n=b.y1,o=-k,p=0,q=a.rotate(p,o,l*g),r={x:d+m+q.x,y:e+n+q.y};return r}}var f=this,g=[];this.initDomain=function(){var a=[];if(b.typeCheck("string",this.grid.domain)){var c=this.grid.domain,d=this.data();if(this.grid.reverse)var e=d.length-1,f=0,g=-1;else var e=0,f=d.length-1,g=1;for(var h=e;this.grid.reverse?h>=f:f>=h;h+=g)a.push(d[h][c])}else a=b.typeCheck("function",this.grid.domain)?this.grid.domain(this.chart,this.grid):this.grid.domain;return this.grid.reverse&&a.reverse(),a},this.drawBefore=function(){this.domain=this.initDomain()},this.draw=function(){var b=this.axis.area("width"),f=this.axis.area("height"),h=b;h>f&&(h=f);var i=h/2,j=this.axis.area("x")+b/2,k=this.axis.area("y")+f/2,l=-i,m=0,n=this.domain.length,o=this.grid.step,p=2*Math.PI/n,q=Math.abs(l)/o,r=this.chart.svg.group(),s=this.chart.svg.group();r.append(s),g=[];for(var t=0;n>t;t++){var u=j+m,v=k+l;s.append(this.chart.svg.line({x1:j,y1:k,x2:u,y2:v,stroke:this.color("gridAxisBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth")})),g[t]={x1:j,y1:k,x2:u,y2:v};var w=v,x=u,y="middle";v>k?w=v+20:k>v&&(w=v-10),u>j?(y="start",x+=10):j>u&&(y="end",x-=10),this.grid.hideText||s.append(this.chart.text({x:x,y:w,"text-anchor":y,fill:this.chart.theme("gridFontColor")},this.domain[t]));var z=a.rotate(m,l,p);m=z.x,l=z.y}if(!this.grid.line)return{root:s,scale:e(g[0])};l=-i;for(var A=0,B=this.grid.max/this.grid.step,t=0;o>t;t++)0==t&&this.grid.extra?l+=q:("circle"==this.grid.shape?c(s,j,k,0,l,n):d(s,j,k,0,l,n,p),this.grid.hideText||s.append(this.chart.text({x:j,y:k+(l+q-5),fill:this.chart.theme("gridFontColor")},this.grid.max-A+"")),l+=q,A+=B);return this.grid.hide&&s.attr({display:"none"}),{root:s,scale:e(g[0])}}};return c.setup=function(){return{domain:null,reverse:!1,max:100,step:10,line:!0,hideText:!1,extra:!1,shape:"radial"}},c},"chart.grid.core"),jui.define("chart.grid.range",["util.scale","util.base"],function(a,b){var c=function(){this.top=function(a){var b=this.scale.min(),c=this.scale.max();this.drawTop(a,this.ticks,this.values,function(a,d){return 0==a&&a!=b&&a!=c}),this.drawBaseLine("top",a)},this.bottom=function(a){var b=this.scale.min(),c=this.scale.max();this.drawBottom(a,this.ticks,this.values,function(a,d){return 0==a&&a!=b&&a!=c}),this.drawBaseLine("bottom",a)},this.left=function(a){var b=this.scale.min(),c=this.scale.max();this.drawLeft(a,this.ticks,this.values,function(a,d){return 0==a&&a!=b&&a!=c}),this.drawBaseLine("left",a)},this.right=function(a){var b=this.scale.min(),c=this.scale.max();this.drawRight(a,this.ticks,this.values,function(a,d){return 0==a&&a!=b&&a!=c}),this.drawBaseLine("right",a)},this.wrapper=function(a,b){function c(a){return d(e.axis.data[a][b])}var d=a,e=this;return b?$.extend(c,d):d},this.initDomain=function(){var a=[],c=this.grid.min||void 0,d=this.grid.max||void 0,e=this.data(),f=[],g=!1;if(b.typeCheck("string",this.grid.domain)){var h=this.grid.domain;f=new Array(e.length);for(var i=e.length;i--;){var j=e[i][h];b.typeCheck("array",j)?(f[i]=Math.max(j),f.push(Math.min(j))):(f[i]=j,f.push(0))}}else if(b.typeCheck("function",this.grid.domain)){f=new Array(e.length);for(var k=!1,i=e.length;i--;){var j=this.grid.domain.call(this.chart,e[i]);b.typeCheck("array",j)?(f[i]=Math.max.apply(Math,j),f.push(Math.min.apply(Math,j))):(f[i]=j,k||(f.push(0),k=!0))}}else f=this.grid.domain,g=!0;var l=Math.min.apply(Math,f),m=Math.max.apply(Math,f);g?(c=l,d=m):(("undefined"==typeof c||c>l)&&(c=l),("undefined"==typeof d||m>d)&&(d=m)),this.grid.max=d,this.grid.min=c;var n;if(n=b.typeCheck("function",this.grid.unit)?this.grid.unit.call(this.chart,this.grid):b.typeCheck("number",this.grid.unit)?this.grid.unit:Math.ceil((d-c)/this.grid.step),0==n)a=[0,0];else{for(var o=0;d>o;)o+=n;for(var p=o;p>c;)p-=n;a=[p,o],this.grid.step=Math.abs(p-o)/n}return this.grid.reverse&&a.reverse(),a},this.drawBefore=function(){var b=this.initDomain(),c=this.getGridSize();if(this.scale=a.linear().domain(b),"left"==this.grid.orient||"right"==this.grid.orient)var d=[c.end,c.start];else var d=[c.start,c.end];this.scale.range(d),this.scale.clamp(this.grid.clamp),this.start=c.start,this.size=c.size,this.end=c.end,this.step=this.grid.step,this.nice=this.grid.nice,this.ticks=this.scale.ticks(this.step,this.nice),this.bar=6,this.values=[];for(var e=0,f=this.ticks.length;f>e;e++)this.values[e]=this.scale(this.ticks[e])},this.draw=function(){return this.drawGrid("range")}};return c.setup=function(){return{domain:null,step:10,min:0,max:0,unit:null,clamp:!0,reverse:!1,key:null,hideText:!1,nice:!1}},c},"chart.grid.core"),jui.define("chart.grid.log",["util.scale","util.base"],function(a,b){var c=function(){this.drawBefore=function(){this.grid.unit=!1;var b=this.initDomain(),c=this.getGridSize();if(this.scale=a.log(this.grid.base).domain(b),"left"==this.grid.orient||"right"==this.grid.orient)var d=[c.end,c.start];else var d=[c.start,c.end];this.scale.range(d),this.start=c.start,this.size=c.size,this.end=c.end,this.step=this.grid.step,this.nice=this.grid.nice,this.ticks=this.scale.ticks(this.step,this.nice),this.bar=6,this.values=[];for(var e=0,f=this.ticks.length;f>e;e++)this.values[e]=this.scale(this.ticks[e])},this.draw=function(){return this.drawGrid("log")}};return c.setup=function(){return{base:10,step:4,nice:!1}},c},"chart.grid.range"),jui.define("chart.grid.rule",["util.scale","util.base"],function(a,b){var c=function(){this.top=function(a){var b=this.axis.area("height"),c=b/2;a.append(this.axisLine({y1:this.center?c:0,y2:this.center?c:0,x1:this.start,x2:this.end}));for(var d=this.ticks,e=this.values,f=this.bar,g=0;g<d.length;g++){var h=this.format(d[g],g);if(h||0===h){var i=0==d[g],j=this.chart.svg.group().translate(e[g],this.center?c:0);j.append(this.line({y1:this.center?-f:0,y2:f,stroke:this.color("gridAxisBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth")})),(!i||i&&!this.hideZero)&&j.append(this.getTextRotate(this.chart.text({x:0,y:f+f+4,"text-anchor":"middle",fill:this.chart.theme("gridFontColor")},h))),a.append(j)}}},this.bottom=function(a){var b=this.axis.area("height"),c=b/2;a.append(this.axisLine({y1:this.center?-c:0,y2:this.center?-c:0,x1:this.start,x2:this.end}));for(var d=this.ticks,e=this.values,f=this.bar,g=0;g<d.length;g++){var h=this.format(d[g],g);if(h||0===h){var i=0==d[g],j=this.chart.svg.group().translate(e[g],this.center?-c:0);j.append(this.line({y1:this.center?-f:0,y2:this.center?f:-f,stroke:this.color("gridAxisBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth")})),(!i||i&&!this.hideZero)&&j.append(this.getTextRotate(this.chart.text({x:0,y:2*-f,"text-anchor":"middle",fill:this.chart.theme(i,"gridActiveFontColor","gridFontColor")},h))),a.append(j)}}},this.left=function(a){var b=this.axis.area("width"),c=(this.axis.area("height"),b/2);a.append(this.axisLine({x1:this.center?c:0,x2:this.center?c:0,y1:this.start,y2:this.end}));for(var d=this.ticks,e=this.values,f=this.bar,g=0;g<d.length;g++){var h=this.format(d[g],g);if(h||0===h){var i=0==d[g],j=this.chart.svg.group().translate(this.center?c:0,e[g]);j.append(this.line({x1:this.center?-f:0,x2:f,stroke:this.color("gridAxisBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth")})),(!i||i&&!this.hideZero)&&j.append(this.getTextRotate(this.chart.text({x:f/2+4,y:f-2,fill:this.chart.theme("gridFontColor")},h))),a.append(j)}}},this.right=function(a){var b=this.axis.area("width"),c=b/2;a.append(this.axisLine({x1:this.center?-c:0,x2:this.center?-c:0,y1:this.start,y2:this.end}));for(var d=this.ticks,e=this.values,f=this.bar,g=0;g<d.length;g++){var h=this.format(d[g],g);if(h||0===h){var i=0==d[g],j=this.chart.svg.group().translate(this.center?-c:0,e[g]);j.append(this.line({x1:this.center?-f:0,x2:this.center?f:-f,stroke:this.color("gridAxisBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth")})),(!i||i&&!this.hideZero)&&j.append(this.getTextRotate(this.chart.text({x:-f-4,y:f-2,"text-anchor":"end",fill:this.chart.theme("gridFontColor")},h))),a.append(j)}}},this.wrapper=function(a,b){function c(a){return d(e.axis.data[a][b])}var d=a,e=this;return b?$.extend(c,d):d},this.initDomain=function(){var a=[],c=this.grid.min||void 0,d=this.grid.max||void 0,e=this.data(),f=[];if(b.typeCheck("string",this.grid.domain)){var g=this.grid.domain;f=new Array(e.length);for(var h=0,i=e.length;i>h;h++){var j=e[h][g];b.typeCheck("array",j)?(f[h]=Math.max(j),f.push(Math.min(j))):f[h]=j}}else if(b.typeCheck("function",this.grid.domain)){f=new Array(e.length);for(var h=0,i=e.length;i>h;h++){var j=this.grid.domain.call(this.chart,e[h]);b.typeCheck("array",j)?(f[h]=Math.max.apply(Math,j),f.push(Math.min.apply(Math,j))):f[h]=j}}else f=grid.domain;var k=Math.min.apply(Math,f),l=Math.max.apply(Math,f);"undefined"==typeof c&&(c=k),"undefined"==typeof d&&(d=l),this.grid.max=d,this.grid.min=c;var m;if(m=b.typeCheck("function",this.grid.unit)?this.grid.unit.call(this.chart,this.grid):b.typeCheck("number",this.grid.unit)?this.grid.unit:Math.ceil((d-c)/this.grid.step),0==m)a=[0,0];else{for(var n=0;d>n;)n+=m;for(var o=n;o>c;)o-=m;a=[o,n]}return this.grid.reverse&&a.reverse(),a},this.drawBefore=function(){var b=this.initDomain(),c=this.getGridSize();if(this.scale=a.linear().domain(b),"left"==this.grid.orient||"right"==this.grid.orient)var d=[c.end,c.start];else var d=[c.start,c.end];this.scale.range(d),this.start=c.start,this.size=c.size,this.end=c.end,this.step=this.grid.step,this.nice=this.grid.nice,this.ticks=this.scale.ticks(this.step,this.nice),this.bar=6,this.hideZero=this.grid.hideZero,this.center=this.grid.center,this.values=[];for(var e=0,f=this.ticks.length;f>e;e++)this.values[e]=this.scale(this.ticks[e])},this.draw=function(){return this.drawGrid(chart,orient,"rule",grid)}};return c.setup=function(){return{domain:null,step:10,min:0,max:0,unit:null,clamp:!0,reverse:!1,key:null,hideText:!1,hideZero:!1,nice:!1,center:!1}},c},"chart.grid.core"),jui.define("chart.grid.panel",[],function(){var a=function(){this.custom=function(a){var b=this.scale(0);b.x-=this.axis.area("x"),b.y-=this.axis.area("y");var c=this.chart.svg.rect($.extend(b,{fill:"tranparent",stroke:"white"}));a.append(c)},this.drawBefore=function(){this.scale=function(a){return function(b){return{x:a.area("x"),y:a.area("y"),width:a.area("width"),height:a.area("height")}}}(this.axis)},this.draw=function(){return this.grid.hide=!0,this.drawGrid("panel")}};return a},"chart.grid.core"),jui.define("chart.grid.table",[],function(){var a=function(a,b,c){var d,e;this.custom=function(a){for(var b=0;d>b;b++)for(var c=0;e>c;c++){var f=b*e+c,g=this.scale(f);g.x-=this.axis.area("x"),g.y-=this.axis.area("y");this.chart.svg.rect($.extend(g,{fill:"tranparent",stroke:"black"}))}},this.drawBefore=function(){var a=this.grid.rows,b=this.grid.columns;padding=this.grid.padding;var c=(this.axis.area("width")-(b-1)*padding)/b,d=(this.axis.area("height")-(a-1)*padding)/a;this.scale=function(a,b,c,d,e){return function(b){var f=Math.floor(b/c),g=b%c,h=g*e,i=f*d,j=padding*g,k=padding*f;return{x:a.area("x")+h+j,y:a.area("y")+i+k,width:e,height:d}}}(this.axis,a,b,d,c)},this.draw=function(){return this.grid.hide=!0,this.drawGrid("table")}};return a.setup=function(){return{rows:1,columns:1,padding:10}},a},"chart.grid.core"),jui.define("chart.grid.overlap",[],function(){var a=function(){var a,b,c,d,e;this.custom=function(){for(var a=0,b=this.axis.data.length;b>a;a++){var c=this.scale(a);c.x-=this.axis.area("x"),c.y-=this.axis.area("y"),this.chart.svg.rect($.extend(c,{fill:"transparent",stroke:"transparent"}))}},this.drawBefore=function(){a=this.grid.count||this.axis.data.length||1,b=this.axis.area("width")/2/a,c=this.axis.area("height")/2/a,d=this.axis.area("width"),e=this.axis.area("height"),this.scale=function(a){return function(f){var g=f*b,h=f*c;return{x:a.area("x")+g,y:a.area("y")+h,width:2*Math.abs(d/2-g),height:2*Math.abs(e/2-h)}}}(this.axis)},this.draw=function(){return this.grid.hide=!0,this.drawGrid("overlap")}};return a.setup=function(){return{count:null}},a},"chart.grid.core"),jui.define("chart.grid.topologytable",["util.base"],function(a){var b=function(){function b(a){for(var b=null,c=h.axis.data,d=0,e=c.length;e>d;d++)if(h.axis.getValue(c[d],"key")==a){b=d;break}return b}function c(){function a(){var c=Math.floor(Math.random()*b);if(i[c]){var d=0;for(var e in i)d++;if(b>d)return a(b);i={}}else i[c]=!0;return c}for(var b=Math.floor(e.height/f),c=Math.floor(e.width/f),d=Math.floor(c/g),j=0,k=-1,l=g,m=0;g>m;m++){var n=0,o=0,p=0;m%2==0?(n=j*f,o=a(b)*f,j+=d,k+=1,p=k):(n=(c-j)*f+f,o=a(b)*f,l-=1,p=l),h.axis.cacheXY[p]={x:n+f,y:o+f/2}}}function d(){for(var a=0;g>a;a++){var b=Math.floor(Math.random()*(e.width-f)),c=Math.floor(Math.random()*(e.height-f));h.axis.cacheXY[a]={x:b,y:c}}}var e,f,g,h=this,i={};this.drawBefore=function(){e=this.chart.area(),f=this.grid.space,g=this.axis.data.length,this.axis.cacheXY||(this.axis.cacheXY=[],"random"==this.grid.sort?d():c()),this.scale=function(){return function(c){var c=a.typeCheck("string",c)?b(c):c,d={setX:function(a){h.axis.cacheXY[c].x=a},setY:function(a){h.axis.cacheXY[c].y=a},moveLast:function(){var a=h.axis.cacheXY.splice(c,1);h.axis.cacheXY.push(a[0]);var b=h.axis.data.splice(c,1);h.axis.data.push(b[0])}};return a.extend(d,h.axis.cacheXY[c])}}(this.axis)},this.draw=function(){return this.grid.hide=!0,this.drawGrid()}};return b.setup=function(){return{sort:null,space:50}},b},"chart.grid.core"),jui.define("chart.grid.grid3d",["util.base","util.math"],function(a,b){var c=function(){function c(a){var b=null;return a.each(function(a,c){"line"==c.element.nodeName&&(b=c.attributes)}),b}var d=this,e=0,f=0,g=0;this.drawBefore=function(){e=this.axis.get("depth"),f=this.axis.get("degree"),g=b.radian(360-f),this.scale=function(){return function(b,c,f,h){var i=a.typeCheck("integer",h)?h:1,j=e/i;if(void 0==f||1==i)return{x:d.axis.x(b),y:d.axis.y(c),depth:j};var f=void 0==f?0:f,k=j*f,l=Math.sin(g)*j;return{x:d.axis.x(b)+Math.cos(g)*k,y:d.axis.y(c)+Math.sin(g)*k+l,depth:j}}}(this.axis),this.scale.depth=e,this.scale.degree=f,this.scale.radian=g},this.draw=function(){var a=this.axis.x.root,b=this.axis.y.root,f=Math.sin(g)*e,h=Math.cos(g)*e;return b.each(function(e,g){if("line"==g.element.nodeName)b.append(d.line({x1:h,y1:0,x2:h,y2:f+g.attributes.y2}));else{var i=c(a);g.append(d.line({x1:0,y1:0,x2:h,y2:f})),g.append(d.line({x1:h,y1:f,x2:h+i.x2,y2:f}))}}),a.each(function(a,f){var h="line"==f.element.nodeName?f.attributes:f.get(0).attributes,i=h.y1+Math.sin(g)*e,j=h.x1+Math.cos(g)*e;if(a>0){var k=c(b);f.append(d.line({x1:h.x1,y1:h.y1,x2:j,y2:i})),f.append(d.line({x1:j,y1:i,x2:j,y2:-(k.y2-i)}))}}),this.drawGrid()}};return c.setup=function(){return{domain:null}},c},"chart.grid.core"),jui.define("chart.brush.core",["jquery","util.base"],function(a,b){var c=function(){function c(a,b){for(var c={},d={},e=0;e<b.length;e++)c[b[e]]||(d[b[e]]=[]);for(var e=0,f=a.length;f>e;e++){var g=a[e];for(var h in d)d[h].push(g[h])}for(var i in d)c[i]={min:Math.min.apply(Math,d[i]),max:Math.max.apply(Math,d[i])};return c}this.drawAfter=function(a){this.brush.clip!==!1&&a.attr({"clip-path":"url(#"+this.axis.get("clipId")+")"}),a.attr({"class":"brush brush-"+this.brush.type}),a.translate(this.chart.area("x"),this.chart.area("y"))},this.drawTooltip=function(a,b,c){function d(){return f.chart.svg.group({visibility:"hidden"},function(){f.chart.text({"text-anchor":"middle","font-weight":f.chart.theme("tooltipPointFontWeight"),opacity:c}),f.chart.svg.circle({r:f.chart.theme("tooltipPointRadius"),fill:a,stroke:b,opacity:c,"stroke-width":f.chart.theme("tooltipPointBorderWidth")})})}function e(a,b,c,d){var e=g.get(0);e.element.textContent=d,e.attr("left"==a?{x:-7,y:4,"text-anchor":"end"}:"right"==a?{x:7,y:4,"text-anchor":"start"}:"bottom"==a?{y:16}:{y:-7}),g.attr({visibility:0!=d?"visible":"hidden"}),g.translate(b,c)}var f=this,g=null;return g=d(),{tooltip:g,control:e,style:function(a,b,c){g.get(0).attr({opacity:c}),g.get(1).attr({fill:a,stroke:b,opacity:c})}}},this.curvePoints=function(a){var b=[],c=[],d=a.length-1,e=[],f=[],g=[],h=[];for(e[0]=0,f[0]=2,g[0]=1,h[0]=a[0]+2*a[1],i=1;d-1>i;i++)e[i]=1,f[i]=4,g[i]=1,h[i]=4*a[i]+2*a[i+1];e[d-1]=2,f[d-1]=7,g[d-1]=0,h[d-1]=8*a[d-1]+a[d];for(var i=1;d>i;i++){var j=e[i]/f[i-1];f[i]=f[i]-j*g[i-1],h[i]=h[i]-j*h[i-1]}b[d-1]=h[d-1]/f[d-1];for(var i=d-2;i>=0;--i)b[i]=(h[i]-g[i]*b[i+1])/f[i];for(var i=0;d-1>i;i++)c[i]=2*a[i+1]-b[i+1];return c[d-1]=.5*(a[d]+b[d-1]),{p1:b,p2:c}},this.getScaleValue=function(a,b,c,d,e){function f(){var d=c-b,e=a-b,f=e/d;return f}b=b==c?0:b;var g=e-d,h=g*f();return h+d},this.eachData=function(a,c){if(b.typeCheck("function",a)){var d=this.listData();if(c===!0)for(var e=d.length-1;e>=0;e--)a.call(this,e,d[e]);else for(var f=0,e=d.length;e>f;f++)a.call(this,f,d[f])}},this.listData=function(){return this.axis.data},this.getData=function(a){return this.listData()[a]},this.getValue=function(a,b,c){return this.axis.getValue(a,b,c)},this.getXY=function(a){var d=[],e={},f=this.listData().length,g=f,h=this.brush.target,i=h.length;a!==!1&&(e=c(this.axis.data,h));for(var j=0;i>j;j++)d[j]={x:new Array(f),y:new Array(f),value:new Array(f),min:[],max:[],length:f};var k=this.axis.data,l=this.axis.x,m=this.axis.y,n=b.loop(g);return n(function(b,c){for(var f=k[b],g=l(b),j=0;i>j;j++){var n=h[j],o=f[n],p=m(o);d[j].x[b]=g,d[j].y[b]=p,d[j].value[b]=o,a!==!1&&(d[j].min[b]=o==e[n].min,d[j].max[b]=o==e[n].max)}}),d},this.getStackXY=function(a){var b=this.getXY(a);return this.eachData(function(a,c){for(var d=0,e=0;e<this.brush.target.length;e++){var f=this.brush.target[e],g=c[f];e>0&&(d+=c[this.brush.target[e-1]]),b[e].y[a]=this.axis.y(g+d)}}),b},this.addEvent=function(b,c,d){function e(b){var c=a(f.root).offset(),d=b.pageX-c.left,e=b.pageY-c.top;b.bgX=d,b.bgY=e,b.chartX=d-f.padding("left"),b.chartY=e-f.padding("top")}var f=this.chart,g={brush:this.brush,dataIndex:c,dataKey:null!=d?this.brush.target[d]:null,data:null!=c?this.getData(c):null};b.on("click",function(a){e(a),f.emit("click",[g,a])}),b.on("dblclick",function(a){e(a),f.emit("dblclick",[g,a])}),b.on("contextmenu",function(a){e(a),f.emit("rclick",[g,a]),a.preventDefault()}),b.on("mouseover",function(a){e(a),f.emit("mouseover",[g,a])}),b.on("mouseout",function(a){e(a),f.emit("mouseout",[g,a])}),b.on("mousemove",function(a){e(a),f.emit("mousemove",[g,a])}),b.on("mousedown",function(a){e(a),f.emit("mousedown",[g,a])}),b.on("mouseup",function(a){e(a),f.emit("mouseup",[g,a])})},this.color=function(a){return b.typeCheck("string",a)?this.chart.color(0,{colors:[a]}):this.chart.color(a,this.brush)}};return c.setup=function(){return{target:null,colors:null,axis:0,index:null,clip:!0}},c},"chart.draw"),jui.define("chart.brush.imagebar",[],function(){var a=function(a,b,c){var d,e,f,g,h;this.drawBefore=function(){d=a.svg.group(),e=b.x(0),f=b.y.rangeBand(),g=f-2*c.outerPadding,h=(g-(c.target.length-1)*c.innerPadding)/c.target.length,h=0>h?0:h},this.draw=function(){return this.eachData(function(a,f){for(var i=b.y(a)-g/2,j=0;j<c.target.length;j++){var k=f[c.target[j]],l=b.x(k),m=l>=e?"right":"left";Math.abs(e-l)<c.minSize&&(l="right"==m?l+c.minSize:l-c.minSize);var n=Math.abs(e-l),o=this.chart.svg.image({width:h,height:h,"xlink:href":c.uri});0!=k&&this.addEvent(o,a,j),l>=e?o.translate(e,i):o.translate(e-n,i),n>0&&o.scale(n>h?n/h:h/n,1),d.append(o),i+=h+c.innerPadding}}),d}};return a.setup=function(){return{minSize:0,outerPadding:2,innerPadding:1,uri:null}},a},"chart.brush.core"),jui.define("chart.brush.imagecolumn",[],function(){var a=function(a,b,c){var d,e,f,g,h;this.drawBefore=function(){d=a.svg.group(),e=b.y(0),f=b.x.rangeBand(),h=f-2*c.outerPadding,g=(f-2*c.outerPadding-(c.target.length-1)*c.innerPadding)/c.target.length,g=0>g?0:g},this.draw=function(){return this.eachData(function(a,f){for(var i=b.x(a)-h/2,j=0;j<c.target.length;j++){var k=f[c.target[j]],l=b.y(k),m=e>=l?"top":"bottom";Math.abs(e-l)<c.minSize&&(l="top"==m?l-c.minSize:l+c.minSize);
var n=Math.abs(e-l),o=this.chart.svg.image({width:g,height:g,"xlink:href":c.uri});0!=k&&this.addEvent(o,a,j),e>=l?o.translate(i,l):o.translate(i,e),n>0&&o.scale(1,n>g?n/g:g/n),d.append(o),i+=g+c.innerPadding}}),d}};return a},"chart.brush.imagebar"),jui.define("chart.brush.bar",["util.base"],function(a){var b=function(b,c,d){var e,f,g,h,i;this.getBarStyle=function(){return{borderColor:this.chart.theme("barBorderColor"),borderWidth:this.chart.theme("barBorderWidth"),borderOpacity:this.chart.theme("barBorderOpacity"),borderRadius:this.chart.theme("barBorderRadius"),disableOpacity:this.chart.theme("barDisableBackgroundOpacity"),circleColor:this.chart.theme("barPointBorderColor")}},this.getBarElement=function(b,c,d){var e=this.getBarStyle(),f=this.color(c),g=this.getData(b)[this.brush.target[c]],h=this.chart.svg.pathRect({width:d.width,height:d.height,fill:f,stroke:e.borderColor,"stroke-width":e.borderWidth,"stroke-opacity":e.borderOpacity});return 0!=g&&this.addEvent(h,b,c),null==this.barList&&(this.barList=[]),this.barList.push(a.extend({element:h,color:f},d)),h},this.setActiveEffect=function(a){for(var b=this.getBarStyle(),c=this.barList,d=0;d<c.length;d++){var e=c[d]==a?1:b.disableOpacity;c[d].element.attr({opacity:e}),c[d].minmax&&c[d].minmax.style(c[d].color,b.circleColor,e)}},this.drawBefore=function(){e=b.svg.group(),f=c.x(0),g=c.y.rangeBand(),h=g-2*d.outerPadding,i=(h-(d.target.length-1)*d.innerPadding)/d.target.length,i=0>i?0:i},this.drawETC=function(b){if(a.typeCheck("array",this.barList)){var c=this,d=this.getBarStyle();this.active=this.drawTooltip(),b.append(this.active.tooltip);for(var e=0;e<this.barList.length;e++){var f=this.barList[e],g=this.brush.display;("max"==g&&f.max||"min"==g&&f.min||"all"==g)&&(f.minmax=this.drawTooltip(f.color,d.circleColor,1),f.minmax.control(f.position,f.tooltipX,f.tooltipY,this.format(f.value)),b.append(f.minmax.tooltip)),0!=f.value&&null!=this.brush.activeEvent&&!function(a){c.active.style(a.color,d.circleColor,1),a.element.on(c.brush.activeEvent,function(b){c.active.style(a.color,d.circleColor,1),c.active.control(a.position,a.tooltipX,a.tooltipY,c.format(a.value)),c.setActiveEffect(a)}),a.element.attr({cursor:"pointer"})}(f)}var f=this.barList[this.brush.active];null!=f&&(this.active.style(f.color,d.circleColor,1),this.active.control(f.position,f.tooltipX,f.tooltipY,this.format(f.value)),this.setActiveEffect(f))}},this.draw=function(){var a=this.getXY(),b=this.getBarStyle();return this.eachData(function(g,j){for(var k=c.y(g)-h/2,l=0;l<d.target.length;l++){var m=j[d.target[l]],n=c.x(m),o=k+i/2,p=n>=f?"right":"left";Math.abs(f-n)<d.minSize&&(n="right"==p?n+d.minSize:n-d.minSize);var q=Math.abs(f-n),r=q<b.borderRadius||i<b.borderRadius?0:b.borderRadius,s=this.getBarElement(g,l,{width:q,height:i,value:m,tooltipX:n,tooltipY:o,position:p,max:a[l].max[g],min:a[l].min[g]});n>=f?(s.round(q,i,0,r,r,0),s.translate(f,k)):(s.round(q,i,r,0,0,r),s.translate(f-q,k)),e.append(s),k+=i+d.innerPadding}}),this.drawETC(e),e},this.drawAnimate=function(a){var b=this.chart.svg,c=this.brush.animate;a.append(b.animate({attributeName:"opacity",from:"0",to:"1",begin:"0s",dur:"1.4s",repeatCount:"1",fill:"freeze"})),a.each(function(a,d){if(d.is("util.svg.element.path")){var e=d.data("translate").split(","),f=parseInt(e[0]),g=parseInt(e[1]),h=parseInt(d.attr("width")),i="right"==c?f+h:f-h;d.append(b.animateTransform({attributeName:"transform",type:"translate",from:i+" "+g,to:f+" "+g,begin:"0s",dur:"0.7s",repeatCount:"1",fill:"freeze"}))}})}};return b.setup=function(){return{minSize:0,outerPadding:2,innerPadding:1,active:null,activeEvent:null,display:null}},b},"chart.brush.core"),jui.define("chart.brush.column",[],function(){var a=function(a,b,c){var d,e,f,g,h;this.drawBefore=function(){d=a.svg.group(),e=b.y(0),f=b.x.rangeBand(),h=f-2*c.outerPadding,g=(f-2*c.outerPadding-(c.target.length-1)*c.innerPadding)/c.target.length,g=0>g?0:g},this.draw=function(){var a=this.getXY(),f=this.getBarStyle();return this.eachData(function(i,j){for(var k=b.x(i)-h/2,l=0;l<c.target.length;l++){var m=j[c.target[l]],n=k+g/2,o=b.y(m),p=e>=o?"top":"bottom";Math.abs(e-o)<c.minSize&&(o="top"==p?o-c.minSize:o+c.minSize);var q=Math.abs(e-o),r=g<f.borderRadius||q<f.borderRadius?0:f.borderRadius,s=this.getBarElement(i,l,{width:g,height:q,value:m,tooltipX:n,tooltipY:o,position:p,max:a[l].max[i],min:a[l].min[i]});e>=o?(s.round(g,q,r,r,0,0),s.translate(k,o)):(s.round(g,q,0,0,r,r),s.translate(k,e)),d.append(s),k+=g+c.innerPadding}}),this.drawETC(d),d},this.drawAnimate=function(a){var b=this.chart.svg,c=this.brush.animate;a.append(b.animate({attributeName:"opacity",from:"0",to:"1",begin:"0s",dur:"1.4s",repeatCount:"1",fill:"freeze"})),a.each(function(a,d){if(d.is("util.svg.element.path")){var e=d.data("translate").split(","),f=parseInt(e[0]),g=parseInt(e[1]),h=parseInt(d.attr("height")),i="top"==c?g-h:g+h;d.append(b.animateTransform({attributeName:"transform",type:"translate",from:f+" "+i,to:f+" "+g,begin:"0s",dur:"0.7s",repeatCount:"1",fill:"freeze"}))}})}};return a},"chart.brush.bar"),jui.define("chart.brush.bar3d",[],function(){var a=function(a,b,c){var d,e,f;this.drawBefore=function(){d=a.svg.group(),e=b.y.rangeBand(),f=(e-2*c.outerPadding-(c.target.length-1)*c.innerPadding)/c.target.length,f=0>f?0:f},this.draw=function(){var g=c.target.length;return this.eachData(function(h,i){for(var j=b.c(0,h),k=j.y-(e-2*c.outerPadding)/2,l=0;g>l;l++){var m=i[c.target[l]],n=b.c(m,h),o=Math.sin(b.c.radian)*n.depth,p=Math.abs(j.x-n.x),q=a.svg.rect3d(this.color(l),p,f,b.c.degree,n.depth);0!=m&&this.addEvent(q,h,l),q.translate(j.x,k+o),d.prepend(q),k+=f+c.innerPadding}}),d}};return a.setup=function(){return{outerPadding:10,innerPadding:5}},a},"chart.brush.core"),jui.define("chart.brush.column3d",[],function(){var a=function(){var a,b,c;this.drawBefore=function(){a=this.chart.svg.group(),b=this.axis.x.rangeBand(),c=(b-2*this.brush.outerPadding-(this.brush.target.length-1)*this.brush.innerPadding)/this.brush.target.length,c=0>c?0:c},this.drawMain=function(a,b,c,d,e){return this.chart.svg.rect3d(a,b,c,d,e)},this.draw=function(){var d=this.brush.target.length;return this.eachData(function(e,f){for(var g=this.axis.c(e,0),h=g.x-(b-2*this.brush.outerPadding)/2,i=0;d>i;i++){var j=f[this.brush.target[i]],k=this.axis.c(e,j),l=k.y+Math.sin(this.axis.c.radian)*k.depth,m=Math.abs(g.y-k.y),n=this.drawMain(this.color(i),c,m,this.axis.c.degree,k.depth);0!=j&&this.addEvent(n,e,i),n.translate(h,l),a.append(n),h+=c+this.brush.innerPadding}}),a}};return a.setup=function(){return{outerPadding:10,innerPadding:5}},a},"chart.brush.core"),jui.define("chart.brush.cylinder3d",[],function(){var a=function(){this.drawMain=function(a,b,c,d,e){return this.chart.svg.cylinder3d(a,b,c,d,e,this.brush.topRate)}};return a.setup=function(){return{topRate:1,outerPadding:10,innerPadding:5}},a},"chart.brush.column3d"),jui.define("chart.brush.clusterbar3d",["util.math"],function(a){var b=function(a,b,c){var d,e;this.drawBefore=function(){d=a.svg.group(),e=b.y.rangeBand()-2*c.outerPadding},this.draw=function(){for(var f=c.target.length,g=this.listData(),h=g.length-1;h>=0;h--)for(var i=g[h],j=0;f>j;j++){var k=i[c.target[j]],l=b.c(k,h,j,f),m=b.c(0,h,j,f),n=c.innerPadding>l.depth?l.depth:c.innerPadding,o=l.y-e/2+n/2,p=Math.abs(m.x-l.x),q=a.svg.rect3d(this.color(j),p,e,b.c.degree,l.depth-n);0!=k&&this.addEvent(q,h,j),q.translate(m.x,o),d.prepend(q)}return d}};return b.setup=function(){return{outerPadding:5,innerPadding:5}},b},"chart.brush.core"),jui.define("chart.brush.clustercolumn3d",[],function(){var a=function(){var a,b;this.drawBefore=function(){a=this.chart.svg.group(),b=this.axis.x.rangeBand()-2*this.brush.outerPadding},this.drawMain=function(a,b,c,d,e){return this.chart.svg.rect3d(a,b,c,d,e)},this.draw=function(){var c=this.brush.target.length;return this.eachData(function(d,e){for(var f=0;c>f;f++){var g=e[this.brush.target[f]],h=this.axis.c(d,g,f,c),i=this.axis.c(d,0,f,c),j=this.brush.innerPadding>h.depth?h.depth:this.brush.innerPadding,k=h.x-b/2,l=h.y-Math.sin(this.axis.c.radian)*j,m=Math.abs(i.y-h.y),n=this.drawMain(this.color(f),b,m,this.axis.c.degree,h.depth-j);0!=g&&this.addEvent(n,d,f),n.translate(k,l),a.prepend(n)}},!0),a}};return a.setup=function(){return{outerPadding:5,innerPadding:5}},a},"chart.brush.core"),jui.define("chart.brush.clustercylinder3d",[],function(){var a=function(){this.drawMain=function(a,b,c,d,e){return this.chart.svg.cylinder3d(a,b,c,d,e,this.brush.topRate)}};return a.setup=function(){return{topRate:1,outerPadding:5,innerPadding:5}},a},"chart.brush.clustercolumn3d"),jui.define("chart.brush.stackbar",[],function(){var a=function(a,b,c){var d,e,f;this.addBarElement=function(a){null==this.barList&&(this.barList=[]),this.barList.push(a)},this.getBarElement=function(a,b){var c=this.getBarStyle(),d=this.color(b),e=this.getData(a)[this.brush.target[b]],f=this.chart.svg.rect({fill:d,stroke:c.borderColor,"stroke-width":c.borderWidth,"stroke-opacity":c.borderOpacity});return 0!=e&&this.addEvent(f,a,b),f},this.setActiveEffect=function(a){for(var b=this.getBarStyle(),c=this.barList,d=0;d<c.length;d++){var e=a==c[d]?1:b.disableOpacity;c[d].attr({opacity:e})}},this.setActiveEffectOption=function(){var a=this.brush.active;this.barList&&this.barList[a]&&this.setActiveEffect(this.barList[a])},this.setActiveEvent=function(a){var b=this;a.on(b.brush.activeEvent,function(c){b.setActiveEffect(a)})},this.setActiveEventOption=function(a){null!=this.brush.activeEvent&&(this.setActiveEvent(a),a.attr({cursor:"pointer"}))},this.drawBefore=function(){d=a.svg.group(),e=b.y.rangeBand(),f=e-2*c.outerPadding},this.draw=function(){return this.eachData(function(e,g){for(var h=a.svg.group(),i=b.y(e)-f/2,j=b.x(0),k=0,l=0;l<c.target.length;l++){var m=g[c.target[l]]+k,n=b.x(m),o=this.getBarElement(e,l);o.attr({x:n>j?j:n,y:i,width:Math.abs(j-n),height:f}),h.append(o),j=n,k=m}this.setActiveEventOption(h),this.addBarElement(h),d.append(h)}),this.setActiveEffectOption(),d}};return a.setup=function(){return{outerPadding:15}},a},"chart.brush.bar"),jui.define("chart.brush.stackcolumn",[],function(){var a=function(a,b,c){var d,e,f,g;this.drawBefore=function(){d=a.svg.group(),e=b.y(0),f=b.x.rangeBand(),g=f-2*c.outerPadding},this.draw=function(){return this.eachData(function(e,f){for(var h=a.svg.group(),i=b.x(e)-g/2,j=b.y(0),k=0,l=0;l<c.target.length;l++){var m=f[c.target[l]]+k,n=b.y(m),o=this.getBarElement(e,l);o.attr({x:i,y:j>n?n:j,width:g,height:Math.abs(j-n)}),h.append(o),j=n,k=m}this.setActiveEventOption(h),this.addBarElement(h),d.append(h)}),this.setActiveEffectOption(),d}};return a},"chart.brush.stackbar"),jui.define("chart.brush.stackbar3d",[],function(){var a=function(a,b,c){var d,e,f,g;this.drawBefore=function(){d=a.svg.group(),e=b.y.rangeBand(),f=e-2*c.outerPadding,g=b.c(0,0)},this.draw=function(){return this.eachData(function(e,h){for(var i=a.svg.group(),j=b.c(0,e).y-f/2,k=0,l=0;l<c.target.length;l++){var m=h[c.target[l]],n=b.c(m,e),o=Math.sin(b.c.radian)*n.depth,p=Math.abs(g.x-n.x),q=a.svg.rect3d(this.color(l),p,f,b.c.degree,n.depth);0!=m&&this.addEvent(q,e,l),q.translate(g.x+k,j+o),d.append(q),k+=p}0!=m&&this.addEvent(i,e,l),d.append(i)}),d}};return a.setup=function(){return{outerPadding:10}},a},"chart.brush.core"),jui.define("chart.brush.stackcolumn3d",[],function(){var a=function(){var a,b,c,d;this.drawBefore=function(){a=this.chart.svg.group(),b=this.axis.x.rangeBand(),c=b-2*this.brush.outerPadding,d=this.axis.c(0,0)},this.drawMain=function(a,b,c,d,e){return this.chart.svg.rect3d(this.color(a),b,c,d,e)},this.draw=function(){return this.eachData(function(b,e){for(var f=this.chart.svg.group(),g=this.axis.c(b,0).x-c/2,h=0,i=0;i<this.brush.target.length;i++){var j=e[this.brush.target[i]],k=this.axis.c(b,j),l=Math.sin(this.axis.c.radian)*k.depth,m=k.y+l,n=Math.abs(d.y-k.y),o=this.drawMain(i,c,n,this.axis.c.degree,k.depth);o.translate(g,m-h),f.append(o),h+=n}0!=j&&this.addEvent(f,b,i),a.append(f)}),a}};return a.setup=function(){return{outerPadding:10}},a},"chart.brush.core"),jui.define("chart.brush.stackcylinder3d",[],function(){var a=function(){this.drawMain=function(a,b,c,d,e){var f=Math.sin(this.axis.c.radian)*e,g=a>0?c-f:c;return this.chart.svg.cylinder3d(this.color(a),b,g,d,e)}};return a},"chart.brush.stackcolumn3d"),jui.define("chart.brush.fullstackbar",[],function(){var a=function(a,b,c){var d,e,f,g;this.drawBefore=function(){d=a.svg.group(),e=b.x(0),f=b.y.rangeBand(),g=f-2*c.outerPadding},this.drawText=function(a,b,c){var d=this.chart.text({x:b,y:c,"text-anchor":"middle"},a+"%");return d},this.draw=function(){return this.eachData(function(e,f){for(var h=a.svg.group(),i=b.y(e)-g/2,j=0,k=[],l=0;l<c.target.length;l++){var m=f[c.target[l]];j+=m,k.push(m)}for(var n=0,o=b.x.max(),l=k.length-1;l>=0;l--){var m=b.x.rate(k[l],j),p=this.getBarElement(e,l);if(p.attr({x:n,y:i,width:m,height:g}),h.append(p),c.showText){var q=Math.round(k[l]/j*o),r=n+m/2,s=i+g/2+5;h.append(this.drawText(q,r,s))}this.setActiveEventOption(h),n+=m}this.addBarElement(h),d.append(h)}),this.setActiveEffectOption(),d}};return a.setup=function(){return{outerPadding:15,showText:!1}},a},"chart.brush.stackbar"),jui.define("chart.brush.fullstackcolumn",[],function(){var a=function(a,b,c){var d,e,f,g;this.drawBefore=function(){d=a.svg.group(),e=b.y(0),f=b.x.rangeBand(),g=f-2*c.outerPadding},this.draw=function(){var e=b.area("height");return this.eachData(function(f,h){for(var i=a.svg.group(),j=b.x(f)-g/2,k=0,l=[],m=0;m<c.target.length;m++){var n=h[c.target[m]];k+=n,l.push(n)}for(var o=0,p=b.y.max(),m=l.length-1;m>=0;m--){var n=e-b.y.rate(l[m],k),q=this.getBarElement(f,m);if(q.attr({x:j,y:o,width:g,height:n}),i.append(q),c.showText){var r=Math.round(l[m]/k*p),s=j+g/2,t=o+n/2+8;i.append(this.drawText(r,s,t))}this.setActiveEventOption(i),o+=n}this.addBarElement(i),d.append(i)}),this.setActiveEffectOption(),d}};return a},"chart.brush.fullstackbar"),jui.define("chart.brush.fullstackbar3d",[],function(){var a=function(a,b,c){var d,e,f,g;this.drawBefore=function(){d=a.svg.group(),e=b.y.rangeBand(),f=e-2*c.outerPadding,g=b.c(0,0)},this.drawText=function(a,b,c){var d=this.chart.text({x:b,y:c,"text-anchor":"middle"},a+"%");return d},this.draw=function(){return this.eachData(function(e,h){for(var i=a.svg.group(),j=b.c(0,e).y-f/2,k=0,l=0,m=[],n=0;n<c.target.length;n++){var o=h[c.target[n]];l+=o,m.push(o)}for(var n=0;n<c.target.length;n++){var p=h[c.target[n]],q=b.c(p,e),r=Math.sin(b.c.radian)*q.depth,o=b.x.rate(m[n],l),s=a.svg.rect3d(this.color(n),o,f,b.c.degree,q.depth);if(0!=p&&this.addEvent(s,e,n),s.translate(g.x+k,j+r),i.append(s),c.showText){var t=Math.round(m[n]/l*b.x.max()),u=k+o/2,v=j+f/2+5;i.append(this.drawText(t,u,v))}k+=o}this.addEvent(i,e,n),d.append(i)}),d}};return a.setup=function(){return{outerPadding:10,showText:!1}},a},"chart.brush.core"),jui.define("chart.brush.fullstackcolumn3d",[],function(){var a=function(){var a,b,c,d;this.drawBefore=function(){a=this.chart.svg.group(),b=this.axis.x.rangeBand(),c=b-2*this.brush.outerPadding,d=this.axis.c(0,0)},this.drawMain=function(a,b,c,d,e){return this.chart.svg.rect3d(this.color(a),b,c,d,e)},this.getTextXY=function(a,b,c,d){return{x:b,y:c}},this.draw=function(){return this.eachData(function(b,e){for(var f=this.chart.svg.group(),g=this.axis.c(b,0).x-c/2,h=d.y,i=0,j=[],k=0;k<this.brush.target.length;k++){var l=e[this.brush.target[k]];i+=l,j.push(l)}for(var k=0;k<this.brush.target.length;k++){var m=e[this.brush.target[k]],n=this.axis.c(b,m),o=Math.sin(this.axis.c.radian)*n.depth,l=d.y-this.axis.y.rate(j[k],i),p=this.drawMain(k,c,l,this.axis.c.degree,n.depth);if(p.translate(g,h-l+o),f.append(p),this.brush.showText){var q=Math.round(j[k]/i*this.axis.y.max()),r=g+c/2,s=h-l/2+6,n=this.getTextXY(k,r,s,n.depth);f.append(this.drawText(q,n.x,n.y))}h-=l}this.addEvent(f,b,k),a.append(f)}),a}};return a.setup=function(){return{outerPadding:10,showText:!1}},a},"chart.brush.fullstackbar3d"),jui.define("chart.brush.fullstackcylinder3d",[],function(){var a=function(){this.drawMain=function(a,b,c,d,e){var f=Math.sin(this.axis.c.radian)*e,g=a>0?c-f:c;return this.chart.svg.cylinder3d(this.color(a),b,g,d,e)},this.getTextXY=function(a,b,c,d){var e=Math.sin(this.axis.c.radian)*d;return{x:b+Math.cos(this.axis.c.radian)*d/2,y:c-(a>0?e:0)}}};return a},"chart.brush.fullstackcolumn3d"),jui.define("chart.brush.bubble",[],function(){var a=function(a,b,c){function d(a,c,d,f){var g=e.getScaleValue(d.value,b.y.min(),b.y.max(),c.min,c.max),h=a.svg.group();return h.append(a.svg.circle({r:g,fill:e.color(f),"fill-opacity":a.theme("bubbleBackgroundOpacity"),stroke:e.color(f),"stroke-width":a.theme("bubbleBorderWidth")})).translate(d.x,d.y),h}var e=this;this.drawBubble=function(a,b,c){for(var e=a.svg.group(),f=0;f<c.length;f++)for(var g=0;g<c[f].x.length;g++){var h=d(a,b,{x:c[f].x[g],y:c[f].y[g],value:c[f].value[g]},f);this.addEvent(h,g,f),e.append(h)}return e},this.draw=function(){return this.drawBubble(a,c,this.getXY())},this.drawAnimate=function(b){b.each(function(b,c){var d=c.children[0];d.append(a.svg.animateTransform({attributeType:"xml",attributeName:"transform",type:"scale",from:"0",to:"1",dur:"0.7s",fill:"freeze",repeatCount:"1"})),d.append(a.svg.animate({attributeType:"xml",attributeName:"fill-opacity",from:"0",to:a.theme("bubbleBackgroundOpacity"),dur:"1.4s",repeatCount:"1",fill:"freeze"}))})}};return a.setup=function(){return{min:5,max:30}},a},"chart.brush.core"),jui.define("chart.brush.candlestick",[],function(){var a=function(){var a,b=0,c=0,d=0;this.drawBefore=function(){a=this.chart.svg.group(),b=this.axis.x.rangeBand(),c=.7*b,d=c/2},this.draw=function(){return this.eachData(function(b,e){var f=this.axis.x(b),g=null,h=null,i=this.getValue(e,"high",0),j=this.getValue(e,"low",0),k=this.getValue(e,"open",0),l=this.getValue(e,"close",0);if(k>l){var m=this.axis.y(k);h=this.chart.svg.line({x1:f,y1:this.axis.y(i),x2:f,y2:this.axis.y(j),stroke:this.chart.theme("candlestickInvertBorderColor"),"stroke-width":1}),g=this.chart.svg.rect({x:f-d,y:m,width:c,height:Math.abs(this.axis.y(l)-m),fill:this.chart.theme("candlestickInvertBackgroundColor"),stroke:this.chart.theme("candlestickInvertBorderColor"),"stroke-width":1})}else{var m=this.axis.y(l);h=this.chart.svg.line({x1:f,y1:this.axis.y(i),x2:f,y2:this.axis.y(j),stroke:this.chart.theme("candlestickBorderColor"),"stroke-width":1}),g=this.chart.svg.rect({x:f-d,y:m,width:c,height:Math.abs(this.axis.y(k)-m),fill:this.chart.theme("candlestickBackgroundColor"),stroke:this.chart.theme("candlestickBorderColor"),"stroke-width":1})}this.addEvent(g,b,null),a.append(h),a.append(g)}),a}};return a},"chart.brush.core"),jui.define("chart.brush.ohlc",[],function(){var a=function(a,b,c){var d;this.drawBefore=function(){d=a.svg.group()},this.draw=function(){return this.eachData(function(c,e){var f=b.x(c),g=this.getValue(e,"high",0),h=this.getValue(e,"low",0),i=this.getValue(e,"open",0),j=this.getValue(e,"close",0),k=a.theme(i>j?"ohlcInvertBorderColor":"ohlcBorderColor"),l=a.svg.line({x1:f,y1:b.y(g),x2:f,y2:b.y(h),stroke:k,"stroke-width":1}),j=a.svg.line({x1:f,y1:b.y(j),x2:f+a.theme("ohlcBorderRadius"),y2:b.y(j),stroke:k,"stroke-width":1}),i=a.svg.line({x1:f,y1:b.y(i),x2:f-a.theme("ohlcBorderRadius"),y2:b.y(i),stroke:k,"stroke-width":1});this.addEvent(l,c,null),d.append(l),d.append(j),d.append(i)}),d}};return a},"chart.brush.candlestick"),jui.define("chart.brush.equalizer",[],function(){var a=function(a,b,c){var d,e,f,g,h;this.drawBefore=function(){d=a.svg.group(),e=b.y(0),f=b.x.rangeBand(),h=(f-2*c.outerPadding)/2,g=(f-2*c.outerPadding-(c.target.length-1)*c.innerPadding)/c.target.length},this.draw=function(){return this.eachData(function(f,i){for(var j=b.x(f)-h,k=0;k<c.target.length;k++){var l=a.svg.group(),m=b.y(i[c.target[k]]),n=1.5,o=e,p=0;if(e>=m)for(;o>m;){var q=o-c.unit<m?Math.abs(o-m):c.unit,r=a.svg.rect({x:j,y:o-q,width:g,height:q,fill:this.color(Math.floor(p/c.gap))});o-=q+n,p++,l.append(r)}else for(;m>o;){var q=o+c.unit>m?Math.abs(o-m):c.unit,r=a.svg.rect({x:j,y:o,width:g,height:q,fill:this.color(Math.floor(p/c.gap))});o+=q+n,p++,l.append(r)}this.addEvent(l,f,k),d.append(l),j+=g+c.innerPadding}}),d}};return a.setup=function(){return{innerPadding:10,outerPadding:15,unit:5,gap:5}},a},"chart.brush.core"),jui.define("chart.brush.line",[],function(){var a=function(){var a,b,c,d,e;this.setActiveEffect=function(a){for(var d=this.lineList,e=0;e<d.length;e++){var f=a==d[e].element?1:c,g=d[e].element.attr("stroke");null!=d[e].tooltip&&d[e].tooltip.style(g,b,f),d[e].element.attr({opacity:f})}},this.addLineElement=function(a){this.lineList||(this.lineList=[]),this.lineList.push(a)},this.createLine=function(a,b){var c=a.x,f=a.y,g=this.chart.svg.path({stroke:this.color(b),"stroke-width":d,"stroke-dasharray":e,fill:"transparent",cursor:null!=this.brush.activeEvent?"pointer":"normal"});if(a.length>0)if(g.MoveTo(c[0],f[0]),"curve"==this.brush.symbol)for(var h=this.curvePoints(c),i=this.curvePoints(f),j=0;j<c.length-1;j++)g.CurveTo(h.p1[j],i.p1[j],h.p2[j],i.p2[j],c[j+1],f[j+1]);else for(var j=0;j<c.length-1;j++){if("step"==this.brush.symbol){var k=c[j]+(c[j+1]-c[j])/2;g.LineTo(k,f[j]),g.LineTo(k,f[j+1])}g.LineTo(c[j+1],f[j+1])}return g},this.createTooltip=function(a,c,d){for(var e=this.brush.display,f=0;f<c.x.length;f++)if("max"==e&&c.max[f]||"min"==e&&c.min[f]){var g="max"==e&&c.max[f]?"top":"bottom",h=this.drawTooltip(this.color(d),b,1);h.control(g,c.x[f],c.y[f],this.format(c.value[f])),a.append(h.tooltip),this.lineList[d].tooltip=h}},this.drawLine=function(b){for(var c=this,d=0;d<b.length;d++){var e=this.createLine(b[d],d);this.addEvent(e,null,d),a.append(e),this.addLineElement({element:e,tooltip:null}),null!=this.brush.display&&this.createTooltip(a,b[d],d),null!=this.brush.activeEvent&&!function(a){a.on(c.brush.activeEvent,function(b){c.setActiveEffect(a)})}(e)}for(var d=0;d<b.length;d++)this.brush.active==this.brush.target[d]&&this.setActiveEffect(this.lineList[d].element);return a},this.drawBefore=function(){a=this.chart.svg.group(),b=this.chart.theme("linePointBorderColor"),c=this.chart.theme("lineDisableBorderOpacity"),d=this.chart.theme("lineBorderWidth"),e=this.chart.theme("lineBorderDashArray")},this.draw=function(){return this.drawLine(this.getXY())},this.drawAnimate=function(a){var b=this.chart.svg;a.each(function(a,c){if(c.is("util.svg.element.path")){var d=c.attributes["stroke-dasharray"],e=c.length();"none"==d?(c.attr({"stroke-dasharray":e}),c.append(b.animate({attributeName:"stroke-dashoffset",from:e,to:"0",begin:"0s",dur:"1s",repeatCount:"1"}))):c.append(b.animate({attributeName:"opacity",from:"0",to:"1",begin:"0s",dur:"1.5s",repeatCount:"1",fill:"freeze"}))}})}};return a.setup=function(){return{symbol:"normal",active:null,activeEvent:null,display:null}},a},"chart.brush.core"),jui.define("chart.brush.path",[],function(){var a=function(a,b,c){this.draw=function(){for(var b=this.chart.svg.group(),d=0,e=this.brush.target.length;e>d;d++){var f=this.color(d),g=a.svg.path({fill:f,"fill-opacity":a.theme("pathBackgroundOpacity"),stroke:f,"stroke-width":a.theme("pathBorderWidth")});b.append(g),this.eachData(function(b,e){var f=this.axis.c(b,e[c.target[d]]),h=f.x-a.area("x"),i=f.y-a.area("y");0==b?g.MoveTo(h,i):g.LineTo(h,i)}),g.ClosePath()}return b}};return a},"chart.brush.core"),jui.define("chart.brush.pie",["util.base","util.math","util.color"],function(a,b,c){var d=function(){var a,d=this,e=3,f={};this.setActiveEvent=function(a,c,d,e){var f=this.chart.theme("pieActiveDistance"),g=Math.cos(b.radian(e))*f,h=Math.sin(b.radian(e))*f;a.translate(c+g,d+h)},this.getFormatText=function(a,b){var c=this.chart.get("series",a),d=c.text?c.text:a;return"function"==typeof this.brush.format?this.format(d,b):b?d+": "+this.format(b):d},this.drawPie=function(a,c,d,e,f,g){var h=this.chart.svg.group();if(360==f){var i=this.chart.svg.circle({cx:a,cy:c,r:d,fill:g,stroke:this.chart.theme("pieBorderColor")||g,"stroke-width":this.chart.theme("pieBorderWidth")});return h.append(i),h}var j=this.chart.svg.path({fill:g,stroke:this.chart.theme("pieBorderColor")||g,"stroke-width":this.chart.theme("pieBorderWidth")}),k=b.rotate(0,-d,b.radian(e)),l=k.x,m=k.y;return j.MoveTo(l,m),k=b.rotate(l,m,b.radian(f)),h.translate(a,c),j.Arc(d,d,0,f>180?1:0,1,k.x,k.y).LineTo(0,0).ClosePath(),h.append(j),h},this.drawPie3d=function(a,c,d,e,f,g){var h=this.chart.svg.group(),i=this.chart.svg.path({fill:g,stroke:this.chart.theme("pieBorderColor")||g,"stroke-width":this.chart.theme("pieBorderWidth")}),j=b.rotate(0,-d,b.radian(e)),k=j.x,l=j.y;i.MoveTo(k,l),j=b.rotate(k,l,b.radian(f)),h.translate(a,c),i.Arc(d,d,0,f>180?1:0,1,j.x,j.y);var m=j.y+10,n=j.x+5,o=k+5,p=l+10;return i.LineTo(n,m),i.Arc(d,d,0,f>180?1:0,0,o,p),i.ClosePath(),h.append(i),h},this.drawText=function(a,c,d,f,g){var h=this.chart,i=h.theme("pieOuterLineSize"),j=f*h.theme("pieOuterLineRate"),k=a+Math.cos(b.radian(d))*f,l=c+Math.sin(b.radian(d))*f,m=a+Math.cos(b.radian(d))*j,n=c+Math.sin(b.radian(d))*j,o=d+90>180?!0:!1,p=o?m-i:m+i;return h.svg.group({},function(){var a=h.svg.path({fill:"transparent",stroke:h.theme("pieOuterLineColor"),"stroke-width":.7});a.MoveTo(k,l).LineTo(m,n).LineTo(p,n),h.text({"font-size":h.theme("pieOuterFontSize"),"text-anchor":o?"end":"start",y:e},g).translate(p+(o?-3:3),n)})},this.drawUnit=function(a,b,e){var g=this.axis.c(a),h=g.width,i=g.height,j=g.x,k=g.y,l=h;l>i&&(l=i);for(var m=h/2+j,n=i/2+k,o=l/2,p=this.brush.target,q=this.brush.active,r=360,s=0,t=0,u=0;u<p.length;u++)t+=b[p[u]];for(var u=0;u<p.length;u++){var v=b[p[u]],w=r*(v/t);if(this.brush["3d"]){var x=this.drawPie3d(m,n,o,s,w,c.darken(this.color(u),.5));e.append(x)}s+=w}s=0;for(var u=0;u<p.length;u++){var v=b[p[u]],w=r*(v/t),y=s+w/2-90,z=this.drawPie(m,n,o,s,w,this.color(u));if((q==p[u]||-1!=$.inArray(p[u],q))&&(this.setActiveEvent(z,m,n,y),f[y]=!0),null!=this.brush.activeEvent&&!function(a,b,c,e){a.on(d.brush.activeEvent,function(g){f[e]?(a.translate(b,c),f[e]=!1):(d.setActiveEvent(a,b,c,e),f[e]=!0)}),a.attr({cursor:"pointer"})}(z,m,n,y),this.brush.showText){var A=this.getFormatText(p[u],v,t),B=this.drawText(m,n,y,o,A);this.addEvent(B,a,u),e.append(B)}d.addEvent(z,a,u),e.append(z),s+=w}},this.drawBefore=function(){a=this.chart.svg.group()},this.draw=function(){return this.eachData(function(b,c){this.drawUnit(b,c,a)}),a}};return d.setup=function(){return{clip:!1,showText:!1,format:null,"3d":!1,active:null,activeEvent:null}},d},"chart.brush.core"),jui.define("chart.brush.donut",["util.base","util.math","util.color"],function(a,b,c){var d=function(){var a=this,d={};this.drawDonut=function(a,c,d,e,f,g,h,i){i=i||!1,h["stroke-width"]=e-d;var j=this.chart.svg.group(),k=this.chart.svg.path(h),l=Math.abs(e-d),m=b.rotate(0,-e,b.radian(f)),n=m.x,o=m.y;if(k.MoveTo(n,o),m=b.rotate(n,o,b.radian(g)),j.translate(a,c),k.Arc(e,e,0,g>180?1:0,1,m.x,m.y),j.append(k),i){var p=b.rotate(0,-d-l/2,b.radian(f)),q=p.x,r=p.y,s=b.rotate(q,r,b.radian(g)),t=this.chart.svg.circle({cx:s.x,cy:s.y,r:l/2,fill:h.fill});j.append(t);var u=this.chart.svg.circle({cx:s.x,cy:s.y,r:3,fill:"white"});j.append(u)}return j},this.drawDonut3d=function(a,c,d,e,f,g,h,i,j){var k=this.chart.svg.group(),l=this.chart.svg.path(h),m=Math.abs(e-d);e+=m/2,d=e-m;var n=b.rotate(0,-e,b.radian(f)),o=n.x,p=n.y,q=b.rotate(0,-d,b.radian(f)),r=q.x,s=q.y;l.MoveTo(o,p),n=b.rotate(o,p,b.radian(g)),q=b.rotate(r,s,b.radian(g)),k.translate(a,c),l.Arc(e,e,0,g>180?1:0,1,n.x,n.y);var t=n.y+10,u=n.x+5,v=q.y+10,w=q.x+5,x=o+5,y=p+10,z=r+5,A=s+10;l.LineTo(u,t),l.Arc(e,e,0,g>180?1:0,0,x,y),l.ClosePath(),k.append(l);var B=this.chart.svg.path(h);return B.MoveTo(r,s),B.Arc(d,d,0,g>180?1:0,1,q.x,q.y),B.LineTo(w,v),B.Arc(d,d,0,g>180?1:0,0,z,A),B.ClosePath(),k.append(B),k},this.drawDonut3dBlock=function(a,c,d,e,f,g,h,i,j){var k=this.chart.svg.group(),l=this.chart.svg.path(h),m=Math.abs(e-d);e+=m/2,d=e-m;var n=b.rotate(0,-e,b.radian(f)),o=n.x,p=n.y,q=b.rotate(0,-d,b.radian(f)),r=q.x,s=q.y;l.MoveTo(o,p),n=b.rotate(o,p,b.radian(g)),q=b.rotate(r,s,b.radian(g)),k.translate(a,c);var t=n.y+10,u=n.x+5,v=q.y+10,w=q.x+5,x=this.chart.svg.path(h);return x.MoveTo(n.x,n.y).LineTo(u,t).LineTo(w,v).LineTo(q.x,q.y).ClosePath(),k.append(x),k},this.drawUnit=function(b,e,f){var g=this.axis.c(b),h=g.width,i=g.height,j=g.x,k=g.y,l=h;l>i&&(l=i),this.brush.size>=l/2&&(this.brush.size=l/4);for(var m=h/2+j,n=i/2+k,o=l/2-this.brush.size/2,p=o-this.brush.size,q=this.brush.target,r=this.brush.active,s=360,t=0,u=0,v=0;v<q.length;v++)u+=e[q[v]];if(this.brush["3d"]){for(var v=0;v<q.length;v++){var w=e[q[v]],x=s*(w/u),y=this.drawDonut3dBlock(m,n,p,o,t,x,{fill:c.darken(this.color(v),.5)},v==q.length-1);f.append(y),t+=x}t=0;for(var v=0;v<q.length;v++){var w=e[q[v]],x=s*(w/u),y=this.drawDonut3d(m,n,p,o,t,x,{fill:c.darken(this.color(v),.5)},v==q.length-1);f.append(y),t+=x}}t=0;for(var v=0;v<q.length;v++){var w=e[q[v]],x=s*(w/u),z=t+x/2-90,A=this.drawDonut(m,n,p,o,t,x,{stroke:this.color(v),fill:"transparent"});if((r==q[v]||-1!=$.inArray(q[v],r))&&(this.setActiveEvent(A,m,n,z),d[z]=!0),null!=this.brush.activeEvent&&!function(b,c,e,f){b.on(a.brush.activeEvent,function(g){d[f]?(b.translate(c,e),d[f]=!1):(a.setActiveEvent(b,c,e,f),d[f]=!0)}),b.attr({cursor:"pointer"})}(A,m,n,z),this.brush.showText){var B=this.getFormatText(q[v],w),C=this.drawText(m,n,z,o,B);this.addEvent(C,b,v),f.append(C)}this.addEvent(A,b,v),f.append(A),t+=x}}};return d.setup=function(){return{size:50}},d},"chart.brush.pie"),jui.define("chart.brush.clock",["util.math"],function(a){var b=function(){var b,c,d;this.drawInnerCircle=function(a,b,c){return this.chart.svg.circle({cx:b,cy:c,r:10})},this.drawInnerCircle2=function(a,b,c){return this.chart.svg.circle({cx:b,cy:c,r:5,fill:"white"})},this.drawOuterCircle=function(a,b,c){return this.chart.svg.circle({cx:b,cy:c,r:a-10,fill:"transparent",stroke:"black","stroke-width":5})},this.drawSecond=function(b,c,d,e,f,g,h){var i=6,j=i/1e3,k=a.radian(i*g+j*h),l=a.rotate(0,-(b-20),k);return this.chart.svg.line({x1:c,y1:d,x2:c+l.x,y2:d+l.y,stroke:"black"})},this.drawMinute=function(b,c,d,e,f,g,h){var i=(this.chart.svg.group().translate(c,d),6),j=i/60,k=j/1e3,l=a.radian(i*f+j*g+k*h),m=a.rotate(0,-(b-40),l);return this.chart.svg.line({x1:c,y1:d,x2:c+m.x,y2:d+m.y,stroke:"black","stroke-width":5})},this.drawHour=function(b,c,d,e,f,g,h){var i=30,j=i/60,k=j/60,l=k/1e3,m=a.radian(i*e+j*f+k*g+l*h),n=a.rotate(0,-(b-50),m);return this.chart.svg.line({x1:c,y1:d,x2:c+n.x,y2:d+n.y,stroke:"black","stroke-width":7})},this.drawLine=function(b,c,d){for(var e=this.chart.svg.group().translate(c,d),f=30,g=f/5,h=1;12>=h;h++){var i=a.radian(f*h),j=a.rotate(0,-(b-10),i),k=a.rotate(0,-(b-20),i),l=a.rotate(0,-(b-30),i),m=this.chart.svg.line({x1:j.x,y1:j.y,x2:k.x,y2:k.y,stroke:"black","stroke-width":2});e.append(m);for(var n=a.radian(f*(h-1)),o=1;4>=o;o++){var i=n+a.radian(g*o),j=a.rotate(0,-(b-10),i),k=a.rotate(0,-(b-15),i),m=this.chart.svg.line({x1:j.x,y1:j.y,x2:k.x,y2:k.y,stroke:"black","stroke-width":2});e.append(m)}e.append(this.chart.text({x:l.x,y:l.y+6,"text-anchor":"middle",stroke:"black"},h))}return e},this.drawUnit=function(a,e,f){var g=this.axis.c(a),h=g.width,i=g.height,j=g.x,k=g.y;b=Math.min(h,i)/2,c=h/2+j,d=i/2+k;var l=new Date,m=this.getValue(e,"hour",l.getHours()),n=this.getValue(e,"minute",l.getMinutes()),o=this.getValue(e,"second",l.getSeconds()),p=l.getMilliseconds();return f.append(this.drawOuterCircle(b,c,d)),f.append(this.drawInnerCircle(b,c,d)),f.append(this.drawLine(b,c,d)),f.append(this.drawSecond(b,c,d,m,n,o,p)),f.append(this.drawMinute(b,c,d,m,n,o,p)),f.append(this.drawHour(b,c,d,m,n,o,p)),f.append(this.drawInnerCircle2(b,c,d)),f},this.draw=function(){var a=this.chart.svg.group();return this.eachData(function(b,c){this.drawUnit(b,c,a)}),a}};return b},"chart.brush.core"),jui.define("chart.brush.scatter",["util.base"],function(a){var b=function(){this.createScatter=function(b,c){var d=this,e=null,f=this.chart.get("series",this.brush.target[c]),g=f.symbol?f.symbol:this.brush.symbol,i=h=this.brush.size,j=this.color(c),k=this.chart.theme("scatterBorderColor"),l=this.chart.theme("scatterBorderWidth");
return a.typeCheck("function",g)?e=this.chart.svg.image({"xlink:href":g(b.value),width:i+l,height:h+l,x:b.x-i/2-l,y:b.y-h/2}):(e="triangle"==g||"cross"==g?this.chart.svg.group({width:i,height:h},function(){if("triangle"==g){var a=d.chart.svg.polygon();a.point(0,h).point(i,h).point(i/2,0)}else d.chart.svg.line({stroke:j,"stroke-width":2*l,x1:0,y1:0,x2:i,y2:h}),d.chart.svg.line({stroke:j,"stroke-width":2*l,x1:0,y1:i,x2:h,y2:0})}).translate(b.x-i/2,b.y-h/2):"rectangle"==g?this.chart.svg.rect({width:i,height:h,x:b.x-i/2,y:b.y-h/2}):this.chart.svg.ellipse({rx:i/2,ry:h/2,cx:b.x,cy:b.y}),"cross"!=g&&e.attr({fill:j,stroke:k,"stroke-width":l}).hover(function(){e!=d.activeScatter&&e.attr({fill:d.chart.theme("scatterHoverColor"),stroke:j,"stroke-width":2*l,opacity:1})},function(){e!=d.activeScatter&&e.attr({fill:j,stroke:k,"stroke-width":l,opacity:d.brush.hide?0:1})})),e},this.drawScatter=function(a){for(var b=this,c=this.chart.svg.group(),d=this.chart.theme("scatterBorderColor"),e=this.chart.theme("scatterBorderWidth"),f=0;f<a.length;f++)for(var g=0;g<a[f].length;g++)if(!this.brush.hideZero||0!==a[f].value[g]){var h={x:a[f].x[g],y:a[f].y[g],max:a[f].max[g],min:a[f].min[g],value:a[f].value[g]},i=this.createScatter(h,f);("max"==this.brush.display&&h.max||"min"==this.brush.display&&h.min)&&c.append(this.drawTooltip(h.x,h.y,this.format(h.value))),null!=this.brush.activeEvent&&!function(a,c,f,g,h){a.on(b.brush.activeEvent,function(i){"cross"!=b.brush.symbol&&(null!=b.activeScatter&&b.activeScatter.attr({fill:b.activeScatter.attributes.stroke,stroke:d,"stroke-width":e,opacity:b.brush.hide?0:1}),b.activeScatter=a,b.activeScatter.attr({fill:b.chart.theme("scatterHoverColor"),stroke:h,"stroke-width":2*e,opacity:1})),b.activeTooltip.html(g),b.activeTooltip.translate(c,f)}),a.attr({cursor:"pointer"})}(i,h.x,h.y,this.format(h.value),this.color(f)),this.brush.hide&&i.attr({opacity:0}),this.addEvent(i,g,f),c.append(i)}return this.activeTooltip=this.drawTooltip(0,0,""),c.append(this.activeTooltip),c},this.drawTooltip=function(a,b,c){return this.chart.text({y:-this.brush.size,"text-anchor":"middle","font-weight":this.chart.theme("tooltipPointFontWeight")},c).translate(a,b)},this.draw=function(){return this.drawScatter(this.getXY())},this.drawAnimate=function(){var a=this.chart.area();return this.chart.svg.animateTransform({attributeName:"transform",type:"translate",from:a.x+" "+a.height,to:a.x+" "+a.y,begin:"0s",dur:"0.4s",repeatCount:"1"})}};return b.setup=function(){return{symbol:"circle",size:7,hide:!1,hideZero:!1,activeEvent:null,display:null,clip:!1}},b},"chart.brush.core"),jui.define("chart.brush.scatterpath",["util.base"],function(a){var b=function(){this.drawScatter=function(b){for(var c=height=this.brush.size,d=this.color(0),e=this.brush.strokeWidth,f={fill:"none",stroke:d,"stroke-width":e,"stroke-opacity":1,"stroke-linecap":"butt","stroke-linejoin":"round"},g=this.chart.svg.group(),h=this.chart.svg.pathSymbol(),i=h.template(c,height),j=5,k=[],l=1;j>=l;l++)k[l]=this.chart.svg.pathSymbol(f);for(var m=a.loop(b[0].x.length),l=0;l<b.length;l++){var n=this.chart.get("series",this.brush.target[l]),o=n&&n.symbol?n.symbol:this.brush.symbol;m(function(a,c){k[c].add(0|b[l].x[a],0|b[l].y[a],i[o])})}for(var l=1;j>=l;l++)g.append(k[l]);return h.remove(),g},this.draw=function(){return this.drawScatter(this.getXY(!1))}};return b.setup=function(){return{symbol:"circle",size:7,strokeWidth:1}},b},"chart.brush.core"),jui.define("chart.brush.bargauge",[],function(){var a=function(a,b,c){this.draw=function(){var d=a.svg.group(),e=b.c(0),f=e.width,g=e.x,h=e.y;return this.eachData(function(b,e){var i=a.svg.group(),j=this.getValue(e,"value",0),k=this.getValue(e,"title",""),l=this.getValue(e,"max",100),m=this.getValue(e,"min",0),n=f/(l-m)*j,o=h+c.size/2+c.cut-1;i.append(a.svg.rect({x:g+c.cut,y:h,width:f,height:c.size,fill:a.theme("bargaugeBackgroundColor")})),i.append(a.svg.rect({x:g,y:h,width:n,height:c.size,fill:a.color(b,c)})),i.append(a.text({x:g+c.cut,y:o,"text-anchor":"start","font-size":a.theme("bargaugeFontSize"),fill:a.theme("bargaugeFontColor")},k)),i.append(a.text({x:f-c.cut,y:o,"text-anchor":"end","font-size":a.theme("bargaugeFontSize"),fill:a.theme("bargaugeFontColor")},this.format(j,b))),this.addEvent(i,b,null),d.append(i),h+=c.size+c.cut}),d}};return a.setup=function(){return{cut:5,size:20,format:null,max:100,min:0}},a},"chart.brush.core"),jui.define("chart.brush.circlegauge",[],function(){var a=function(a,b,c){var d,e,f,g,h;this.drawUnit=function(c,i){var j=b.c(c),k=this.getValue(i,"value",0),l=this.getValue(i,"max",100),m=this.getValue(i,"min",0),n=(k-m)/(l-m),o=j.width,p=j.height,q=j.x,r=j.y;e=Math.min(o,p)/2,f=o/2+q,g=p/2+r,h=e,d.append(a.svg.circle({cx:f,cy:g,r:h,fill:a.theme("gaugeBackgroundColor"),stroke:this.color(0),"stroke-width":2})),d.append(a.svg.circle({cx:f,cy:g,r:h*n,fill:this.color(0)})),this.addEvent(d,null,null)},this.draw=function(){return d=a.svg.group(),this.eachData(function(a,b){this.drawUnit(a,b)}),d}};return a.setup=function(){return{clip:!1}},a},"chart.brush.core"),jui.define("chart.brush.fillgauge",["jquery","util.base"],function(a,b){var c=function(c,d,e){function f(a){var b=(e.value-e.min)/(e.max-e.min);if("vertical"==a)var d=c.area("height")*b,f=c.area("width"),g=0,h=c.area("height")-d;else var d=c.area("height"),f=c.area("width")*b,g=0,h=0;m.attr({x:g,y:h,width:f,height:d})}function g(a,b){a.append(c.svg.path({x:0,y:0,fill:c.theme("gaugeBackgroundColor"),d:b})),a.append(c.svg.path({x:0,y:0,fill:n.color(0),d:b,"clip-path":"url(#"+l+")"}))}var h,i,j,k,l,m,n=this;this.drawBefore=function(){var a=a||{},d=a.c(),e=d.width,f=d.height,g=d.x,n=d.y,o=e;o>f&&(o=f),h=o/2,i=e/2+g,j=f/2+n,k=h,l=b.createId("fill-gauge");var p=c.svg.clipPath({id:l});m=c.svg.rect({x:0,y:0,width:0,height:0}),p.append(m),c.defs.append(p)},this.draw=function(){var b=c.svg.group({opacity:.8});return f(e.direction),""!=e.svg||""!=e.path?""!=e.svg?a.ajax({url:e.svg,async:!1,success:function(c){var d=a(c).find("path").attr("d");g(b,d)}}):g(b,e.path):"circle"==e.shape?(b.append(c.svg.circle({cx:i,cy:j,r:k,fill:c.theme("gaugeBackgroundColor")})),b.append(c.svg.circle({cx:i,cy:j,r:k,fill:c.color(0,e),"clip-path":"url(#"+l+")"}))):"rectangle"==e.shape&&(b.append(c.svg.rect({x:0,y:0,width:c.area("width"),height:c.area("height"),fill:c.theme("gaugeBackgroundColor")})),b.append(c.svg.rect({x:0,y:0,width:c.area("width"),height:c.area("height"),fill:this.color(0),"clip-path":"url(#"+l+")"}))),b}};return c.setup=function(){return{min:0,max:100,value:0,shape:"circle",direction:"vertical",svg:"",path:""}},c},"chart.brush.core"),jui.define("chart.brush.area",[],function(){var a=function(){this.drawArea=function(a){for(var b=this.chart.svg.group(),c=this.axis.y(this.brush.startZero?0:this.axis.y.min()),d=0;d<a.length;d++){var e=this.createLine(a[d],d),f=a[d].x;a[d].length>0&&(e.LineTo(f[f.length-1],c),e.LineTo(f[0],c),e.ClosePath()),e.attr({fill:this.color(d),"fill-opacity":this.chart.theme("areaBackgroundOpacity"),"stroke-width":0}),this.addEvent(e,null,d),b.prepend(e),this.brush.line&&b.prepend(this.createLine(a[d],d))}return b},this.draw=function(){return this.drawArea(this.getXY())},this.drawAnimate=function(a){a.append(this.chart.svg.animate({attributeName:"opacity",from:"0",to:"1",begin:"0s",dur:"1.5s",repeatCount:"1",fill:"freeze"}))}};return a.setup=function(){return{symbol:"normal",active:null,activeEvent:null,display:null,startZero:!1,line:!0}},a},"chart.brush.line"),jui.define("chart.brush.stackline",[],function(){var a=function(){this.draw=function(){return this.drawLine(this.getStackXY())}};return a},"chart.brush.line"),jui.define("chart.brush.stackarea",[],function(){var a=function(){this.draw=function(){return this.drawArea(this.getStackXY())}};return a},"chart.brush.area"),jui.define("chart.brush.stackscatter",[],function(){var a=function(){this.draw=function(){return this.drawScatter(this.getStackXY())}};return a},"chart.brush.scatter"),jui.define("chart.brush.gauge",["util.math"],function(a){var b=function(){function b(b,c,g,i,j,k){var l=h.chart.svg.group({"class":"gauge text"}).translate(d,e);l.append(h.chart.svg.text({x:0,y:h.brush.arrow?70:10,"text-anchor":"middle","font-size":"3em","font-weight":1e3,fill:h.color(0)},j+"")),""!=k&&l.append(h.chart.text({x:0,y:100,"text-anchor":"middle","font-size":"1.5em","font-weight":500,fill:h.chart.theme("gaugeFontColor")},k));var m=0,n=-f,o=a.rotate(m,n,a.radian(b));m=o.x,n=o.y,l.append(h.chart.text({x:o.x+30,y:o.y+20,"text-anchor":"middle",fill:h.chart.theme("gaugeFontColor")},g+""));var o=a.rotate(m,n,a.radian(c));return l.append(h.chart.text({x:o.x-20,y:o.y+20,"text-anchor":"middle",fill:h.chart.theme("gaugeFontColor")},i+"")),l}var c,d,e,f,g,h=this;this.drawBefore=function(){},this.drawUnit=function(a,h,i){var j=this.axis.c(a),k=this.getValue(h,"value",0),l=this.getValue(h,"max",100),m=this.getValue(h,"min",0),n=this.getValue(h,"unit"),o=this.brush.startAngle,p=this.brush.endAngle;p>=360&&(p=359.99999);var q=(k-m)/(l-m),r=p*q;r>p&&(r=p);var s=j.width,t=j.height,u=j.x,v=j.y;return c=Math.min(s,t)/2,d=s/2+u,e=t/2+v,f=c-this.brush.size/2,g=f-this.brush.size,i.append(this.drawDonut(d,e,g,f,o+r,p-r,{fill:"transparent",stroke:this.chart.theme("gaugeBackgroundColor")})),i.append(this.drawDonut(d,e,g,f,o,r,{fill:"transparent",stroke:this.color(a)})),i.append(b(o,p,m,l,k,n)),i},this.draw=function(){var a=this.chart.svg.group();return this.eachData(function(b,c){this.drawUnit(b,c,a)}),a}};return b.setup=function(){return{size:30,startAngle:0,endAngle:360}},b},"chart.brush.donut"),jui.define("chart.brush.fullgauge",["util.math"],function(a){var b=function(){function a(a,b){var c=j.chart.svg.group().translate(e,f);return c.append(j.chart.text({"text-anchor":"middle","font-size":j.chart.theme("gaugeFontSize"),"font-weight":j.chart.theme("gaugeFontWeight"),fill:j.color(0),y:k},j.format(a,b)).scale(i)),c}function b(a,b,c){var d=j.chart.svg.group().translate(e+b,f+c),g=0==b?"middle":0>b?"end":"start";return d.append(j.chart.text({"text-anchor":g,"font-size":j.chart.theme("gaugeTitleFontSize"),"font-weight":j.chart.theme("gaugeTitleFontWeight"),fill:j.chart.theme("gaugeTitleFontColor"),y:k},a).scale(i)),d}var c,d,e,f,g,h,i,j=this,k=5;this.drawUnit=function(j,k){var l=this.axis.c(j),m=this.getValue(k,"value",0),n=this.getValue(k,"title"),o=this.getValue(k,"max",100),p=this.getValue(k,"min",0),q=this.brush.startAngle,r=this.brush.endAngle;r>=360&&(r=359.99999);var s=(m-p)/(o-p),t=r*s;t>r&&(t=r);var u=l.width,v=l.height,w=l.x,x=l.y;return d=Math.min(u,v)/2,e=u/2+w,f=v/2+x,g=d-this.brush.size,h=g-this.brush.size,i=this.getScaleValue(d,40,400,1,1.5),c.append(this.drawDonut(e,f,h,g,q+t,r-t,{stroke:this.chart.theme("gaugeBackgroundColor"),fill:"transparent"})),c.append(this.drawDonut(e,f,h,g,q,t,{stroke:this.color(j),fill:"transparent"})),this.brush.showText&&c.append(a(m,j)),""!=n&&c.append(b(n,this.brush.titleX,this.brush.titleY)),c},this.draw=function(){return c=this.chart.svg.group(),this.eachData(function(a,b){this.drawUnit(a,b)}),c}};return b.setup=function(){return{size:60,startAngle:0,endAngle:360,showText:!0,titleX:0,titleY:0,format:null}},b},"chart.brush.donut"),jui.define("chart.brush.stackgauge",["util.math"],function(a){var b=function(a,b,c){var d,e,f,g;this.drawBefore=function(){b.c||(b.c=function(){return{x:0,y:0,width:a.area("width"),height:a.area("height")}});var c=b.c(),h=c.width,i=c.height,j=c.x,k=c.y,l=h;l>i&&(l=i),d=l/2,e=h/2+j,f=i/2+k,g=d},this.draw=function(){var b=a.svg.group();return this.eachData(function(d,h){var i=(h[c.target]-c.min)/(c.max-c.min),j=c.endAngle*i,k=g-c.size+c.cut;c.endAngle>=360&&(c.endAngle=359.99999);var l=this.drawDonut(e,f,k,g,c.startAngle+j,c.endAngle-j,{fill:a.theme("gaugeBackgroundColor")});b.append(l),l=this.drawDonut(e,f,k,g,c.startAngle,j,{fill:this.color(d)},!0),b.append(l),b.append(a.text({x:e+2,y:f+Math.abs(g)-5,fill:this.color(d),"font-size":"12px","font-weight":"bold"},h[c.title]||"")),g-=c.size}),b}};return b.setup=function(){return{min:0,max:100,cut:5,size:24,startAngle:-180,endAngle:360,title:"title"}},b},"chart.brush.donut"),jui.define("chart.brush.waterfall",[],function(){var a=function(a,b,c){var d,e,f,g,h,i,j;this.drawBefore=function(){d=a.svg.group(),j=c.outerPadding,e=this.listData().length,f=b.y(0),g=b.x.rangeBand(),i=g-2*j,h=(g-2*j-(c.target.length-1))/c.target.length},this.draw=function(){var g=c.target[0],k=a.theme("waterfallLineColor");return this.eachData(function(l,m){var n=b.x(l)-i/2,o=b.y(m[g]),p=null,q=null;if(0==l||l==e-1&&c.end){var r=a.theme("waterfallEdgeBackgroundColor");p=a.svg.rect(f>=o?{x:n,y:o,width:h,height:Math.abs(f-o),fill:r}:{x:n,y:f,width:h,height:Math.abs(f-o),fill:r})}else{var s=this.getData(l-1)[g],t=m[g],u=b.y(s),v=b.y(t),w=u-v;p=a.svg.rect(w>0?{x:n,y:u-w,width:h,height:Math.abs(w),fill:a.theme("waterfallBackgroundColor")}:{x:n,y:u,width:h,height:Math.abs(w),fill:a.theme("waterfallInvertBackgroundColor")}),c.line&&(q=a.svg.line({x1:n-2*j,y1:v+w,x2:n,y2:v+w,stroke:k,"stroke-width":1,"stroke-dasharray":a.theme("waterfallLineDashArray")}),d.append(q))}this.addEvent(p,l,0),d.append(p),n+=h}),d}};return a.setup=function(){return{line:!0,end:!1,outerPadding:5}},a},"chart.brush.core"),jui.define("chart.brush.splitline",["util.base"],function(a){var b=function(){this.createLine=function(b,c){var d,e,f={stroke:this.color(c),"stroke-width":this.chart.theme("lineBorderWidth"),fill:"transparent"},g=this.brush.split,h=this.brush.symbol,i=b.x,j=b.y,k=this.chart.svg.group(),l=this.chart.svg.path(f).MoveTo(i[0],j[0]);"curve"==h&&(d=this.curvePoints(i),e=this.curvePoints(j));for(var m=0;m<i.length-1;m++){if(0==k.children.length&&(a.typeCheck("integer",g)&&m==g||a.typeCheck("date",g)&&this.axis.x.invert(i[m]).getTime()>=g.getTime())){var n=this.chart.theme("lineSplitBorderColor"),o=this.chart.theme("lineSplitBorderOpacity");k.append(l),f.stroke=null!=n?n:f.stroke,f["stroke-opacity"]=o,l=this.chart.svg.path(f).MoveTo(i[m],j[m])}if("step"==h){var p=i[m]+(i[m+1]-i[m])/2;l.LineTo(p,j[m]),l.LineTo(p,j[m+1])}"curve"!=h?l.LineTo(i[m+1],j[m+1]):l.CurveTo(d.p1[m],e.p1[m],d.p2[m],e.p2[m],i[m+1],j[m+1])}return k.append(l),k},this.drawLine=function(a){for(var b=this.chart.svg.group(),c=0;c<a.length;c++){var d=this.createLine(a[c],c);this.addEvent(d,null,c),b.append(d)}return b},this.draw=function(){return this.drawLine(this.getXY())}};return b.setup=function(){return{symbol:"normal",split:null}},b},"chart.brush.core"),jui.define("chart.brush.splitarea",["util.base"],function(a){var b=function(){this.drawArea=function(b){for(var c=this.chart.svg.group(),d=this.chart.area("height"),e=this.brush.split,f=this.chart.theme("areaSplitBackgroundColor"),g=0;g<b.length;g++){var h={fill:this.color(g),"fill-opacity":this.chart.theme("areaBackgroundOpacity"),"stroke-width":0},i=this.createLine(b[g],g),j=b[g].x;if(a.typeCheck("date",e))for(var k=0;k<j.length-1;k++)if(this.axis.x.invert(j[k]).getTime()>=e.getTime()){e=k;break}i.each(function(a,b){0==a?(e=null!=e?e:j.length-1,b.LineTo(j[e],d),b.LineTo(j[0],d),b.attr(h)):(h.fill=f,b.LineTo(j[j.length-1],d),b.LineTo(j[e],d),b.attr(h)),b.ClosePath()}),this.addEvent(i,null,g),c.prepend(i),this.brush.line&&c.prepend(this.createLine(b[g],g))}return c},this.draw=function(){return this.drawArea(this.getXY())}};return b.setup=function(){return{symbol:"normal",split:null,line:!0}},b},"chart.brush.splitline"),jui.define("chart.brush.rangecolumn",[],function(){var a=function(a,b,c){var d,e,f,g,h,i,j,k,l;this.drawBefore=function(){d=a.svg.group(),h=c.outerPadding,i=c.innerPadding,e=b.x.rangeBand(),g=e-2*h,f=(e-2*h-(c.target.length-1)*i)/c.target.length,j=a.theme("columnBorderColor"),k=a.theme("columnBorderWidth"),l=a.theme("columnBorderOpacity")},this.draw=function(){return this.eachData(function(e,h){for(var m=b.x(e)-g/2,n=0;n<c.target.length;n++){var o=h[c.target[n]],p=b.y(o[1]),q=b.y(o[0]),r=a.svg.rect({x:m,y:p,width:f,height:Math.abs(q-p),fill:this.color(n),stroke:j,"stroke-width":k,"stroke-opacity":l});this.addEvent(r,e,n),d.append(r),m+=f+i}}),d}};return a.setup=function(){return{outerPadding:2,innerPadding:1}},a},"chart.brush.core"),jui.define("chart.brush.rangebar",[],function(){var a=function(a,b,c){var d,e,f,g,h,i,j,k,l;this.drawBefore=function(){d=a.svg.group(),h=c.outerPadding,i=c.innerPadding,e=b.y.rangeBand(),f=e-2*h,g=(f-(c.target.length-1)*i)/c.target.length,j=a.theme("barBorderColor"),k=a.theme("barBorderWidth"),l=a.theme("barBorderOpacity")},this.draw=function(){return this.eachData(function(e,h){for(var m=a.svg.group(),n=b.y(e)-f/2,o=0;o<c.target.length;o++){var p=h[c.target[o]],q=b.x(p[1]),r=b.x(p[0]),s=a.svg.rect({x:r,y:n,height:g,width:Math.abs(r-q),fill:this.color(o),stroke:j,"stroke-width":k,"stroke-opacity":l});this.addEvent(s,e,o),m.append(s),n+=g+i}d.append(m)}),d}};return a.setup=function(){return{outerPadding:2,innerPadding:1}},a},"chart.brush.core"),jui.define("chart.brush.topologynode.edge",[],function(){var a=function(a,b,c,d){var e=!1,f=null;this.key=function(){return a+":"+b},this.reverseKey=function(){return b+":"+a},this.connect=function(a){return 0==arguments.length?e:void(e=a)},this.element=function(a){return 0==arguments.length?f:void(f=a)},this.get=function(e){return"start"==e?a:"end"==e?b:"in_xy"==e?c:"out_xy"==e?d:void 0}};return a}),jui.define("chart.brush.topologynode.edgemanager",["util.base"],function(a){var b=function(){var b=[],c={};this.add=function(a){c[a.key()]=a,b.push(a)},this.get=function(a){return c[a]},this.is=function(a){return c[a]?!0:!1},this.list=function(){return b},this.each=function(c){if(a.typeCheck("function",c))for(var d=0;d<b.length;d++)c.call(this,b[d])}};return b}),jui.define("chart.brush.topologynode",["util.base","util.math","chart.brush.topologynode.edge","chart.brush.topologynode.edgemanager"],function(a,b,c,d){var e=function(e,f,g){function h(a,c,d,e,f){var g=a-d,h=c-e,i=Math.sqrt(Math.pow(g,2)+Math.pow(h,2)),f=f?f:0,j=b.angle(a,c,d,e);return{x:a+Math.cos(j)*(i+f),y:c+Math.sin(j)*(i+f),angle:j,distance:i}}function i(a){for(var b=0;b<g.edgeData.length;b++)if(g.edgeData[b].key==a)return g.edgeData[b];return null}function j(a){for(var b=0;b<g.edgeData.length;b++)if(a.key()==g.edgeData[b].key)return g.edgeData[b];return null}function k(b){var c=[],d=b.split(":");return y.eachData(function(b,e){var f=a.typeCheck("function",g.nodeTitle)?g.nodeTitle(e):"";e.key==d[0]&&(c[0]=f||e.key),e.key==d[1]&&(c[1]=f||e.key)}),c.length>0?c:b}function l(b,c){var d=f.c(b),h=a.typeCheck("function",g.nodeColor)?g.nodeColor(c):g.nodeColor||y.color(0),i=a.typeCheck("function",g.nodeTitle)?g.nodeTitle(c):"",j=a.typeCheck("function",g.nodeText)?g.nodeText(c):"",k=e.svg.group({index:b},function(){a.typeCheck("function",g.nodeImage)?e.svg.image({"xlink:href":g.nodeImage(c),width:2*w,height:2*w,x:-w,y:-w,cursor:"pointer"}):e.svg.circle({"class":"circle",r:w,fill:h,cursor:"pointer"}),j&&""!=j&&e.text({"class":"text",x:0,y:6,fill:e.theme("topologyNodeFontColor"),"font-size":e.theme("topologyNodeFontSize"),"text-anchor":"middle",cursor:"pointer"},j),i&&""!=i&&e.text({"class":"title",x:0,y:w+13,fill:e.theme("topologyNodeTitleFontColor"),"font-size":e.theme("topologyNodeTitleFontSize"),"font-weight":"bold","text-anchor":"middle",cursor:"pointer"},i)}).translate(d.x,d.y);return k.on("click",function(a){e.emit("topology.nodeclick",[c,a])}),k}function m(){z.each(function(a){var b=a.get("in_xy"),c=a.get("out_xy"),d=e.svg.group();d.append(n(a,b,c)),d.append(o(a,b,c)),u.append(d)})}function n(a,b,c){var d=e.svg.group();return a.connect()||d.append(e.svg.line({cursor:"pointer",x1:b.x,y1:b.y,x2:c.x,y2:c.y,stroke:e.theme("topologyEdgeColor"),"stroke-width":1,"shape-rendering":"geometricPrecision"})),d.append(e.svg.circle({fill:e.theme("topologyEdgeColor"),stroke:e.theme("backgroundColor"),"stroke-width":2,r:x,cx:c.x,cy:c.y})),d.on("click",function(b){t(a,b)}),a.element(d),d}function o(c,d,f){var h=null,j=f.x>d.x?"end":"start",k=i(c.key());if(null!=k){var l=a.typeCheck("function",g.edgeText)?g.edgeText(k,j):null;null!=l&&(h="end"==j?e.svg.text({x:f.x-9,y:f.y+13,cursor:"pointer",fill:e.theme("topologyEdgeFontColor"),"font-size":e.theme("topologyEdgeFontSize"),"text-anchor":j},l).rotate(b.degree(f.angle),f.x,f.y):e.svg.text({x:f.x+8,y:f.y-7,cursor:"pointer",fill:e.theme("topologyEdgeFontColor"),"font-size":e.theme("topologyEdgeFontSize"),"text-anchor":j},l).rotate(b.degree(d.angle),f.x,f.y),h.on("click",function(a){t(c,a)}))}return h}function p(a,b){var d=y.getData(a),e=y.getValue(d,"outgoing",[])[b],g=f.c(e),i=f.c(a),j=w+x+1,k=h(g.x,g.y,i.x,i.y,-j),l=h(i.x,i.y,g.x,g.y,-j),m=new c(y.getValue(d,"key"),e,k,l);z.is(m.reverseKey())&&m.connect(!0),z.add(m)}function q(a,b){var c=e.svg.image({visibility:"hidden"}),d=null,f=null,h=null;a.each(function(a,b){var c=b.attributes;"circle"==c["class"]&&(d=b),"text"==c["class"]&&(f=b),"title"==c["class"]&&(h=b)}),a.append(c),a.on("dblclick",function(a){null!=D&&r();var i=g.nodeChart(b,a),j=i.padding("left")+i.padding("right")+i.area("width"),k=i.padding("top")+i.padding("bottom")+i.area("height"),l=Math.sqrt(j*j+k*k)/2;d.attr({r:l,stroke:e.theme("backgroundColor"),"stroke-width":2}),c.attr({x:-(j/2),y:-(k/2),width:j,height:k,"xlink:href":i.svg.toDataURI(),visibility:"visible"}),f.attr({visibility:"hidden"}),h.attr({visibility:"hidden"}),D={c:d,i:f,t:h,inner:c}})}function r(){null!=D&&(D.i.attr({visibility:"visible"}),D.t.attr({visibility:"visible"}),D.inner.attr({visibility:"hidden"}),D.c.attr(a.typeCheck("function",g.nodeImage)?{width:2*w,height:2*w}:{r:w}),D=null)}function s(b,c){if(a.typeCheck("function",g.tooltipTitle)&&a.typeCheck("function",g.tooltipText)){var d=v.get(0);text=v.get(1),d.attr({points:""}),text.element.textContent="";var f=j(b),h=b.get("in_xy"),i=b.get("out_xy"),l=i.x>h.x?"end":"start";if(e.emit("topology.edgeclick",[f,c]),null!=f){var m=document.createElementNS("http://www.w3.org/2000/svg","tspan"),n=document.createElementNS("http://www.w3.org/2000/svg","tspan"),o=2*B+("end"==l?C:0);text.element.appendChild(m),text.element.appendChild(n),m.setAttribute("x",B),m.setAttribute("y",o),m.setAttribute("font-weight","bold"),m.textContent=g.tooltipTitle(k(f.key),l),n.setAttribute("x",B),n.setAttribute("y",o+A+B/2),n.textContent=g.tooltipText(f,l);var p=e.scale(),q=text.size(),r=(q.width+2*B)/p,s=(q.height+2*B)/p,t=i.x-r/2+C/2+x/2;text.attr({x:r/2}),d.attr({points:y.balloonPoints("end"==l?"bottom":"top",r,s,C)}),v.attr({visibility:"visible"}),"end"==l?v.translate(t,i.y+C/2+x):v.translate(t,i.y-C-s+x)}}}function t(a,b){z.each(function(b){var c=b.element(),d=c.get(2==c.children.length?1:0),f=2==c.children.length?c.get(0):null,g=e.theme("topologyEdgeColor"),h=e.theme("topologyActiveEdgeColor");null==a||a.key()!=b.key()&&a.reverseKey()!=b.key()?(null!=f&&f.attr({stroke:g,"stroke-width":1}),d.attr({fill:g})):(null!=f&&f.attr({stroke:h,"stroke-width":2}),d.attr({fill:h}),a.key()==b.key()&&s(a))})}var u,v,w,x,y=this,z=new d,A=14,B=7,C=7,D=null;this.drawBefore=function(){u=e.svg.group(),w=e.theme("topologyNodeRadius"),x=e.theme("topologyEdgePointRadius"),v=e.svg.group({visibility:"hidden"},function(){e.svg.polygon({fill:e.theme("topologyTooltipBackgroundColor"),stroke:e.theme("topologyTooltipBorderColor"),"stroke-width":1}),e.text({"font-size":e.theme("topologyTooltipFontSize"),fill:e.theme("topologyTooltipFontColor"),y:A})})},this.draw=function(){var b=[];if(this.eachData(function(a,b){for(var c=0;c<b.outgoing.length;c++)p(a,c)}),m(),this.eachData(function(a,c){var d=l(a,c);u.append(d),b[a]={node:d,data:c}}),this.on("chart.mousedown",function(a){e.svg.root.element==a.target&&(t(null,a),v.attr({visibility:"hidden"}))}),a.typeCheck("string",g.activeEdge)&&this.on("render",function(a){if(!a){var b=z.get(g.activeEdge);t(b)}}),a.typeCheck("function",g.nodeChart)&&null==g.nodeImage)for(var c=0;c<b.length;c++)q(b[c].node,b[c].data);return u}};return e.setup=function(){return{clip:!1,nodeTitle:null,nodeText:null,nodeImage:null,nodeColor:null,nodeChart:null,edgeData:[],edgeText:null,tooltipTitle:null,tooltipText:null,activeEdge:null}},e},"chart.brush.core"),jui.define("chart.brush.focus",[],function(){var a=function(a,b,c){var d;this.drawFocus=function(b,e){var f=a.theme("focusBorderColor"),g=a.theme("focusBorderWidth"),h=a.theme("focusBackgroundColor"),i=a.theme("focusBackgroundOpacity"),j=a.area("height");return d=a.svg.group({},function(){var d=b,k=e;c.hide||(a.svg.line({stroke:f,"stroke-width":g,x1:0,y1:0,x2:0,y2:j}).translate(d,0),a.svg.rect({width:Math.abs(k-d),height:j,fill:h,opacity:i}).translate(d,0),a.svg.line({stroke:f,"stroke-width":g,x1:0,y1:0,x2:0,y2:j}).translate(k,0))})},this.draw=function(){var a=0,d=0;return-1==c.start||-1==c.end?this.chart.svg.g():("block"==b.x.type?(a=b.x(c.start)-b.x.rangeBand()/2,d=b.x(c.end)+b.x.rangeBand()/2):(a=b.x(c.start),d=b.x(c.end)),this.drawFocus(a,d))}};return a.setup=function(){return{start:-1,end:-1}},a},"chart.brush.core"),jui.define("chart.brush.pin",[],function(){var a=function(a,b,c){var d=this;this.draw=function(){var e=c.size,f=a.theme("pinBorderColor"),g=a.theme("pinBorderWidth"),h=a.svg.group({},function(){var h=b.x(c.split),i=h-e/2,j=d.format(b.x.invert(h));a.text({"text-anchor":"middle","font-size":a.theme("pinFontSize"),fill:a.theme("pinFontColor")},j).translate(h,-4),a.svg.polygon({fill:f}).point(e,0).point(e/2,e).point(0,0).translate(i,0),a.svg.line({stroke:f,"stroke-width":g,x1:e/2,y1:0,x2:e/2,y2:a.area("height")}).translate(i,0)});return h}};return a.setup=function(){return{size:6,split:0,showValue:!1,format:null}},a},"chart.brush.core"),jui.define("chart.brush.map.core",["jquery","util.base"],function(a,b){var c=function(){};return c},"chart.brush.core"),jui.define("chart.brush.map.selector",["util.base"],function(a){var b=function(a,b,c){var d=null;this.draw=function(){var e=a.svg.group(),f=null;return this.on("map.mouseover",function(b,c){d!=b.path&&(f=b.path.styles.fill||b.path.attributes.fill,b.path.css({fill:a.theme("mapSelectorColor")}))}),this.on("map.mouseout",function(a,b){d!=a.path&&a.path.css({fill:f})}),null!=c.activeEvent&&this.on(c.activeEvent,function(c,e){d=c.path,b.map.each(function(a,b){b.path.css({fill:f})}),c.path.css({fill:a.theme("mapSelectorActiveColor")})}),e}};return b.setup=function(){return{activeEvent:null}},b},"chart.brush.map.core"),jui.define("chart.brush.map.template",["util.base"],function(a){var b=function(){var a=this;this.draw=function(){var b=this.chart.svg.group();return this.eachData(function(c,d){var e=a.axis.map(d.id),f=a.brush.callback.call(a,c,d,{x:e.x,y:e.y});f.translate(e.x,e.y),b.append(f)}),b}};return b.setup=function(){return{callback:function(a){return""}}},b},"chart.brush.map.core"),jui.define("chart.brush.map.bubble",["util.base"],function(a){var b=function(b,c,d){function e(){for(var a=0,b=0,d=f.listData(),e=0;e<d.length;e++){var g=c.getValue(d[e],"value",0);a=0==e?g:Math.min(g,a),b=0==e?g:Math.max(g,b)}return{min:a,max:b}}var f=this;this.draw=function(){var f=b.svg.group(),g=a.typeCheck("string",d.color)?b.color(d.color):this.color(0),h=e();return this.eachData(function(e,i){var j=c.getValue(i,"value",0),k=this.getScaleValue(j,h.min,h.max,d.min,d.max),l=c.map(c.getValue(i,"id",null));if(null!=l){a.typeCheck("function",d.color)&&(g=b.color(d.color.call(b,i)||g));var m=b.svg.circle({r:k,fill:g,"fill-opacity":b.theme("mapBubbleBackgroundOpacity"),stroke:g,"stroke-width":b.theme("mapBubbleBorderWidth")});m.translate(l.x,l.y),f.append(m)}}),f}};return b.setup=function(){return{color:null,min:10,max:30}},b},"chart.brush.map.core"),jui.define("chart.brush.map.flightroute",["util.base"],function(a){var b=function(b,c,d){function e(b){var c=b.data.title;return a.typeCheck("string",c)&&""!=c&&(h.get(1).text(c),h.get(1).attr({"text-anchor":"middle"})),c}function f(a,b,c,d){function f(f){if(e(b)){var g="large"==a?i:j,k=h.get(1).size(),l=n*p,m=k.width+2*r,q=k.height+r;h.get(1).attr({x:m/2}),h.get(0).attr({points:o.balloonPoints("top",m,q,s),stroke:g}),h.attr({visibility:"visible"}),h.translate(b.x-m/2,b.y-q-s-l),c.attr({stroke:g}),d.attr({fill:g})}}function g(b){var e="large"==a?j:i;h.attr({visibility:"hidden"}),c.attr({stroke:e}),d.attr({fill:e})}c.hover(f,g),d.hover(f,g)}var g,h,i,j,k,l,m,n,o=this,p=.4,q=1.33,r=7,s=7,t=14;this.drawAirport=function(a,c){var d="large"==a?j:i,e=n*p,h=b.svg.circle({r:"large"==a?n*q:n,"stroke-width":"large"==a?k*q:k,fill:"transparent","fill-opacity":0,stroke:d}).translate(c.x,c.y),l=b.svg.circle({r:"large"==a?e*q:e,"stroke-width":0,fill:d}).translate(c.x,c.y);g.append(h),g.append(l),f(a,c,h,l)},this.drawRoutes=function(a,c){var d=b.svg.line({x1:c.x,y1:c.y,x2:a.x,y2:a.y,stroke:l,"stroke-width":m});g.append(d)},this.drawBefore=function(){g=b.svg.group(),h=b.svg.group({visibility:"hidden"},function(){b.svg.polygon({fill:b.theme("tooltipBackgroundColor"),"fill-opacity":b.theme("tooltipBackgroundOpacity"),stroke:b.theme("tooltipBorderColor"),"stroke-width":2}),b.text({"font-size":b.theme("tooltipFontSize"),fill:b.theme("tooltipFontColor"),y:t})}),i=b.theme("mapFlightRouteAirportSmallColor"),j=b.theme("mapFlightRouteAirportLargeColor"),k=b.theme("mapFlightRouteAirportBorderWidth"),n=b.theme("mapFlightRouteAirportRadius"),l=b.theme("mapFlightRouteLineBorderColor"),m=b.theme("mapFlightRouteLineBorderWidth")},this.draw=function(){return this.eachData(function(a,b){var d=c.getValue(b,"id",null),e=c.getValue(b,"airport",null),f=c.getValue(b,"routes",[]),g=c.map(d);if(null!=e&&null!=g){for(var h=0;h<f.length;h++){var i=c.map(f[h]);null!=i&&this.drawRoutes(i,g)}this.drawAirport(e,g)}}),g}};return b.setup=function(){return{}},b},"chart.brush.map.core"),jui.define("chart.widget.core",["jquery","util.base"],function(a,b){var c=function(){this.drawAfter=function(a){a.attr({"class":"widget widget-"+this.widget.type})},this.getIndexArray=function(a){var c=[0];return b.typeCheck("array",a)?c=a:b.typeCheck("integer",a)&&(c=[a]),c},this.isRender=function(){return this.widget.render===!0?!0:!1},this.on=function(a,c,d){var e=this;return this.chart.on(a,function(){if(b.startsWith(a,"axis.")&&b.typeCheck("integer",d)){var f=e.chart.axis(d),g=arguments[0];b.typeCheck("object",f)&&arguments[1]==d&&c.apply(e,[g])}else c.apply(e,arguments)},this.isRender()?"render":"renderAll")}};return c.setup=function(){return{render:!1,index:0}},c},"chart.draw"),jui.define("chart.widget.tooltip",["jquery"],function(a){var b=function(b,c,d){function e(a,b){if(!p[a]){var c=document.createElementNS("http://www.w3.org/2000/svg","tspan");j.element.appendChild(c),p[a]=c}p[a].textContent=b}function f(a,b,c){return"function"==typeof d.format?l.format(a,b,c):b?a+": "+l.format(b):a}function g(a){if(a.dataKey&&d.all===!1){var c=b.get("series",a.dataKey),g=a.dataKey,h=null!=a.data?a.data[g]:null;"bottom"==d.orient&&j.attr({y:o+n});var i=f(c.text?c.text:g,h,a.data);e(0,i),j.attr({"text-anchor":"middle"})}else{for(var k=a.brush,l=0;l<k.target.length;l++){var q=k.target[l],c=b.get("series",q),r=m,s=o*l+2*m,h=null!=a.data?a.data[q]:null;"bottom"==d.orient&&(s+=n);var i=f(c.text?c.text:q,h,a.data);e(l,i),p[l].setAttribute("x",r),p[l].setAttribute("y",s)}j.attr({"text-anchor":"inherit"})}}function h(b){var c=l.getIndexArray(l.widget.brush);return-1==a.inArray(b,c)?!1:!0}var i,j,k,l=this,m=7,n=7,o=14,p=[];this.drawBefore=function(){i=b.svg.group({visibility:"hidden"},function(){k=b.svg.polygon({fill:b.theme("tooltipBackgroundColor"),"fill-opacity":b.theme("tooltipBackgroundOpacity"),stroke:b.theme("tooltipBorderColor"),"stroke-width":1}),j=b.text({"font-size":b.theme("tooltipFontSize"),fill:b.theme("tooltipFontColor"),y:o})})},this.draw=function(){var a,b,c=this,e=!1;return this.on("mouseover",function(f,l){if(!e&&h(f.brush.index)&&(f.dataKey||f.data)){g(f);var o=j.size();a=o.width+2*m,b=o.height+m,j.attr({x:a/2}),k.attr({points:c.balloonPoints(d.orient,a,b,n)}),i.attr({visibility:"visible"}),e=!0}}),this.on("mousemove",function(c,f){if(e){var g=f.bgX-a/2,h=f.bgY-b-n-m/2;("left"==d.orient||"right"==d.orient)&&(h=f.bgY-b/2-m/2),"left"==d.orient?g=f.bgX-a-n:"right"==d.orient?g=f.bgX+n:"bottom"==d.orient&&(h=f.bgY+2*n),
i.translate(g,h)}}),this.on("mouseout",function(a,b){e&&(i.attr({visibility:"hidden"}),e=!1)}),i}};return b.setup=function(){return{orient:"top",all:!1,format:null,brush:0}},b},"chart.widget.core"),jui.define("chart.widget.title",[],function(){var a=function(a,b,c){var d=0,e=0,f="middle";this.drawBefore=function(){e="bottom"==c.orient?a.area("y2")+a.padding("bottom")-20:"top"==c.orient?20:a.area("y")+a.area("height")/2,"center"==c.align?(d=a.area("x")+a.area("width")/2,f="middle"):"start"==c.align?(d=a.area("x"),f="start"):(d=a.area("x2"),f="end")},this.draw=function(){var b=a.svg.getTextRect(c.text),g=b.width/2,h=b.height/2,i=a.text({x:d+c.dx,y:e+c.dy,"text-anchor":f,"font-size":c.size||a.theme("titleFontSize"),"font-weight":a.theme("titleFontWeight"),fill:a.theme("titleFontColor")},c.text);return"center"==c.orient&&("start"==c.align?i.rotate(-90,d+c.dx+g,e+c.dy+h):"end"==c.align&&i.rotate(90,d+c.dx-g,e+c.dy+h)),i}};return a.setup=function(){return{orient:"top",align:"center",text:"",dx:0,dy:0,size:null}},a},"chart.widget.core"),jui.define("chart.widget.legend",["util.base"],function(a){var b=function(b,c,d){function e(a){if(d.filter){g[a.index]||(g[a.index]={});for(var b=0;b<a.target.length;b++)g[a.index][a.target[b]]=!0}}function f(a){var c=[],d=a[0].index;for(var e in g[d])g[d][e]&&c.push(e);for(var f=0;f<a.length;f++)b.updateBrush(a[f].index,{target:c});b.isRender()||b.render(),b.emit("legend.filter",[c])}var g=[];this.getLegendIcon=function(c){for(var e=this,h=[],i=c.target,j=i.length,k=b.theme("legendIconRadius"),l=0;j>l;l++){var m=b.svg.group(),n=c.target[l],o=b.get("series",n).text||n,p=b.color(l,c),q=b.svg.getTextRect(o);if(null!=d.icon){var r=a.typeCheck("function",d.icon)?d.icon(c.index):d.icon;m.append(b.text({x:0,y:11,"font-size":b.theme("legendFontSize"),fill:p},r))}else m.append(b.svg.circle({cx:k,cy:k,r:k,fill:p}));m.append(b.text({x:2*k+2,y:10,"font-size":b.theme("legendFontSize"),fill:b.theme("legendFontColor"),"text-anchor":"start"},o)),h.push({icon:m,width:2*k+q.width+14,height:2*k+4}),d.filter&&!function(a,b){b.attr({cursor:"pointer"}),b.on("click",function(h){g[c.index][a]?(b.attr({opacity:.7}),g[c.index][a]=!1):(b.attr({opacity:1}),g[c.index][a]=!0),f(d.brushSync?e.listBrush():[c])})}(n,m)}return h},this.draw=function(){for(var a=b.svg.group(),c=0,f=0,g=0,h=0,i=0,j=0,k=this.getIndexArray(d.brush),l=0;l<k.length;l++){var m=k[l];if(d.brushSync&&0!=m)return;for(var n=b.get("brush",k[m]),o=this.getLegendIcon(n),p=0;p<o.length;p++)a.append(o[p].icon),o[p].icon.translate(c,f),"bottom"==d.orient||"top"==d.orient?(c+=o[p].width,g+=o[p].width,j<o[p].height&&(j=o[p].height)):(f+=o[p].height,h+=o[p].height,i<o[p].width&&(i=o[p].width));e(n)}if("bottom"==d.orient||"top"==d.orient){var f="bottom"==d.orient?b.area("y2")+b.padding("bottom")-j:b.area("y")-b.padding("top");"start"==d.align?c=b.area("x"):"center"==d.align?c=b.area("x")+(b.area("width")/2-g/2):"end"==d.align&&(c=b.area("x2")-g)}else{var c="left"==d.orient?b.area("x")-b.padding("left"):b.area("x2")+b.padding("right")-i;"start"==d.align?f=b.area("y"):"center"==d.align?f=b.area("y")+(b.area("height")/2-h/2):"end"==d.align&&(f=b.area("y2")-h)}return a.translate(Math.floor(c),Math.floor(f)),a}};return b.setup=function(){return{orient:"bottom",align:"center",filter:!1,icon:null,brushSync:!1,brush:0}},b},"chart.widget.core"),jui.define("chart.widget.zoom",["util.base"],function(a){var b=function(){function a(a,e,f){function g(){if(j=!1,0!=l){var a=i.area("width")/(i.end-i.start),c=(l>0?k:k+l)-d,e=Math.floor(c/a)+i.start,g=Math.ceil((c+Math.abs(l))/a)+i.start;g>e&&(i.zoom(e,g),f.attr({visibility:"visible"}),b.chart.isRender()||b.chart.render()),h()}}function h(){j=!1,k=0,l=0,e.attr({width:0})}var i=b.chart.axis(a),j=!1,k=0,l=0;b.on("axis.mousedown",function(a){j||(j=!0,k=a.bgX)},a),b.on("axis.mousemove",function(a){j&&(l=a.bgX-k,l>0?(e.attr({width:l}),e.translate(k,c+i.area("y"))):(e.attr({width:Math.abs(l)}),e.translate(k+l,c+i.area("y"))))},a),b.on("axis.mouseup",g,a),b.on("chart.mouseup",g),b.on("bg.mouseup",g),b.on("bg.mouseout",g)}var b=this,c=0,d=0;this.drawSection=function(e){var f=this.chart.axis(e),g=f.area("width"),h=f.area("height"),i=12;return this.chart.svg.group({},function(){var j=b.chart.svg.rect({height:h,fill:b.chart.theme("zoomBackgroundColor"),opacity:.3}),k=b.chart.svg.group({visibility:"hidden"},function(){b.chart.svg.rect({width:g,height:h,fill:b.chart.theme("zoomFocusColor"),opacity:.2}),b.chart.svg.group({cursor:"pointer"},function(){b.chart.svg.circle({r:i,cx:g,cy:0,opacity:0}),b.chart.svg.path({d:"M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10s10-4.5,10-10C22,6.5,17.5,2,12,2z M16.9,15.5l-1.4,1.4L12,13.4l-3.5,3.5 l-1.4-1.4l3.5-3.5L7.1,8.5l1.4-1.4l3.5,3.5l3.5-3.5l1.4,1.4L13.4,12L16.9,15.5z",fill:b.chart.theme("zoomFocusColor")}).translate(g-i,-i)}).on("click",function(a){k.attr({visibility:"hidden"}),f.screen(1),b.chart.isRender()||b.chart.render()})}).translate(d+f.area("x"),c+f.area("y"));a(e,j,k)})},this.drawBefore=function(){c=this.chart.padding("top"),d=this.chart.padding("left")},this.draw=function(){for(var a=this.chart.svg.group(),b=this.chart.axis().length,c=0;b>c;c++)a.append(this.drawSection(c));return a}};return b},"chart.widget.core"),jui.define("chart.widget.zoomscroll",["util.base","chart.builder"],function(a,b){var c=function(c,d,e){function f(a,b){function d(){if(p){p=!1;for(var a=c.axis(),b=0;b<a.length;b++)a[b].zoom(k,l)}}function e(){var a=n.attributes.width,b=o.attributes.x;return b-j>=a?!0:!1}var f=a.get(0),i=a.get(1),p=!1,q=0,r=0;i.on("mousedown",function(a){p||(p=!0,r=f.attributes.width,q=a.x)}),g.on("chart.mousemove",function(a){if(p){var c=a.x-q;if(b){if(c>0&&!e())return;var d=r+c;f.attr({width:d}),i.attr({x1:d,x2:d}),k=Math.floor(d/j)}else{if(0>c&&!e())return;var d=r-c;f.attr({width:d,x:h-d}),i.attr({x1:h-d,x2:h-d}),l=m-Math.floor(d/j)}}}),g.on("chart.mouseup",d),g.on("bg.mouseup",d)}var g=this,h=null,i=null,j=0,k=null,l=null,m=null,n=null,o=null;this.drawBefore=function(){m=d.origin.length,k=d.start,l=d.end,h=c.area("width"),i=c.theme("zoomScrollBackgroundSize"),j=h/m},this.draw=function(){var g=c.theme("zoomScrollBackgroundColor"),p=c.theme("zoomScrollFocusColor"),q=c.theme("zoomScrollBrushColor"),r=b(null,{width:h,height:i,padding:0,axis:{x:a.extend({hide:!0,line:!1},d.get("x"),!0),y:a.extend({hide:!0,line:!1},d.get("y"),!0),data:d.origin},brush:{type:"area",target:e.target,line:!1,colors:[q]},style:{backgroundColor:"transparent"}});return c.svg.group({},function(){c.svg.rect({width:h,height:i,fill:g,"fill-opacity":.1,stroke:g,"stroke-opacity":.1}),c.svg.image({width:h,height:i,"xlink:href":r.svg.toDataURI()}),c.svg.group({},function(){var a=k*j;n=c.svg.rect({width:a,height:i,fill:p,"fill-opacity":.3,stroke:p,"stroke-opacity":.3}),c.svg.line({x1:a,x2:a,y1:0,y2:i,stroke:g,"stroke-width":1.5,"stroke-opacity":.3,cursor:"w-resize"}),f(this,!0)}),c.svg.group({},function(){var a=(m-l)*j;o=c.svg.rect({x:h-a,width:a,height:i,fill:p,"fill-opacity":.3,stroke:p,"stroke-opacity":.3}),c.svg.line({x1:h-a,x2:h-a,y1:0,y2:i,stroke:g,"stroke-width":1.5,"stroke-opacity":.3,cursor:"e-resize"}),f(this,!1)})}).translate(c.area("x"),c.area("y2")-i)}};return c.setup=function(){return{target:null}},c},"chart.widget.core"),jui.define("chart.widget.scroll",["util.base"],function(a){var b=function(a,b,c){function d(b){function c(a){j&&b.element!=a.target||(j=!0,m=a.bgX,n=g)}function d(c){if(j){var d=n+c.bgX-m;0>d?d=0:d+f>a.area("width")&&(d=a.area("width")-f),b.translate(d,1),g=d;var e=d*l,i=0==e?0:Math.floor(e/k);d+f==a.area("width")&&(i+=1);for(var p=0;p<o.length;p++)o[p].zoom(i,i+h);a.isRender()||a.render()}}function i(a){j&&(j=!1,m=0,n=0)}var j=!1,m=0,n=0,o=a.axis();e.on("bg.mousedown",c),e.on("chart.mousedown",c),e.on("bg.mousemove",d),e.on("bg.mouseup",i),e.on("chart.mousemove",d),e.on("chart.mouseup",i)}var e=this,f=0,g=0,h=0,i=0,j=0,k=0,l=0;this.drawBefore=function(){i=b.origin.length,h=b.buffer,k=a.area("width")/h,j=k*i,l=j/a.area("width"),f=a.area("width")*(h/i)+2},this.draw=function(){var b=a.theme("scrollBackgroundSize"),e="top"==c.orient?a.area("y")-b:a.area("y2");return a.svg.group({},function(){a.svg.rect({width:a.area("width"),height:b,fill:a.theme("scrollBackgroundColor")});var c=a.svg.rect({width:f,height:b-2,fill:a.theme("scrollThumbBackgroundColor"),stroke:a.theme("scrollThumbBorderColor"),cursor:"pointer","stroke-width":1}).translate(g,1);d(c)}).translate(a.area("x"),e)}};return b.setup=function(){return{orient:"bottom"}},b},"chart.widget.core"),jui.define("chart.widget.vscroll",["util.base"],function(a){var b=function(a,b,c){function d(b){function c(a){j&&b.element!=a.target||(j=!0,m=a.bgY,n=g)}function d(c){if(j){var d=n+c.bgY-m;0>d?d=0:d+f>a.area("height")&&(d=a.area("height")-f),b.translate(1,d),g=d;var e=d*l,i=0==e?0:Math.floor(e/k);d+f==a.area("height")&&(i+=1);for(var p=0;p<o.length;p++)o[p].zoom(i,i+h);a.isRender()||a.render()}}function i(a){j&&(j=!1,m=0,n=0)}var j=!1,m=0,n=0,o=a.axis();e.on("bg.mousedown",c),e.on("chart.mousedown",c),e.on("bg.mousemove",d),e.on("bg.mouseup",i),e.on("chart.mousemove",d),e.on("chart.mouseup",i)}var e=this,f=0,g=0,h=0,i=0,j=0,k=0,l=0;this.drawBefore=function(){i=b.origin.length,h=b.buffer,k=a.area("height")/h,j=k*i,l=j/a.area("height"),f=a.area("height")*(h/i)+2},this.draw=function(){var b=a.theme("scrollBackgroundSize"),e="right"==c.orient?a.area("x2"):a.area("x")-b;return a.svg.group({},function(){a.svg.rect({width:b,height:a.area("height"),fill:a.theme("scrollBackgroundColor")});var c=a.svg.rect({width:b-2,height:f,fill:a.theme("scrollThumbBackgroundColor"),stroke:a.theme("scrollThumbBorderColor"),cursor:"pointer","stroke-width":1}).translate(1,g);d(c)}).translate(e,a.area("y"))}};return b.setup=function(){return{orient:"left"}},b},"chart.widget.core"),jui.define("chart.widget.cross",["util.base"],function(a){var b=function(b,c,d){function e(a,b,c){if(!q[a]){var d=document.createElementNS("http://www.w3.org/2000/svg","tspan");b.element.appendChild(d),q[a]=d}q[a].textContent=c}var f,g,h,i,j,k=this,l=50,m=18,n=l/10,o=0,p=0,q=[];this.drawBefore=function(){c=this.chart.axis(d.axis),o=b.padding("left")+c.area("x"),p=b.padding("top")+c.area("y"),f=b.svg.group({visibility:"hidden"},function(){a.typeCheck("function",d.yFormat)&&(g=b.svg.line({x1:0,y1:0,x2:c.area("width"),y2:0,stroke:b.theme("crossBorderColor"),"stroke-width":b.theme("crossBorderWidth"),opacity:b.theme("crossBorderOpacity")}),j=b.svg.group({},function(){b.svg.polygon({fill:b.theme("crossBalloonBackgroundColor"),"fill-opacity":b.theme("crossBalloonBackgroundOpacity"),points:k.balloonPoints("left",l,m,n)}),b.text({"font-size":b.theme("crossBalloonFontSize"),fill:b.theme("crossBalloonFontColor"),"text-anchor":"middle",x:l/2,y:12})}).translate(-(l+n),0)),a.typeCheck("function",d.xFormat)&&(h=b.svg.line({x1:0,y1:0,x2:0,y2:c.area("height"),stroke:b.theme("crossBorderColor"),"stroke-width":b.theme("crossBorderWidth"),opacity:b.theme("crossBorderOpacity")}),i=b.svg.group({},function(){b.svg.polygon({fill:b.theme("crossBalloonBackgroundColor"),"fill-opacity":b.theme("crossBalloonBackgroundOpacity"),points:k.balloonPoints("bottom",l,m,n)}),b.text({"font-size":b.theme("crossBalloonFontSize"),fill:b.theme("crossBalloonFontColor"),"text-anchor":"middle",x:l/2,y:17})}).translate(0,c.area("height")+n))}).translate(o,p)},this.draw=function(){return this.on("axis.mouseover",function(a){f.attr({visibility:"visible"})},d.axis),this.on("axis.mouseout",function(a){f.attr({visibility:"hidden"})},d.axis),this.on("axis.mousemove",function(a){var b=a.bgX-o,f=a.bgY-p+2;if(g&&g.attr({y1:f,y2:f}),h&&h.attr({x1:b,x2:b}),j){j.translate(-(l+n),f-m/2);var q=c.y.invert(a.chartY),r=d.yFormat.call(k.chart,q);e(0,j.get(1),r)}if(i){i.translate(b-l/2,c.area("height")+n);var q=c.x.invert(a.chartX),r=d.xFormat.call(k.chart,q);e(1,i.get(1),r)}},d.axis),f}};return b.setup=function(){return{axis:0,xFormat:null,yFormat:null}},b},"chart.widget.core"),jui.define("chart.widget.topologyctrl",["util.base"],function(a){var b=function(b,c,d){function e(){function d(b){a.typeCheck("string",i)&&(i=null)}l.on("chart.mousemove",function(d){if(a.typeCheck("string",i)){var e=c.c(i);e.setX(j+(d.chartX-j)),e.setY(k+(d.chartY-k)),m===!1&&(setTimeout(function(){b.render(),h(),m=!1},70),m=!0)}}),l.on("chart.mouseup",d),l.on("bg.mouseup",d),l.on("bg.mouseout",d)}function f(){$(b.root).bind("mousewheel DOMMouseScroll",function(a){return a.originalEvent.wheelDelta>0||a.originalEvent.detail<0?2>n&&(n+=.1):n>.5&&(n-=.1),b.scale(n),!1})}function g(){function c(a){null!=d&&null!=e&&(d=null,e=null)}var d=null,e=null;l.on("chart.mousedown",function(b){a.typeCheck("string",i)||null==d&&null==e&&(d=o+b.x,e=p+b.y)}),l.on("chart.mousemove",function(a){if(null!=d&&null!=e){var c=b.view(d-a.x,e-a.y);o=c.x,p=c.y}}),l.on("chart.mouseup",c),l.on("bg.mouseup",c),l.on("bg.mouseout",c)}function h(){b.svg.root.get(0).each(function(b,d){var e=d.attr("class");e&&-1!=e.indexOf("topologynode")&&d.each(function(b,d){var e=parseInt(d.attr("index"));if(!isNaN(e)){var f=c.data[e];!function(b){d.on("mousedown",function(d){if(!a.typeCheck("string",i)){var e=c.c(b);i=b,j=e.x,k=e.y,e.moveLast()}})}(l.axis.getValue(f,"key"))}})})}var i,j,k,l=this,m=!1,n=1,o=0,p=0;this.draw=function(){return d.zoom&&f(),d.move&&(g(),b.svg.root.attr({cursor:"move"})),e(),h(),b.svg.group()}};return b.setup=function(){return{move:!1,zoom:!1}},b},"chart.widget.core"),jui.define("chart.widget.map.core",[],function(){var a=function(a,b,c){};return a.setup=function(){return{axis:0}},a},"chart.widget.core"),jui.define("chart.widget.map.control",["util.base"],function(a){var b=21.5,c=149,d=function(a,d,e){function f(b,c,d,e,f){return t[b]=a.svg.group({cursor:null!=f?"pointer":"move"},function(){a.svg.rect({x:.5,y:.5,width:20,height:20,rx:2,ry:2,stroke:0,fill:a.theme("mapControlButtonColor"),"fill-opacity":c}),null!=f&&a.svg.image({x:4.5,y:4.5,width:11,height:11,"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":f,opacity:.6})}).translate(d,e),t[b]}function g(){return a.svg.group({},function(){for(var b=0;6>b;b++){var c=22*b;a.svg.path({fill:"none","stroke-width":1,"stroke-opacity":.6,stroke:a.theme("mapControlScrollLineColor")}).MoveTo(1.5,41.5+c).LineTo(18.5,41.5+c)}})}function h(a){var d=c-r*((a-e.minScale)/.1);return b>d?b:d>c?c:d}function i(a){return parseFloat((e.minScale+(c-a)/r*.1).toFixed(1))}function j(){function a(){d.updateMap({scale:l,viewX:m,viewY:n}),d.map.view(m,n)}function b(){d.updateMap({scale:l,viewX:m,viewY:n}),q=h(l),d.map.scale(l),t.thumb.translate(0,q)}var c=m,f=n;t.top.on("click",function(b){n-=p,a()}),t.right.on("click",function(b){m+=o,a()}),t.bottom.on("click",function(b){n+=p,a()}),t.left.on("click",function(b){m-=o,a()}),t.home.on("click",function(b){m=c,n=f,a()}),t.up.on("click",function(a){l>e.maxScale||(l+=.1,b())}),t.down.on("click",function(a){l-.09<e.minScale||(l-=.1,b())})}function k(a){function e(a){if(0!=g){var e=q+a.y-g;e>=b&&c>=e&&(j=a.y-g,l=i(e),d.updateMap({scale:l,viewX:m,viewY:n}),d.map.scale(l),t.thumb.translate(0,h(l)))}}function f(a){0!=g&&(g=0,q+=j)}var g=0,j=0;t.thumb.on("mousedown",function(a){g>0||(g=a.y)}),t.thumb.on("mousemove",e),a.on("mousemove",e),t.thumb.on("mouseup",f),a.on("mouseup",f),a.on("mouseout",f)}var l=1,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t={top:null,right:null,bottom:null,left:null,home:null,up:null,down:null,thumb:null};this.drawBefore=function(){l=d.map.scale(),m=d.map.view().x,n=d.map.view().y,o=d.map.size().width/10,p=d.map.size().height/10,s=10*(e.maxScale-e.minScale),r=(c-b)/s,q=h(l)},this.draw=function(){var b=a.svg.group({},function(){var b=a.svg.group(),c=a.svg.group().translate(20,80),d=a.svg.rect({x:.5,y:.5,width:26,height:196,rx:4,ry:4,stroke:0,fill:a.theme("mapControlScrollColor"),"fill-opacity":.15}).translate(-3,-3);b.append(f("left",.8,0,20,"data:image/gif;base64,R0lGODlhCwALAPABAP///wAAACH5BAUAAAEALAAAAAALAAsAAAIQjI9poMcdXpOKTujw0pGjAgA7")),b.append(f("right",.8,40,20,"data:image/gif;base64,R0lGODlhCwALAPABAP///wAAACH5BAUAAAEALAAAAAALAAsAAAIQjI8JycvonomSKhksxBqbAgA7")),b.append(f("top",.8,20,0,"data:image/gif;base64,R0lGODlhCwALAPABAP///wAAACH5BAUAAAEALAAAAAALAAsAAAIQjI+pCmvd2IkzUYqw27yfAgA7")),b.append(f("bottom",.8,20,40,"data:image/gif;base64,R0lGODlhCwALAPABAP///wAAACH5BAUAAAEALAAAAAALAAsAAAIQjI+pyw37TDxTUhhq0q2fAgA7")),b.append(f("home",0,20,20,"data:image/gif;base64,R0lGODlhCwALAPABAAAAAAAAACH5BAUAAAEALAAAAAALAAsAAAIZjI8ZoAffIERzMVMxm+9KvIBh6Imb2aVMAQA7")),c.append(d),c.append(g()),c.append(f("up",.8,0,0,"data:image/gif;base64,R0lGODlhCwALAPABAP///wAAACH5BAUAAAEALAAAAAALAAsAAAISjI8ZoMhtHpQH2HsV1TD29SkFADs=")),c.append(f("down",.8,0,170,"data:image/gif;base64,R0lGODlhCwALAPABAP///wAAACH5BAUAAAEALAAAAAALAAsAAAIMjI+py+0BopSv2qsKADs=")),c.append(f("thumb",.8,0,q)),j(),k(d)}),c=e.orient,h=e.align,i=e.dx,l=e.dy,m=d.area("x2"),n=d.area("y2");return"bottom"==c&&"start"==h?b.translate(i,n-(273+l)):"bottom"==c&&"end"==h?b.translate(m-(60+i),n-(273+l)):"top"==c&&"end"==h?b.translate(m-(60+i),l):b.translate(i,l),b}};return d.setup=function(){return{orient:"top",align:"start",minScale:1,maxScale:3,dx:5,dy:5}},d},"chart.widget.map.core"),jui.define("chart.widget.map.tooltip",["util.base"],function(a){var b=function(b,c,d){function e(b){return a.typeCheck("function",d.format)?j.format(b):b.id}function f(b){var c=e(b);return"bottom"==d.orient&&h.attr({y:m+l}),a.typeCheck("string",c)&&""!=c&&(h.text(c),h.attr({"text-anchor":"middle"})),c}var g,h,i,j=this,k=7,l=7,m=14;this.drawBefore=function(){g=b.svg.group({visibility:"hidden"},function(){i=b.svg.polygon({fill:b.theme("tooltipBackgroundColor"),"fill-opacity":b.theme("tooltipBackgroundOpacity"),stroke:b.theme("tooltipBorderColor"),"stroke-width":1}),h=b.text({"font-size":b.theme("tooltipFontSize"),fill:b.theme("tooltipFontColor"),y:m})})},this.draw=function(){var a,b,c=!1;return this.on("map.mouseover",function(e,m){if(f(e)){var n=h.size();a=n.width+2*k,b=n.height+k,h.attr({x:a/2}),i.attr({points:j.balloonPoints(d.orient,a,b,l)}),g.attr({visibility:"visible"}),c=!0}}),this.on("map.mousemove",function(e,f){if(c){var h=f.bgX-a/2,i=f.bgY-b-l-k/2;("left"==d.orient||"right"==d.orient)&&(i=f.bgY-b/2-k/2),"left"==d.orient?h=f.bgX-a-l:"right"==d.orient?h=f.bgX+l:"bottom"==d.orient&&(i=f.bgY+2*l),g.translate(h,i)}}),this.on("map.mouseout",function(a,b){c&&(g.attr({visibility:"hidden"}),c=!1)}),g}};return b},"chart.widget.tooltip"),jui.defineUI("chartx.realtime",["jquery","util.base","util.time","chart.builder"],function(a,b,c,d){var e=function(){function e(a){for(var b=a.options,c=f(a),d=0;d<j.length&&j[d][b.axis.key].getTime()<=c[0].getTime();d++)j.splice(d,1);h.updateGrid("x",{domain:c}),h.update(j)}function f(a){var b=new Date,d=c.add(b,c.minutes,-a.options.period);return[d,b]}function g(b){var c={},d=["interval","period","axis"];for(var e in b.options)-1==a.inArray(e,d)&&(c[e]=b.options[e]);return c}var h=null,i=null,j=[];this.init=function(){var a=this.options,e=b.typeCheck("array",a.brush)?a.brush[0].target:a.brush.target,i=e;b.typeCheck("array",e)&&(i=function(a){return function(b){for(var c=[],d=0;d<a.length;d++)c.push(b[a[d]]);return c}}(e)),this.chart=d(this.selector,b.extend({axis:{x:{type:"date",domain:f(this),step:[c.minutes,a.axis.xstep],realtime:!0,format:a.axis.format,key:a.axis.key,line:a.axis.xline,hide:a.axis.xhide},y:{type:"range",domain:null!=a.axis.domain?a.axis.domain:i,step:a.axis.ystep,line:a.axis.yline,hide:a.axis.yhide},buffer:60*a.period}},g(this))),h=this.chart.get("axis",0),a.axis.data.length>0&&this.update(a.axis.data),this.start()},this.update=function(a){j=a,h.update(j)},this.clear=function(){j=[],h.update([])},this.reset=function(){this.clear(),this.stop()},this.append=function(a){var c=a;b.typeCheck("array",a)||(c=[a]),j=j.concat(c)},this.start=function(){if(null==i){var a=this;i=setInterval(function(){e(a)},1e3*this.options.interval)}},this.stop=function(){null!=i&&(clearInterval(i),i=null)}};return e.setup=function(){return{width:"100%",height:"100%",padding:{top:50,bottom:50,left:50,right:50},theme:"jennifer",style:{},series:{},brush:[],widget:[],axis:{domain:null,format:"hh:mm",key:"time",xstep:1,ystep:10,xline:!0,yline:!0,xhide:!1,yhide:!1,data:[]},interval:1,period:5}},e}),jui.define("chartx.mini",["jquery","chart.builder"],function(a,b){var c=function(c,d,e){e=e||{type:"column"},"string"==typeof e&&(e={type:e}),e.type=e.type||"column";var f=d;a(c).each(function(){if(a(this).data("type")&&(e.type=a(this).data("type")),"html"==f){a(this).attr("data",a(this).text()),d=(a(this).text()||a(this).attr("data")).split(",");for(var c=0;c<d.length;c++)d[c]=parseFloat(d[c]);a(this).empty()}for(var g=[],h=[],i=[{}],c=0;c<d.length;c++)g.push({key:d[c]}),h.push("key"+c),i[0]["key"+c]=d[c];var j=g,k="key";("pie"==e.type||"donut"==e.type)&&(j=i,k=!1);var l=a.extend(!0,{padding:0,height:18,axis:{data:j,x:{type:"block",domain:h,hide:!0,full:"column"!=e.type},y:{type:"range",domain:"key",hide:!0},c:{type:"panel",hide:!0}},brush:{type:"column",target:k}},{brush:e});b(this,l)})};return c});