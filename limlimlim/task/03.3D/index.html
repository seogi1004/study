<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>

        #container{
            width: 800px;
        }
        #container > canvas{
            background-color: whitesmoke;
        }
    </style>
</head>
<body>

<div id="container">
    <canvas id="canvas" width="650" height="550"></canvas>
</div>

<script src="data/teapot.js"></script>
<script src="src/world.js" ></script>
<script src="src/model.js" ></script>
<script src="src/polygon.js" ></script>
<script src="src/vertex.js" ></script>
<script src="src/matrix.js" ></script>
<script>
    var canvas = document.getElementById( 'canvas');
    var world = new window.World( canvas );
    world.append( 'teapot1',teapot );

    var centerX = canvas.width/2;
    var centerY = canvas.height/2;
    var teapot1 = world.getModel( 'teapot1');
    var scale = 100;
    teapot1.scale( scale,scale,scale ).translate( centerX, centerY, 0);
    world.render();
    var angle = 0;
    var timer;
    var speed1 = Math.random() * 0.05 + 0.01
    var speed2 = Math.random() * 0.05 + 0.01
    var speed3 = Math.random() * 0.05 + 0.01
    var startTime = +new Date();
    var isZooming = true;
    function start(){
        timer = setInterval( function(){
            if( isZooming ){
                var now = +new Date()
                if( now - startTime < 15000 ){
                    teapot1.translate( -centerX, -centerY, 0).rotateY( speed1 ).rotateX( speed2 ).rotateZ( speed3 ).scale( 0.981,0.981,0.981 ).translate( centerX, centerY, 0);
                }else{
                    isZooming = false;
                    teapot1.translate( -centerX, -centerY, 0).rotateY( speed1 ).rotateX( speed2 ).rotateZ( speed3 ).translate( centerX, centerY, 0);
                }
            }else{
                teapot1.translate( -centerX, -centerY, 0).rotateY( speed1 ).rotateX( speed2 ).rotateZ( speed3 ).translate( centerX, centerY, 0);
            }

            world.render();
        }, 60 )
    }

    function stop(){
       clearInterval( timer );
    }

    start();

</script>
</body>
</html>