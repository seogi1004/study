<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="../lib/jquery-1.8.0.min.js"></script>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <style>
    #chart {
        width : 500px;
        height: 500px;
    }
    </style>
   
    <script type="text/javascript">

        var count = 0, startX = 0, startY = 0, radius = 0;
        var svgContainer = null;

       $(document).ready(function(){

            $("#btnStart").click(function(){
                initSvg();
                drawDNA();
                //drawTrigonometric('sin');
                //drawTrigonometric('cos');
            });
       })
       function initSvg(){
            var width = 500, height = 100;
            count = 360,
            startX = 10,
            startY = height/2,
            radius = 1;
            svgContainer = d3.select("body").append("svg")
                                        .attr("width", width)
                                        .attr("height", height);

       }

       function drawDNA(){
            var fps = 10, circles;
            var seq = 0, degree = 0, radian = 0;
            var unit = 360/count;


            var callback = setInterval(function() {
                
                /*
                if(seq == 360)
                    clearInterval(callback);
                */
                              
                degree = unit * seq//(seq%count);
                radian = degree * Math.PI / 180;

                


                var x = startX+(radian)*10;
                var sin_y = startY - Math.sin(radian)*10;
                var cos_y = startY - Math.cos(radian)*10;

                if(seq%30 == 0)
                console.log( seq + "번째 -> degree : " + degree + " radian : " + radian + " f(x) = " + Math.sin(radian));             

                svgContainer.append("circle")
                            .attr("cx", x)
                            .attr("cy", sin_y)
                            .attr("r", radius)
                            .attr("fill", 'green');
                
                svgContainer.append("circle")
                            .attr("cx", x)
                            .attr("cy", cos_y)
                            .attr("r", radius)
                            .attr("fill", 'hotpink');

                if(seq%30 == 0){
                    svgContainer.append("line")
                            .attr("x1", x)
                            .attr("y1", sin_y).attr("x2", x)
                            .attr("y2", cos_y)
                            .attr("stroke", 'blue');
                }
                



                
                seq++;

                //console.log("반지름 : " + bigRadius + ", " + seq + " : " + degree + "도 =>" + data[seq]);

                

            }, fps);

       }

    </script>
    
</head>

<body>


<button id="btnStart">Start</button>

</body>
</html>